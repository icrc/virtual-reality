function _mergeNamespaces(l,a){for(var o=0;o<a.length;o++){const u=a[o];if(typeof u!="string"&&!Array.isArray(u)){for(const s in u)if(s!=="default"&&!(s in l)){const c=Object.getOwnPropertyDescriptor(u,s);c&&Object.defineProperty(l,s,c.get?c:{enumerable:!0,get:()=>u[s]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function o(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(s){if(s.ep)return;s.ep=!0;const c=o(s);fetch(s.href,c)}})();/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(l){const a=Object.create(null);for(const o of l.split(","))a[o]=1;return o=>o in a}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=l=>l.charCodeAt(0)===111&&l.charCodeAt(1)===110&&(l.charCodeAt(2)>122||l.charCodeAt(2)<97),isModelListener=l=>l.startsWith("onUpdate:"),extend$1=Object.assign,remove=(l,a)=>{const o=l.indexOf(a);o>-1&&l.splice(o,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(l,a)=>hasOwnProperty$1.call(l,a),isArray$1=Array.isArray,isMap=l=>toTypeString(l)==="[object Map]",isSet=l=>toTypeString(l)==="[object Set]",isDate=l=>toTypeString(l)==="[object Date]",isFunction$2=l=>typeof l=="function",isString=l=>typeof l=="string",isSymbol=l=>typeof l=="symbol",isObject$2=l=>l!==null&&typeof l=="object",isPromise$1=l=>(isObject$2(l)||isFunction$2(l))&&isFunction$2(l.then)&&isFunction$2(l.catch),objectToString=Object.prototype.toString,toTypeString=l=>objectToString.call(l),toRawType=l=>toTypeString(l).slice(8,-1),isPlainObject$1=l=>toTypeString(l)==="[object Object]",isIntegerKey=l=>isString(l)&&l!=="NaN"&&l[0]!=="-"&&""+parseInt(l,10)===l,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=l=>{const a=Object.create(null);return o=>a[o]||(a[o]=l(o))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(l=>l.replace(camelizeRE,(a,o)=>o?o.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(l=>l.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(l=>l.charAt(0).toUpperCase()+l.slice(1)),toHandlerKey=cacheStringFunction(l=>l?`on${capitalize(l)}`:""),hasChanged=(l,a)=>!Object.is(l,a),invokeArrayFns=(l,...a)=>{for(let o=0;o<l.length;o++)l[o](...a)},def=(l,a,o,u=!1)=>{Object.defineProperty(l,a,{configurable:!0,enumerable:!1,writable:u,value:o})},looseToNumber=l=>{const a=parseFloat(l);return isNaN(a)?l:a},toNumber=l=>{const a=isString(l)?Number(l):NaN;return isNaN(a)?l:a};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(l){if(isArray$1(l)){const a={};for(let o=0;o<l.length;o++){const u=l[o],s=isString(u)?parseStringStyle(u):normalizeStyle(u);if(s)for(const c in s)a[c]=s[c]}return a}else if(isString(l)||isObject$2(l))return l}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(l){const a={};return l.replace(styleCommentRE,"").split(listDelimiterRE).forEach(o=>{if(o){const u=o.split(propertyDelimiterRE);u.length>1&&(a[u[0].trim()]=u[1].trim())}}),a}function normalizeClass(l){let a="";if(isString(l))a=l;else if(isArray$1(l))for(let o=0;o<l.length;o++){const u=normalizeClass(l[o]);u&&(a+=u+" ")}else if(isObject$2(l))for(const o in l)l[o]&&(a+=o+" ");return a.trim()}function normalizeProps(l){if(!l)return null;let{class:a,style:o}=l;return a&&!isString(a)&&(l.class=normalizeClass(a)),o&&(l.style=normalizeStyle(o)),l}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(l){return!!l||l===""}function looseCompareArrays(l,a){if(l.length!==a.length)return!1;let o=!0;for(let u=0;o&&u<l.length;u++)o=looseEqual(l[u],a[u]);return o}function looseEqual(l,a){if(l===a)return!0;let o=isDate(l),u=isDate(a);if(o||u)return o&&u?l.getTime()===a.getTime():!1;if(o=isSymbol(l),u=isSymbol(a),o||u)return l===a;if(o=isArray$1(l),u=isArray$1(a),o||u)return o&&u?looseCompareArrays(l,a):!1;if(o=isObject$2(l),u=isObject$2(a),o||u){if(!o||!u)return!1;const s=Object.keys(l).length,c=Object.keys(a).length;if(s!==c)return!1;for(const d in l){const f=l.hasOwnProperty(d),m=a.hasOwnProperty(d);if(f&&!m||!f&&m||!looseEqual(l[d],a[d]))return!1}}return String(l)===String(a)}function looseIndexOf(l,a){return l.findIndex(o=>looseEqual(o,a))}const isRef$1=l=>!!(l&&l.__v_isRef===!0),toDisplayString=l=>isString(l)?l:l==null?"":isArray$1(l)||isObject$2(l)&&(l.toString===objectToString||!isFunction$2(l.toString))?isRef$1(l)?toDisplayString(l.value):JSON.stringify(l,replacer,2):String(l),replacer=(l,a)=>isRef$1(a)?replacer(l,a.value):isMap(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((o,[u,s],c)=>(o[stringifySymbol(u,c)+" =>"]=s,o),{})}:isSet(a)?{[`Set(${a.size})`]:[...a.values()].map(o=>stringifySymbol(o))}:isSymbol(a)?stringifySymbol(a):isObject$2(a)&&!isArray$1(a)&&!isPlainObject$1(a)?String(a):a,stringifySymbol=(l,a="")=>{var o;return isSymbol(l)?`Symbol(${(o=l.description)!=null?o:a})`:l};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(a=!1){this.detached=a,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!a&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let a,o;if(this.scopes)for(a=0,o=this.scopes.length;a<o;a++)this.scopes[a].pause();for(a=0,o=this.effects.length;a<o;a++)this.effects[a].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let a,o;if(this.scopes)for(a=0,o=this.scopes.length;a<o;a++)this.scopes[a].resume();for(a=0,o=this.effects.length;a<o;a++)this.effects[a].resume()}}run(a){if(this._active){const o=activeEffectScope;try{return activeEffectScope=this,a()}finally{activeEffectScope=o}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(a){if(this._active){let o,u;for(o=0,u=this.effects.length;o<u;o++)this.effects[o].stop();for(o=0,u=this.cleanups.length;o<u;o++)this.cleanups[o]();if(this.scopes)for(o=0,u=this.scopes.length;o<u;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!a){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(l){return new EffectScope(l)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(l,a=!1){activeEffectScope&&activeEffectScope.cleanups.push(l)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(a){this.fn=a,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const a=activeSub,o=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=a,shouldTrack=o,this.flags&=-3}}stop(){if(this.flags&1){for(let a=this.deps;a;a=a.nextDep)removeSub(a);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(l,a=!1){if(l.flags|=8,a){l.next=batchedComputed,batchedComputed=l;return}l.next=batchedSub,batchedSub=l}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let a=batchedComputed;for(batchedComputed=void 0;a;){const o=a.next;a.next=void 0,a.flags&=-9,a=o}}let l;for(;batchedSub;){let a=batchedSub;for(batchedSub=void 0;a;){const o=a.next;if(a.next=void 0,a.flags&=-9,a.flags&1)try{a.trigger()}catch(u){l||(l=u)}a=o}}if(l)throw l}function prepareDeps(l){for(let a=l.deps;a;a=a.nextDep)a.version=-1,a.prevActiveLink=a.dep.activeLink,a.dep.activeLink=a}function cleanupDeps(l){let a,o=l.depsTail,u=o;for(;u;){const s=u.prevDep;u.version===-1?(u===o&&(o=s),removeSub(u),removeDep(u)):a=u,u.dep.activeLink=u.prevActiveLink,u.prevActiveLink=void 0,u=s}l.deps=a,l.depsTail=o}function isDirty(l){for(let a=l.deps;a;a=a.nextDep)if(a.dep.version!==a.version||a.dep.computed&&(refreshComputed(a.dep.computed)||a.dep.version!==a.version))return!0;return!!l._dirty}function refreshComputed(l){if(l.flags&4&&!(l.flags&16)||(l.flags&=-17,l.globalVersion===globalVersion))return;l.globalVersion=globalVersion;const a=l.dep;if(l.flags|=2,a.version>0&&!l.isSSR&&l.deps&&!isDirty(l)){l.flags&=-3;return}const o=activeSub,u=shouldTrack;activeSub=l,shouldTrack=!0;try{prepareDeps(l);const s=l.fn(l._value);(a.version===0||hasChanged(s,l._value))&&(l._value=s,a.version++)}catch(s){throw a.version++,s}finally{activeSub=o,shouldTrack=u,cleanupDeps(l),l.flags&=-3}}function removeSub(l,a=!1){const{dep:o,prevSub:u,nextSub:s}=l;if(u&&(u.nextSub=s,l.prevSub=void 0),s&&(s.prevSub=u,l.nextSub=void 0),o.subs===l&&(o.subs=u),!o.subs&&o.computed){o.computed.flags&=-5;for(let c=o.computed.deps;c;c=c.nextDep)removeSub(c,!0)}!a&&!--o.sc&&o.map&&o.map.delete(o.key)}function removeDep(l){const{prevDep:a,nextDep:o}=l;a&&(a.nextDep=o,l.prevDep=void 0),o&&(o.prevDep=a,l.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const l=trackStack.pop();shouldTrack=l===void 0?!0:l}function cleanupEffect(l){const{cleanup:a}=l;if(l.cleanup=void 0,a){const o=activeSub;activeSub=void 0;try{a()}finally{activeSub=o}}}let globalVersion=0;class Link{constructor(a,o){this.sub=a,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(a){this.computed=a,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(a){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==activeSub)o=this.activeLink=new Link(activeSub,this),activeSub.deps?(o.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=o,activeSub.depsTail=o):activeSub.deps=activeSub.depsTail=o,addSub(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){const u=o.nextDep;u.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=u),o.prevDep=activeSub.depsTail,o.nextDep=void 0,activeSub.depsTail.nextDep=o,activeSub.depsTail=o,activeSub.deps===o&&(activeSub.deps=u)}return o}trigger(a){this.version++,globalVersion++,this.notify(a)}notify(a){startBatch();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{endBatch()}}}function addSub(l){if(l.dep.sc++,l.sub.flags&4){const a=l.dep.computed;if(a&&!l.dep.subs){a.flags|=20;for(let u=a.deps;u;u=u.nextDep)addSub(u)}const o=l.dep.subs;o!==l&&(l.prevSub=o,o&&(o.nextSub=l)),l.dep.subs=l}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(l,a,o){if(shouldTrack&&activeSub){let u=targetMap.get(l);u||targetMap.set(l,u=new Map);let s=u.get(o);s||(u.set(o,s=new Dep),s.map=u,s.key=o),s.track()}}function trigger$1(l,a,o,u,s,c){const d=targetMap.get(l);if(!d){globalVersion++;return}const f=m=>{m&&m.trigger()};if(startBatch(),a==="clear")d.forEach(f);else{const m=isArray$1(l),g=m&&isIntegerKey(o);if(m&&o==="length"){const v=Number(u);d.forEach((y,_)=>{(_==="length"||_===ARRAY_ITERATE_KEY||!isSymbol(_)&&_>=v)&&f(y)})}else switch(o!==void 0&&f(d.get(o)),g&&f(d.get(ARRAY_ITERATE_KEY)),a){case"add":m?g&&f(d.get("length")):(f(d.get(ITERATE_KEY)),isMap(l)&&f(d.get(MAP_KEY_ITERATE_KEY)));break;case"delete":m||(f(d.get(ITERATE_KEY)),isMap(l)&&f(d.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(l)&&f(d.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(l,a){const o=targetMap.get(l);return o&&o.get(a)}function reactiveReadArray(l){const a=toRaw(l);return a===l?a:(track(a,"iterate",ARRAY_ITERATE_KEY),isShallow(l)?a:a.map(toReactive))}function shallowReadArray(l){return track(l=toRaw(l),"iterate",ARRAY_ITERATE_KEY),l}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...l){return reactiveReadArray(this).concat(...l.map(a=>isArray$1(a)?reactiveReadArray(a):a))},entries(){return iterator(this,"entries",l=>(l[1]=toReactive(l[1]),l))},every(l,a){return apply(this,"every",l,a,void 0,arguments)},filter(l,a){return apply(this,"filter",l,a,o=>o.map(toReactive),arguments)},find(l,a){return apply(this,"find",l,a,toReactive,arguments)},findIndex(l,a){return apply(this,"findIndex",l,a,void 0,arguments)},findLast(l,a){return apply(this,"findLast",l,a,toReactive,arguments)},findLastIndex(l,a){return apply(this,"findLastIndex",l,a,void 0,arguments)},forEach(l,a){return apply(this,"forEach",l,a,void 0,arguments)},includes(...l){return searchProxy(this,"includes",l)},indexOf(...l){return searchProxy(this,"indexOf",l)},join(l){return reactiveReadArray(this).join(l)},lastIndexOf(...l){return searchProxy(this,"lastIndexOf",l)},map(l,a){return apply(this,"map",l,a,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...l){return noTracking(this,"push",l)},reduce(l,...a){return reduce$1(this,"reduce",l,a)},reduceRight(l,...a){return reduce$1(this,"reduceRight",l,a)},shift(){return noTracking(this,"shift")},some(l,a){return apply(this,"some",l,a,void 0,arguments)},splice(...l){return noTracking(this,"splice",l)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(l){return reactiveReadArray(this).toSorted(l)},toSpliced(...l){return reactiveReadArray(this).toSpliced(...l)},unshift(...l){return noTracking(this,"unshift",l)},values(){return iterator(this,"values",toReactive)}};function iterator(l,a,o){const u=shallowReadArray(l),s=u[a]();return u!==l&&!isShallow(l)&&(s._next=s.next,s.next=()=>{const c=s._next();return c.value&&(c.value=o(c.value)),c}),s}const arrayProto=Array.prototype;function apply(l,a,o,u,s,c){const d=shallowReadArray(l),f=d!==l&&!isShallow(l),m=d[a];if(m!==arrayProto[a]){const y=m.apply(l,c);return f?toReactive(y):y}let g=o;d!==l&&(f?g=function(y,_){return o.call(this,toReactive(y),_,l)}:o.length>2&&(g=function(y,_){return o.call(this,y,_,l)}));const v=m.call(d,g,u);return f&&s?s(v):v}function reduce$1(l,a,o,u){const s=shallowReadArray(l);let c=o;return s!==l&&(isShallow(l)?o.length>3&&(c=function(d,f,m){return o.call(this,d,f,m,l)}):c=function(d,f,m){return o.call(this,d,toReactive(f),m,l)}),s[a](c,...u)}function searchProxy(l,a,o){const u=toRaw(l);track(u,"iterate",ARRAY_ITERATE_KEY);const s=u[a](...o);return(s===-1||s===!1)&&isProxy(o[0])?(o[0]=toRaw(o[0]),u[a](...o)):s}function noTracking(l,a,o=[]){pauseTracking(),startBatch();const u=toRaw(l)[a].apply(l,o);return endBatch(),resetTracking(),u}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(l=>l!=="arguments"&&l!=="caller").map(l=>Symbol[l]).filter(isSymbol));function hasOwnProperty(l){isSymbol(l)||(l=String(l));const a=toRaw(this);return track(a,"has",l),a.hasOwnProperty(l)}class BaseReactiveHandler{constructor(a=!1,o=!1){this._isReadonly=a,this._isShallow=o}get(a,o,u){const s=this._isReadonly,c=this._isShallow;if(o==="__v_isReactive")return!s;if(o==="__v_isReadonly")return s;if(o==="__v_isShallow")return c;if(o==="__v_raw")return u===(s?c?shallowReadonlyMap:readonlyMap:c?shallowReactiveMap:reactiveMap).get(a)||Object.getPrototypeOf(a)===Object.getPrototypeOf(u)?a:void 0;const d=isArray$1(a);if(!s){let m;if(d&&(m=arrayInstrumentations[o]))return m;if(o==="hasOwnProperty")return hasOwnProperty}const f=Reflect.get(a,o,isRef(a)?a:u);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(s||track(a,"get",o),c)?f:isRef(f)?d&&isIntegerKey(o)?f:f.value:isObject$2(f)?s?readonly(f):reactive(f):f}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(a=!1){super(!1,a)}set(a,o,u,s){let c=a[o];if(!this._isShallow){const m=isReadonly(c);if(!isShallow(u)&&!isReadonly(u)&&(c=toRaw(c),u=toRaw(u)),!isArray$1(a)&&isRef(c)&&!isRef(u))return m?!1:(c.value=u,!0)}const d=isArray$1(a)&&isIntegerKey(o)?Number(o)<a.length:hasOwn(a,o),f=Reflect.set(a,o,u,isRef(a)?a:s);return a===toRaw(s)&&(d?hasChanged(u,c)&&trigger$1(a,"set",o,u):trigger$1(a,"add",o,u)),f}deleteProperty(a,o){const u=hasOwn(a,o);a[o];const s=Reflect.deleteProperty(a,o);return s&&u&&trigger$1(a,"delete",o,void 0),s}has(a,o){const u=Reflect.has(a,o);return(!isSymbol(o)||!builtInSymbols.has(o))&&track(a,"has",o),u}ownKeys(a){return track(a,"iterate",isArray$1(a)?"length":ITERATE_KEY),Reflect.ownKeys(a)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(a=!1){super(!0,a)}set(a,o){return!0}deleteProperty(a,o){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=l=>l,getProto=l=>Reflect.getPrototypeOf(l);function get$1(l,a,o=!1,u=!1){l=l.__v_raw;const s=toRaw(l),c=toRaw(a);o||(hasChanged(a,c)&&track(s,"get",a),track(s,"get",c));const{has:d}=getProto(s),f=u?toShallow:o?toReadonly:toReactive;if(d.call(s,a))return f(l.get(a));if(d.call(s,c))return f(l.get(c));l!==s&&l.get(a)}function has(l,a=!1){const o=this.__v_raw,u=toRaw(o),s=toRaw(l);return a||(hasChanged(l,s)&&track(u,"has",l),track(u,"has",s)),l===s?o.has(l):o.has(l)||o.has(s)}function size(l,a=!1){return l=l.__v_raw,!a&&track(toRaw(l),"iterate",ITERATE_KEY),Reflect.get(l,"size",l)}function add(l,a=!1){!a&&!isShallow(l)&&!isReadonly(l)&&(l=toRaw(l));const o=toRaw(this);return getProto(o).has.call(o,l)||(o.add(l),trigger$1(o,"add",l,l)),this}function set$1(l,a,o=!1){!o&&!isShallow(a)&&!isReadonly(a)&&(a=toRaw(a));const u=toRaw(this),{has:s,get:c}=getProto(u);let d=s.call(u,l);d||(l=toRaw(l),d=s.call(u,l));const f=c.call(u,l);return u.set(l,a),d?hasChanged(a,f)&&trigger$1(u,"set",l,a):trigger$1(u,"add",l,a),this}function deleteEntry(l){const a=toRaw(this),{has:o,get:u}=getProto(a);let s=o.call(a,l);s||(l=toRaw(l),s=o.call(a,l)),u&&u.call(a,l);const c=a.delete(l);return s&&trigger$1(a,"delete",l,void 0),c}function clear(){const l=toRaw(this),a=l.size!==0,o=l.clear();return a&&trigger$1(l,"clear",void 0,void 0),o}function createForEach(l,a){return function(u,s){const c=this,d=c.__v_raw,f=toRaw(d),m=a?toShallow:l?toReadonly:toReactive;return!l&&track(f,"iterate",ITERATE_KEY),d.forEach((g,v)=>u.call(s,m(g),m(v),c))}}function createIterableMethod(l,a,o){return function(...u){const s=this.__v_raw,c=toRaw(s),d=isMap(c),f=l==="entries"||l===Symbol.iterator&&d,m=l==="keys"&&d,g=s[l](...u),v=o?toShallow:a?toReadonly:toReactive;return!a&&track(c,"iterate",m?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:y,done:_}=g.next();return _?{value:y,done:_}:{value:f?[v(y[0]),v(y[1])]:v(y),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(l){return function(...a){return l==="delete"?!1:l==="clear"?void 0:this}}function createInstrumentations(){const l={get(c){return get$1(this,c)},get size(){return size(this)},has,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},a={get(c){return get$1(this,c,!1,!0)},get size(){return size(this)},has,add(c){return add.call(this,c,!0)},set(c,d){return set$1.call(this,c,d,!0)},delete:deleteEntry,clear,forEach:createForEach(!1,!0)},o={get(c){return get$1(this,c,!0)},get size(){return size(this,!0)},has(c){return has.call(this,c,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},u={get(c){return get$1(this,c,!0,!0)},get size(){return size(this,!0)},has(c){return has.call(this,c,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{l[c]=createIterableMethod(c,!1,!1),o[c]=createIterableMethod(c,!0,!1),a[c]=createIterableMethod(c,!1,!0),u[c]=createIterableMethod(c,!0,!0)}),[l,o,a,u]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(l,a){const o=a?l?shallowReadonlyInstrumentations:shallowInstrumentations:l?readonlyInstrumentations:mutableInstrumentations;return(u,s,c)=>s==="__v_isReactive"?!l:s==="__v_isReadonly"?l:s==="__v_raw"?u:Reflect.get(hasOwn(o,s)&&s in u?o:u,s,c)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(l){switch(l){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(l){return l.__v_skip||!Object.isExtensible(l)?0:targetTypeMap(toRawType(l))}function reactive(l){return isReadonly(l)?l:createReactiveObject(l,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(l){return createReactiveObject(l,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(l){return createReactiveObject(l,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(l){return createReactiveObject(l,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(l,a,o,u,s){if(!isObject$2(l)||l.__v_raw&&!(a&&l.__v_isReactive))return l;const c=s.get(l);if(c)return c;const d=getTargetType(l);if(d===0)return l;const f=new Proxy(l,d===2?u:o);return s.set(l,f),f}function isReactive(l){return isReadonly(l)?isReactive(l.__v_raw):!!(l&&l.__v_isReactive)}function isReadonly(l){return!!(l&&l.__v_isReadonly)}function isShallow(l){return!!(l&&l.__v_isShallow)}function isProxy(l){return l?!!l.__v_raw:!1}function toRaw(l){const a=l&&l.__v_raw;return a?toRaw(a):l}function markRaw(l){return!hasOwn(l,"__v_skip")&&Object.isExtensible(l)&&def(l,"__v_skip",!0),l}const toReactive=l=>isObject$2(l)?reactive(l):l,toReadonly=l=>isObject$2(l)?readonly(l):l;function isRef(l){return l?l.__v_isRef===!0:!1}function ref(l){return createRef(l,!1)}function shallowRef(l){return createRef(l,!0)}function createRef(l,a){return isRef(l)?l:new RefImpl(l,a)}class RefImpl{constructor(a,o){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?a:toRaw(a),this._value=o?a:toReactive(a),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(a){const o=this._rawValue,u=this.__v_isShallow||isShallow(a)||isReadonly(a);a=u?a:toRaw(a),hasChanged(a,o)&&(this._rawValue=a,this._value=u?a:toReactive(a),this.dep.trigger())}}function unref(l){return isRef(l)?l.value:l}const shallowUnwrapHandlers={get:(l,a,o)=>a==="__v_raw"?l:unref(Reflect.get(l,a,o)),set:(l,a,o,u)=>{const s=l[a];return isRef(s)&&!isRef(o)?(s.value=o,!0):Reflect.set(l,a,o,u)}};function proxyRefs(l){return isReactive(l)?l:new Proxy(l,shallowUnwrapHandlers)}class CustomRefImpl{constructor(a){this.__v_isRef=!0,this._value=void 0;const o=this.dep=new Dep,{get:u,set:s}=a(o.track.bind(o),o.trigger.bind(o));this._get=u,this._set=s}get value(){return this._value=this._get()}set value(a){this._set(a)}}function customRef(l){return new CustomRefImpl(l)}function toRefs(l){const a=isArray$1(l)?new Array(l.length):{};for(const o in l)a[o]=propertyToRef(l,o);return a}class ObjectRefImpl{constructor(a,o,u){this._object=a,this._key=o,this._defaultValue=u,this.__v_isRef=!0,this._value=void 0}get value(){const a=this._object[this._key];return this._value=a===void 0?this._defaultValue:a}set value(a){this._object[this._key]=a}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(a){this._getter=a,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef(l,a,o){return isRef(l)?l:isFunction$2(l)?new GetterRefImpl(l):isObject$2(l)&&arguments.length>1?propertyToRef(l,a,o):ref(l)}function propertyToRef(l,a,o){const u=l[a];return isRef(u)?u:new ObjectRefImpl(l,a,o)}class ComputedRefImpl{constructor(a,o,u){this.fn=a,this.setter=o,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=u}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const a=this.dep.track();return refreshComputed(this),a&&(a.version=this.dep.version),this._value}set value(a){this.setter&&this.setter(a)}}function computed$1(l,a,o=!1){let u,s;return isFunction$2(l)?u=l:(u=l.get,s=l.set),new ComputedRefImpl(u,s,o)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(l,a=!1,o=activeWatcher){if(o){let u=cleanupMap.get(o);u||cleanupMap.set(o,u=[]),u.push(l)}}function watch$1(l,a,o=EMPTY_OBJ){const{immediate:u,deep:s,once:c,scheduler:d,augmentJob:f,call:m}=o,g=O=>s?O:isShallow(O)||s===!1||s===0?traverse(O,1):traverse(O);let v,y,_,b,x=!1,w=!1;if(isRef(l)?(y=()=>l.value,x=isShallow(l)):isReactive(l)?(y=()=>g(l),x=!0):isArray$1(l)?(w=!0,x=l.some(O=>isReactive(O)||isShallow(O)),y=()=>l.map(O=>{if(isRef(O))return O.value;if(isReactive(O))return g(O);if(isFunction$2(O))return m?m(O,2):O()})):isFunction$2(l)?a?y=m?()=>m(l,2):l:y=()=>{if(_){pauseTracking();try{_()}finally{resetTracking()}}const O=activeWatcher;activeWatcher=v;try{return m?m(l,3,[b]):l(b)}finally{activeWatcher=O}}:y=NOOP,a&&s){const O=y,B=s===!0?1/0:s;y=()=>traverse(O(),B)}const A=getCurrentScope(),D=()=>{v.stop(),A&&remove(A.effects,v)};if(c&&a){const O=a;a=(...B)=>{O(...B),D()}}let I=w?new Array(l.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const N=O=>{if(!(!(v.flags&1)||!v.dirty&&!O))if(a){const B=v.run();if(s||x||(w?B.some((M,j)=>hasChanged(M,I[j])):hasChanged(B,I))){_&&_();const M=activeWatcher;activeWatcher=v;try{const j=[B,I===INITIAL_WATCHER_VALUE?void 0:w&&I[0]===INITIAL_WATCHER_VALUE?[]:I,b];m?m(a,3,j):a(...j),I=B}finally{activeWatcher=M}}}else v.run()};return f&&f(N),v=new ReactiveEffect(y),v.scheduler=d?()=>d(N,!1):N,b=O=>onWatcherCleanup(O,!1,v),_=v.onStop=()=>{const O=cleanupMap.get(v);if(O){if(m)m(O,4);else for(const B of O)B();cleanupMap.delete(v)}},a?u?N(!0):I=v.run():d?d(N.bind(null,!0),!0):v.run(),D.pause=v.pause.bind(v),D.resume=v.resume.bind(v),D.stop=D,D}function traverse(l,a=1/0,o){if(a<=0||!isObject$2(l)||l.__v_skip||(o=o||new Set,o.has(l)))return l;if(o.add(l),a--,isRef(l))traverse(l.value,a,o);else if(isArray$1(l))for(let u=0;u<l.length;u++)traverse(l[u],a,o);else if(isSet(l)||isMap(l))l.forEach(u=>{traverse(u,a,o)});else if(isPlainObject$1(l)){for(const u in l)traverse(l[u],a,o);for(const u of Object.getOwnPropertySymbols(l))Object.prototype.propertyIsEnumerable.call(l,u)&&traverse(l[u],a,o)}return l}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(l,...a){if(isWarning)return;isWarning=!0,pauseTracking();const o=stack.length?stack[stack.length-1].component:null,u=o&&o.appContext.config.warnHandler,s=getComponentTrace();if(u)callWithErrorHandling(u,o,11,[l+a.map(c=>{var d,f;return(f=(d=c.toString)==null?void 0:d.call(c))!=null?f:JSON.stringify(c)}).join(""),o&&o.proxy,s.map(({vnode:c})=>`at <${formatComponentName(o,c.type)}>`).join(`
`),s]);else{const c=[`[Vue warn]: ${l}`,...a];s.length&&c.push(`
`,...formatTrace(s)),console.warn(...c)}resetTracking(),isWarning=!1}function getComponentTrace(){let l=stack[stack.length-1];if(!l)return[];const a=[];for(;l;){const o=a[0];o&&o.vnode===l?o.recurseCount++:a.push({vnode:l,recurseCount:0});const u=l.component&&l.component.parent;l=u&&u.vnode}return a}function formatTrace(l){const a=[];return l.forEach((o,u)=>{a.push(...u===0?[]:[`
`],...formatTraceEntry(o))}),a}function formatTraceEntry({vnode:l,recurseCount:a}){const o=a>0?`... (${a} recursive calls)`:"",u=l.component?l.component.parent==null:!1,s=` at <${formatComponentName(l.component,l.type,u)}`,c=">"+o;return l.props?[s,...formatProps(l.props),c]:[s+c]}function formatProps(l){const a=[],o=Object.keys(l);return o.slice(0,3).forEach(u=>{a.push(...formatProp(u,l[u]))}),o.length>3&&a.push(" ..."),a}function formatProp(l,a,o){return isString(a)?(a=JSON.stringify(a),o?a:[`${l}=${a}`]):typeof a=="number"||typeof a=="boolean"||a==null?o?a:[`${l}=${a}`]:isRef(a)?(a=formatProp(l,toRaw(a.value),!0),o?a:[`${l}=Ref<`,a,">"]):isFunction$2(a)?[`${l}=fn${a.name?`<${a.name}>`:""}`]:(a=toRaw(a),o?a:[`${l}=`,a])}function callWithErrorHandling(l,a,o,u){try{return u?l(...u):l()}catch(s){handleError(s,a,o)}}function callWithAsyncErrorHandling(l,a,o,u){if(isFunction$2(l)){const s=callWithErrorHandling(l,a,o,u);return s&&isPromise$1(s)&&s.catch(c=>{handleError(c,a,o)}),s}if(isArray$1(l)){const s=[];for(let c=0;c<l.length;c++)s.push(callWithAsyncErrorHandling(l[c],a,o,u));return s}}function handleError(l,a,o,u=!0){const s=a?a.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:d}=a&&a.appContext.config||EMPTY_OBJ;if(a){let f=a.parent;const m=a.proxy,g=`https://vuejs.org/error-reference/#runtime-${o}`;for(;f;){const v=f.ec;if(v){for(let y=0;y<v.length;y++)if(v[y](l,m,g)===!1)return}f=f.parent}if(c){pauseTracking(),callWithErrorHandling(c,null,10,[l,m,g]),resetTracking();return}}logError(l,o,s,u,d)}function logError(l,a,o,u=!0,s=!1){if(s)throw l;console.error(l)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(l){const a=currentFlushPromise||resolvedPromise;return l?a.then(this?l.bind(this):l):a}function findInsertionIndex$1(l){let a=flushIndex+1,o=queue.length;for(;a<o;){const u=a+o>>>1,s=queue[u],c=getId(s);c<l||c===l&&s.flags&2?a=u+1:o=u}return a}function queueJob(l){if(!(l.flags&1)){const a=getId(l),o=queue[queue.length-1];!o||!(l.flags&2)&&a>=getId(o)?queue.push(l):queue.splice(findInsertionIndex$1(a),0,l),l.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(l){isArray$1(l)?pendingPostFlushCbs.push(...l):activePostFlushCbs&&l.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,l):l.flags&1||(pendingPostFlushCbs.push(l),l.flags|=1),queueFlush()}function flushPreFlushCbs(l,a,o=flushIndex+1){for(;o<queue.length;o++){const u=queue[o];if(u&&u.flags&2){if(l&&u.id!==l.uid)continue;queue.splice(o,1),o--,u.flags&4&&(u.flags&=-2),u(),u.flags&4||(u.flags&=-2)}}}function flushPostFlushCbs(l){if(pendingPostFlushCbs.length){const a=[...new Set(pendingPostFlushCbs)].sort((o,u)=>getId(o)-getId(u));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...a);return}for(activePostFlushCbs=a,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const o=activePostFlushCbs[postFlushIndex];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=l=>l.id==null?l.flags&2?-1:1/0:l.id;function flushJobs(l){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const a=queue[flushIndex];a&&!(a.flags&8)&&(a.flags&4&&(a.flags&=-2),callWithErrorHandling(a,a.i,a.i?15:14),a.flags&4||(a.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const a=queue[flushIndex];a&&(a.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(l){const a=currentRenderingInstance;return currentRenderingInstance=l,currentScopeId=l&&l.type.__scopeId||null,a}function withCtx(l,a=currentRenderingInstance,o){if(!a||l._n)return l;const u=(...s)=>{u._d&&setBlockTracking(-1);const c=setCurrentRenderingInstance(a);let d;try{d=l(...s)}finally{setCurrentRenderingInstance(c),u._d&&setBlockTracking(1)}return d};return u._n=!0,u._c=!0,u._d=!0,u}function withDirectives(l,a){if(currentRenderingInstance===null)return l;const o=getComponentPublicInstance(currentRenderingInstance),u=l.dirs||(l.dirs=[]);for(let s=0;s<a.length;s++){let[c,d,f,m=EMPTY_OBJ]=a[s];c&&(isFunction$2(c)&&(c={mounted:c,updated:c}),c.deep&&traverse(d),u.push({dir:c,instance:o,value:d,oldValue:void 0,arg:f,modifiers:m}))}return l}function invokeDirectiveHook(l,a,o,u){const s=l.dirs,c=a&&a.dirs;for(let d=0;d<s.length;d++){const f=s[d];c&&(f.oldValue=c[d].value);let m=f.dir[u];m&&(pauseTracking(),callWithAsyncErrorHandling(m,o,8,[l.el,f,l,a]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=l=>l.__isTeleport,leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const l={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{l.isMounted=!0}),onBeforeUnmount(()=>{l.isUnmounting=!0}),l}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=l=>{const a=l.subTree;return a.component?recursiveGetSubtree(a.component):a},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(l,{slots:a}){const o=getCurrentInstance(),u=useTransitionState();return()=>{const s=a.default&&getTransitionRawChildren(a.default(),!0);if(!s||!s.length)return;const c=findNonCommentChild(s),d=toRaw(l),{mode:f}=d;if(u.isLeaving)return emptyPlaceholder(c);const m=getInnerChild$1(c);if(!m)return emptyPlaceholder(c);let g=resolveTransitionHooks(m,d,u,o,_=>g=_);m.type!==Comment$1&&setTransitionHooks(m,g);const v=o.subTree,y=v&&getInnerChild$1(v);if(y&&y.type!==Comment$1&&!isSameVNodeType(m,y)&&recursiveGetSubtree(o).type!==Comment$1){const _=resolveTransitionHooks(y,d,u,o);if(setTransitionHooks(y,_),f==="out-in"&&m.type!==Comment$1)return u.isLeaving=!0,_.afterLeave=()=>{u.isLeaving=!1,o.job.flags&8||o.update(),delete _.afterLeave},emptyPlaceholder(c);f==="in-out"&&m.type!==Comment$1&&(_.delayLeave=(b,x,w)=>{const A=getLeavingNodesForType(u,y);A[String(y.key)]=y,b[leaveCbKey]=()=>{x(),b[leaveCbKey]=void 0,delete g.delayedLeave},g.delayedLeave=w})}return c}}};function findNonCommentChild(l){let a=l[0];if(l.length>1){for(const o of l)if(o.type!==Comment$1){a=o;break}}return a}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(l,a){const{leavingVNodes:o}=l;let u=o.get(a.type);return u||(u=Object.create(null),o.set(a.type,u)),u}function resolveTransitionHooks(l,a,o,u,s){const{appear:c,mode:d,persisted:f=!1,onBeforeEnter:m,onEnter:g,onAfterEnter:v,onEnterCancelled:y,onBeforeLeave:_,onLeave:b,onAfterLeave:x,onLeaveCancelled:w,onBeforeAppear:A,onAppear:D,onAfterAppear:I,onAppearCancelled:N}=a,O=String(l.key),B=getLeavingNodesForType(o,l),M=(z,W)=>{z&&callWithAsyncErrorHandling(z,u,9,W)},j=(z,W)=>{const ne=W[1];M(z,W),isArray$1(z)?z.every(V=>V.length<=1)&&ne():z.length<=1&&ne()},L={mode:d,persisted:f,beforeEnter(z){let W=m;if(!o.isMounted)if(c)W=A||m;else return;z[leaveCbKey]&&z[leaveCbKey](!0);const ne=B[O];ne&&isSameVNodeType(l,ne)&&ne.el[leaveCbKey]&&ne.el[leaveCbKey](),M(W,[z])},enter(z){let W=g,ne=v,V=y;if(!o.isMounted)if(c)W=D||g,ne=I||v,V=N||y;else return;let Y=!1;const Z=z[enterCbKey]=pe=>{Y||(Y=!0,pe?M(V,[z]):M(ne,[z]),L.delayedLeave&&L.delayedLeave(),z[enterCbKey]=void 0)};W?j(W,[z,Z]):Z()},leave(z,W){const ne=String(l.key);if(z[enterCbKey]&&z[enterCbKey](!0),o.isUnmounting)return W();M(_,[z]);let V=!1;const Y=z[leaveCbKey]=Z=>{V||(V=!0,W(),Z?M(w,[z]):M(x,[z]),z[leaveCbKey]=void 0,B[ne]===l&&delete B[ne])};B[ne]=l,b?j(b,[z,Y]):Y()},clone(z){const W=resolveTransitionHooks(z,a,o,u,s);return s&&s(W),W}};return L}function emptyPlaceholder(l){if(isKeepAlive(l))return l=cloneVNode(l),l.children=null,l}function getInnerChild$1(l){if(!isKeepAlive(l))return isTeleport(l.type)&&l.children?findNonCommentChild(l.children):l;const{shapeFlag:a,children:o}=l;if(o){if(a&16)return o[0];if(a&32&&isFunction$2(o.default))return o.default()}}function setTransitionHooks(l,a){l.shapeFlag&6&&l.component?(l.transition=a,setTransitionHooks(l.component.subTree,a)):l.shapeFlag&128?(l.ssContent.transition=a.clone(l.ssContent),l.ssFallback.transition=a.clone(l.ssFallback)):l.transition=a}function getTransitionRawChildren(l,a=!1,o){let u=[],s=0;for(let c=0;c<l.length;c++){let d=l[c];const f=o==null?d.key:String(o)+String(d.key!=null?d.key:c);d.type===Fragment?(d.patchFlag&128&&s++,u=u.concat(getTransitionRawChildren(d.children,a,f))):(a||d.type!==Comment$1)&&u.push(f!=null?cloneVNode(d,{key:f}):d)}if(s>1)for(let c=0;c<u.length;c++)u[c].patchFlag=-2;return u}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(l,a){return isFunction$2(l)?extend$1({name:l.name},a,{setup:l}):l}function markAsyncBoundary(l){l.ids=[l.ids[0]+l.ids[2]+++"-",0,0]}function useTemplateRef(l){const a=getCurrentInstance(),o=shallowRef(null);if(a){const s=a.refs===EMPTY_OBJ?a.refs={}:a.refs;Object.defineProperty(s,l,{enumerable:!0,get:()=>o.value,set:c=>o.value=c})}return o}function setRef(l,a,o,u,s=!1){if(isArray$1(l)){l.forEach((x,w)=>setRef(x,a&&(isArray$1(a)?a[w]:a),o,u,s));return}if(isAsyncWrapper(u)&&!s)return;const c=u.shapeFlag&4?getComponentPublicInstance(u.component):u.el,d=s?null:c,{i:f,r:m}=l,g=a&&a.r,v=f.refs===EMPTY_OBJ?f.refs={}:f.refs,y=f.setupState,_=toRaw(y),b=y===EMPTY_OBJ?()=>!1:x=>hasOwn(_,x);if(g!=null&&g!==m&&(isString(g)?(v[g]=null,b(g)&&(y[g]=null)):isRef(g)&&(g.value=null)),isFunction$2(m))callWithErrorHandling(m,f,12,[d,v]);else{const x=isString(m),w=isRef(m);if(x||w){const A=()=>{if(l.f){const D=x?b(m)?y[m]:v[m]:m.value;s?isArray$1(D)&&remove(D,c):isArray$1(D)?D.includes(c)||D.push(c):x?(v[m]=[c],b(m)&&(y[m]=v[m])):(m.value=[c],l.k&&(v[l.k]=m.value))}else x?(v[m]=d,b(m)&&(y[m]=d)):w&&(m.value=d,l.k&&(v[l.k]=d))};d?(A.id=-1,queuePostRenderEffect(A,o)):A()}}}const isAsyncWrapper=l=>!!l.type.__asyncLoader,isKeepAlive=l=>l.type.__isKeepAlive;function onActivated(l,a){registerKeepAliveHook(l,"a",a)}function onDeactivated(l,a){registerKeepAliveHook(l,"da",a)}function registerKeepAliveHook(l,a,o=currentInstance){const u=l.__wdc||(l.__wdc=()=>{let s=o;for(;s;){if(s.isDeactivated)return;s=s.parent}return l()});if(injectHook(a,u,o),o){let s=o.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(u,a,o,s),s=s.parent}}function injectToKeepAliveRoot(l,a,o,u){const s=injectHook(a,l,u,!0);onUnmounted(()=>{remove(u[a],s)},o)}function injectHook(l,a,o=currentInstance,u=!1){if(o){const s=o[l]||(o[l]=[]),c=a.__weh||(a.__weh=(...d)=>{pauseTracking();const f=setCurrentInstance(o),m=callWithAsyncErrorHandling(a,o,l,d);return f(),resetTracking(),m});return u?s.unshift(c):s.push(c),c}}const createHook=l=>(a,o=currentInstance)=>{(!isInSSRComponentSetup||l==="sp")&&injectHook(l,(...u)=>a(...u),o)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(l,a=currentInstance){injectHook("ec",l,a)}const COMPONENTS="components";function resolveComponent(l,a){return resolveAsset(COMPONENTS,l,!0,a)||l}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(l,a,o=!0,u=!1){const s=currentRenderingInstance||currentInstance;if(s){const c=s.type;{const f=getComponentName(c,!1);if(f&&(f===a||f===camelize(a)||f===capitalize(camelize(a))))return c}const d=resolve(s[l]||c[l],a)||resolve(s.appContext[l],a);return!d&&u?c:d}}function resolve(l,a){return l&&(l[a]||l[camelize(a)]||l[capitalize(camelize(a))])}function renderList(l,a,o,u){let s;const c=o,d=isArray$1(l);if(d||isString(l)){const f=d&&isReactive(l);let m=!1;f&&(m=!isShallow(l),l=shallowReadArray(l)),s=new Array(l.length);for(let g=0,v=l.length;g<v;g++)s[g]=a(m?toReactive(l[g]):l[g],g,void 0,c)}else if(typeof l=="number"){s=new Array(l);for(let f=0;f<l;f++)s[f]=a(f+1,f,void 0,c)}else if(isObject$2(l))if(l[Symbol.iterator])s=Array.from(l,(f,m)=>a(f,m,void 0,c));else{const f=Object.keys(l);s=new Array(f.length);for(let m=0,g=f.length;m<g;m++){const v=f[m];s[m]=a(l[v],v,m,c)}}else s=[];return s}function renderSlot(l,a,o={},u,s){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return openBlock(),createBlock(Fragment,null,[createVNode("slot",o,u)],64);let c=l[a];c&&c._c&&(c._d=!1),openBlock();const d=c&&ensureValidVNode(c(o)),f=createBlock(Fragment,{key:(o.key||d&&d.key||`_${a}`)+(!d&&u?"_fb":"")},d||[],d&&l._===1?64:-2);return c&&c._c&&(c._d=!0),f}function ensureValidVNode(l){return l.some(a=>isVNode(a)?!(a.type===Comment$1||a.type===Fragment&&!ensureValidVNode(a.children)):!0)?l:null}const getPublicInstance=l=>l?isStatefulComponent(l)?getComponentPublicInstance(l):getPublicInstance(l.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:l=>l,$el:l=>l.vnode.el,$data:l=>l.data,$props:l=>l.props,$attrs:l=>l.attrs,$slots:l=>l.slots,$refs:l=>l.refs,$parent:l=>getPublicInstance(l.parent),$root:l=>getPublicInstance(l.root),$host:l=>l.ce,$emit:l=>l.emit,$options:l=>resolveMergedOptions(l),$forceUpdate:l=>l.f||(l.f=()=>{queueJob(l.update)}),$nextTick:l=>l.n||(l.n=nextTick.bind(l.proxy)),$watch:l=>instanceWatch.bind(l)}),hasSetupBinding=(l,a)=>l!==EMPTY_OBJ&&!l.__isScriptSetup&&hasOwn(l,a),PublicInstanceProxyHandlers={get({_:l},a){if(a==="__v_skip")return!0;const{ctx:o,setupState:u,data:s,props:c,accessCache:d,type:f,appContext:m}=l;let g;if(a[0]!=="$"){const b=d[a];if(b!==void 0)switch(b){case 1:return u[a];case 2:return s[a];case 4:return o[a];case 3:return c[a]}else{if(hasSetupBinding(u,a))return d[a]=1,u[a];if(s!==EMPTY_OBJ&&hasOwn(s,a))return d[a]=2,s[a];if((g=l.propsOptions[0])&&hasOwn(g,a))return d[a]=3,c[a];if(o!==EMPTY_OBJ&&hasOwn(o,a))return d[a]=4,o[a];shouldCacheAccess&&(d[a]=0)}}const v=publicPropertiesMap[a];let y,_;if(v)return a==="$attrs"&&track(l.attrs,"get",""),v(l);if((y=f.__cssModules)&&(y=y[a]))return y;if(o!==EMPTY_OBJ&&hasOwn(o,a))return d[a]=4,o[a];if(_=m.config.globalProperties,hasOwn(_,a))return _[a]},set({_:l},a,o){const{data:u,setupState:s,ctx:c}=l;return hasSetupBinding(s,a)?(s[a]=o,!0):u!==EMPTY_OBJ&&hasOwn(u,a)?(u[a]=o,!0):hasOwn(l.props,a)||a[0]==="$"&&a.slice(1)in l?!1:(c[a]=o,!0)},has({_:{data:l,setupState:a,accessCache:o,ctx:u,appContext:s,propsOptions:c}},d){let f;return!!o[d]||l!==EMPTY_OBJ&&hasOwn(l,d)||hasSetupBinding(a,d)||(f=c[0])&&hasOwn(f,d)||hasOwn(u,d)||hasOwn(publicPropertiesMap,d)||hasOwn(s.config.globalProperties,d)},defineProperty(l,a,o){return o.get!=null?l._.accessCache[a]=0:hasOwn(o,"value")&&this.set(l,a,o.value,null),Reflect.defineProperty(l,a,o)}};function normalizePropsOrEmits(l){return isArray$1(l)?l.reduce((a,o)=>(a[o]=null,a),{}):l}function mergeModels(l,a){return!l||!a?l||a:isArray$1(l)&&isArray$1(a)?l.concat(a):extend$1({},normalizePropsOrEmits(l),normalizePropsOrEmits(a))}let shouldCacheAccess=!0;function applyOptions(l){const a=resolveMergedOptions(l),o=l.proxy,u=l.ctx;shouldCacheAccess=!1,a.beforeCreate&&callHook$1(a.beforeCreate,l,"bc");const{data:s,computed:c,methods:d,watch:f,provide:m,inject:g,created:v,beforeMount:y,mounted:_,beforeUpdate:b,updated:x,activated:w,deactivated:A,beforeDestroy:D,beforeUnmount:I,destroyed:N,unmounted:O,render:B,renderTracked:M,renderTriggered:j,errorCaptured:L,serverPrefetch:z,expose:W,inheritAttrs:ne,components:V,directives:Y,filters:Z}=a;if(g&&resolveInjections(g,u,null),d)for(const se in d){const ge=d[se];isFunction$2(ge)&&(u[se]=ge.bind(o))}if(s){const se=s.call(o,o);isObject$2(se)&&(l.data=reactive(se))}if(shouldCacheAccess=!0,c)for(const se in c){const ge=c[se],De=isFunction$2(ge)?ge.bind(o,o):isFunction$2(ge.get)?ge.get.bind(o,o):NOOP,oe=!isFunction$2(ge)&&isFunction$2(ge.set)?ge.set.bind(o):NOOP,ae=computed({get:De,set:oe});Object.defineProperty(u,se,{enumerable:!0,configurable:!0,get:()=>ae.value,set:Ae=>ae.value=Ae})}if(f)for(const se in f)createWatcher(f[se],u,o,se);if(m){const se=isFunction$2(m)?m.call(o):m;Reflect.ownKeys(se).forEach(ge=>{provide(ge,se[ge])})}v&&callHook$1(v,l,"c");function ee(se,ge){isArray$1(ge)?ge.forEach(De=>se(De.bind(o))):ge&&se(ge.bind(o))}if(ee(onBeforeMount,y),ee(onMounted,_),ee(onBeforeUpdate,b),ee(onUpdated,x),ee(onActivated,w),ee(onDeactivated,A),ee(onErrorCaptured,L),ee(onRenderTracked,M),ee(onRenderTriggered,j),ee(onBeforeUnmount,I),ee(onUnmounted,O),ee(onServerPrefetch,z),isArray$1(W))if(W.length){const se=l.exposed||(l.exposed={});W.forEach(ge=>{Object.defineProperty(se,ge,{get:()=>o[ge],set:De=>o[ge]=De})})}else l.exposed||(l.exposed={});B&&l.render===NOOP&&(l.render=B),ne!=null&&(l.inheritAttrs=ne),V&&(l.components=V),Y&&(l.directives=Y),z&&markAsyncBoundary(l)}function resolveInjections(l,a,o=NOOP){isArray$1(l)&&(l=normalizeInject(l));for(const u in l){const s=l[u];let c;isObject$2(s)?"default"in s?c=inject(s.from||u,s.default,!0):c=inject(s.from||u):c=inject(s),isRef(c)?Object.defineProperty(a,u,{enumerable:!0,configurable:!0,get:()=>c.value,set:d=>c.value=d}):a[u]=c}}function callHook$1(l,a,o){callWithAsyncErrorHandling(isArray$1(l)?l.map(u=>u.bind(a.proxy)):l.bind(a.proxy),a,o)}function createWatcher(l,a,o,u){let s=u.includes(".")?createPathGetter(o,u):()=>o[u];if(isString(l)){const c=a[l];isFunction$2(c)&&watch(s,c)}else if(isFunction$2(l))watch(s,l.bind(o));else if(isObject$2(l))if(isArray$1(l))l.forEach(c=>createWatcher(c,a,o,u));else{const c=isFunction$2(l.handler)?l.handler.bind(o):a[l.handler];isFunction$2(c)&&watch(s,c,l)}}function resolveMergedOptions(l){const a=l.type,{mixins:o,extends:u}=a,{mixins:s,optionsCache:c,config:{optionMergeStrategies:d}}=l.appContext,f=c.get(a);let m;return f?m=f:!s.length&&!o&&!u?m=a:(m={},s.length&&s.forEach(g=>mergeOptions$5(m,g,d,!0)),mergeOptions$5(m,a,d)),isObject$2(a)&&c.set(a,m),m}function mergeOptions$5(l,a,o,u=!1){const{mixins:s,extends:c}=a;c&&mergeOptions$5(l,c,o,!0),s&&s.forEach(d=>mergeOptions$5(l,d,o,!0));for(const d in a)if(!(u&&d==="expose")){const f=internalOptionMergeStrats[d]||o&&o[d];l[d]=f?f(l[d],a[d]):a[d]}return l}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(l,a){return a?l?function(){return extend$1(isFunction$2(l)?l.call(this,this):l,isFunction$2(a)?a.call(this,this):a)}:a:l}function mergeInject(l,a){return mergeObjectOptions(normalizeInject(l),normalizeInject(a))}function normalizeInject(l){if(isArray$1(l)){const a={};for(let o=0;o<l.length;o++)a[l[o]]=l[o];return a}return l}function mergeAsArray(l,a){return l?[...new Set([].concat(l,a))]:a}function mergeObjectOptions(l,a){return l?extend$1(Object.create(null),l,a):a}function mergeEmitsOrPropsOptions(l,a){return l?isArray$1(l)&&isArray$1(a)?[...new Set([...l,...a])]:extend$1(Object.create(null),normalizePropsOrEmits(l),normalizePropsOrEmits(a??{})):a}function mergeWatchOptions(l,a){if(!l)return a;if(!a)return l;const o=extend$1(Object.create(null),l);for(const u in a)o[u]=mergeAsArray(l[u],a[u]);return o}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(l,a){return function(u,s=null){isFunction$2(u)||(u=extend$1({},u)),s!=null&&!isObject$2(s)&&(s=null);const c=createAppContext(),d=new WeakSet,f=[];let m=!1;const g=c.app={_uid:uid$1++,_component:u,_props:s,_container:null,_context:c,_instance:null,version:version$7,get config(){return c.config},set config(v){},use(v,...y){return d.has(v)||(v&&isFunction$2(v.install)?(d.add(v),v.install(g,...y)):isFunction$2(v)&&(d.add(v),v(g,...y))),g},mixin(v){return c.mixins.includes(v)||c.mixins.push(v),g},component(v,y){return y?(c.components[v]=y,g):c.components[v]},directive(v,y){return y?(c.directives[v]=y,g):c.directives[v]},mount(v,y,_){if(!m){const b=g._ceVNode||createVNode(u,s);return b.appContext=c,_===!0?_="svg":_===!1&&(_=void 0),y&&a?a(b,v):l(b,v,_),m=!0,g._container=v,v.__vue_app__=g,getComponentPublicInstance(b.component)}},onUnmount(v){f.push(v)},unmount(){m&&(callWithAsyncErrorHandling(f,g._instance,16),l(null,g._container),delete g._container.__vue_app__)},provide(v,y){return c.provides[v]=y,g},runWithContext(v){const y=currentApp;currentApp=g;try{return v()}finally{currentApp=y}}};return g}}let currentApp=null;function provide(l,a){if(currentInstance){let o=currentInstance.provides;const u=currentInstance.parent&&currentInstance.parent.provides;u===o&&(o=currentInstance.provides=Object.create(u)),o[l]=a}}function inject(l,a,o=!1){const u=currentInstance||currentRenderingInstance;if(u||currentApp){const s=currentApp?currentApp._context.provides:u?u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(s&&l in s)return s[l];if(arguments.length>1)return o&&isFunction$2(a)?a.call(u&&u.proxy):a}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=l=>Object.getPrototypeOf(l)===internalObjectProto;function initProps(l,a,o,u=!1){const s={},c=createInternalObject();l.propsDefaults=Object.create(null),setFullProps(l,a,s,c);for(const d in l.propsOptions[0])d in s||(s[d]=void 0);o?l.props=u?s:shallowReactive(s):l.type.props?l.props=s:l.props=c,l.attrs=c}function updateProps(l,a,o,u){const{props:s,attrs:c,vnode:{patchFlag:d}}=l,f=toRaw(s),[m]=l.propsOptions;let g=!1;if((u||d>0)&&!(d&16)){if(d&8){const v=l.vnode.dynamicProps;for(let y=0;y<v.length;y++){let _=v[y];if(isEmitListener(l.emitsOptions,_))continue;const b=a[_];if(m)if(hasOwn(c,_))b!==c[_]&&(c[_]=b,g=!0);else{const x=camelize(_);s[x]=resolvePropValue(m,f,x,b,l,!1)}else b!==c[_]&&(c[_]=b,g=!0)}}}else{setFullProps(l,a,s,c)&&(g=!0);let v;for(const y in f)(!a||!hasOwn(a,y)&&((v=hyphenate(y))===y||!hasOwn(a,v)))&&(m?o&&(o[y]!==void 0||o[v]!==void 0)&&(s[y]=resolvePropValue(m,f,y,void 0,l,!0)):delete s[y]);if(c!==f)for(const y in c)(!a||!hasOwn(a,y))&&(delete c[y],g=!0)}g&&trigger$1(l.attrs,"set","")}function setFullProps(l,a,o,u){const[s,c]=l.propsOptions;let d=!1,f;if(a)for(let m in a){if(isReservedProp(m))continue;const g=a[m];let v;s&&hasOwn(s,v=camelize(m))?!c||!c.includes(v)?o[v]=g:(f||(f={}))[v]=g:isEmitListener(l.emitsOptions,m)||(!(m in u)||g!==u[m])&&(u[m]=g,d=!0)}if(c){const m=toRaw(o),g=f||EMPTY_OBJ;for(let v=0;v<c.length;v++){const y=c[v];o[y]=resolvePropValue(s,m,y,g[y],l,!hasOwn(g,y))}}return d}function resolvePropValue(l,a,o,u,s,c){const d=l[o];if(d!=null){const f=hasOwn(d,"default");if(f&&u===void 0){const m=d.default;if(d.type!==Function&&!d.skipFactory&&isFunction$2(m)){const{propsDefaults:g}=s;if(o in g)u=g[o];else{const v=setCurrentInstance(s);u=g[o]=m.call(null,a),v()}}else u=m;s.ce&&s.ce._setProp(o,u)}d[0]&&(c&&!f?u=!1:d[1]&&(u===""||u===hyphenate(o))&&(u=!0))}return u}const mixinPropsCache=new WeakMap;function normalizePropsOptions(l,a,o=!1){const u=o?mixinPropsCache:a.propsCache,s=u.get(l);if(s)return s;const c=l.props,d={},f=[];let m=!1;if(!isFunction$2(l)){const v=y=>{m=!0;const[_,b]=normalizePropsOptions(y,a,!0);extend$1(d,_),b&&f.push(...b)};!o&&a.mixins.length&&a.mixins.forEach(v),l.extends&&v(l.extends),l.mixins&&l.mixins.forEach(v)}if(!c&&!m)return isObject$2(l)&&u.set(l,EMPTY_ARR),EMPTY_ARR;if(isArray$1(c))for(let v=0;v<c.length;v++){const y=camelize(c[v]);validatePropName(y)&&(d[y]=EMPTY_OBJ)}else if(c)for(const v in c){const y=camelize(v);if(validatePropName(y)){const _=c[v],b=d[y]=isArray$1(_)||isFunction$2(_)?{type:_}:extend$1({},_),x=b.type;let w=!1,A=!0;if(isArray$1(x))for(let D=0;D<x.length;++D){const I=x[D],N=isFunction$2(I)&&I.name;if(N==="Boolean"){w=!0;break}else N==="String"&&(A=!1)}else w=isFunction$2(x)&&x.name==="Boolean";b[0]=w,b[1]=A,(w||hasOwn(b,"default"))&&f.push(y)}}const g=[d,f];return isObject$2(l)&&u.set(l,g),g}function validatePropName(l){return l[0]!=="$"&&!isReservedProp(l)}const isInternalKey=l=>l[0]==="_"||l==="$stable",normalizeSlotValue=l=>isArray$1(l)?l.map(normalizeVNode):[normalizeVNode(l)],normalizeSlot$1=(l,a,o)=>{if(a._n)return a;const u=withCtx((...s)=>normalizeSlotValue(a(...s)),o);return u._c=!1,u},normalizeObjectSlots=(l,a,o)=>{const u=l._ctx;for(const s in l){if(isInternalKey(s))continue;const c=l[s];if(isFunction$2(c))a[s]=normalizeSlot$1(s,c,u);else if(c!=null){const d=normalizeSlotValue(c);a[s]=()=>d}}},normalizeVNodeSlots=(l,a)=>{const o=normalizeSlotValue(a);l.slots.default=()=>o},assignSlots=(l,a,o)=>{for(const u in a)(o||u!=="_")&&(l[u]=a[u])},initSlots=(l,a,o)=>{const u=l.slots=createInternalObject();if(l.vnode.shapeFlag&32){const s=a._;s?(assignSlots(u,a,o),o&&def(u,"_",s,!0)):normalizeObjectSlots(a,u)}else a&&normalizeVNodeSlots(l,a)},updateSlots=(l,a,o)=>{const{vnode:u,slots:s}=l;let c=!0,d=EMPTY_OBJ;if(u.shapeFlag&32){const f=a._;f?o&&f===1?c=!1:assignSlots(s,a,o):(c=!a.$stable,normalizeObjectSlots(a,s)),d=a}else a&&(normalizeVNodeSlots(l,a),d={default:1});if(c)for(const f in s)!isInternalKey(f)&&d[f]==null&&delete s[f]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(l){return baseCreateRenderer(l)}function baseCreateRenderer(l,a){const o=getGlobalThis();o.__VUE__=!0;const{insert:u,remove:s,patchProp:c,createElement:d,createText:f,createComment:m,setText:g,setElementText:v,parentNode:y,nextSibling:_,setScopeId:b=NOOP,insertStaticContent:x}=l,w=(H,G,Q,ue=null,ie=null,fe=null,ce=void 0,be=null,ye=!!G.dynamicChildren)=>{if(H===G)return;H&&!isSameVNodeType(H,G)&&(ue=te(H),Ae(H,ie,fe,!0),H=null),G.patchFlag===-2&&(ye=!1,G.dynamicChildren=null);const{type:he,ref:Pe,shapeFlag:Ee}=G;switch(he){case Text$1:A(H,G,Q,ue);break;case Comment$1:D(H,G,Q,ue);break;case Static:H==null&&I(G,Q,ue,ce);break;case Fragment:V(H,G,Q,ue,ie,fe,ce,be,ye);break;default:Ee&1?B(H,G,Q,ue,ie,fe,ce,be,ye):Ee&6?Y(H,G,Q,ue,ie,fe,ce,be,ye):(Ee&64||Ee&128)&&he.process(H,G,Q,ue,ie,fe,ce,be,ye,ke)}Pe!=null&&ie&&setRef(Pe,H&&H.ref,fe,G||H,!G)},A=(H,G,Q,ue)=>{if(H==null)u(G.el=f(G.children),Q,ue);else{const ie=G.el=H.el;G.children!==H.children&&g(ie,G.children)}},D=(H,G,Q,ue)=>{H==null?u(G.el=m(G.children||""),Q,ue):G.el=H.el},I=(H,G,Q,ue)=>{[H.el,H.anchor]=x(H.children,G,Q,ue,H.el,H.anchor)},N=({el:H,anchor:G},Q,ue)=>{let ie;for(;H&&H!==G;)ie=_(H),u(H,Q,ue),H=ie;u(G,Q,ue)},O=({el:H,anchor:G})=>{let Q;for(;H&&H!==G;)Q=_(H),s(H),H=Q;s(G)},B=(H,G,Q,ue,ie,fe,ce,be,ye)=>{G.type==="svg"?ce="svg":G.type==="math"&&(ce="mathml"),H==null?M(G,Q,ue,ie,fe,ce,be,ye):z(H,G,ie,fe,ce,be,ye)},M=(H,G,Q,ue,ie,fe,ce,be)=>{let ye,he;const{props:Pe,shapeFlag:Ee,transition:le,dirs:we}=H;if(ye=H.el=d(H.type,fe,Pe&&Pe.is,Pe),Ee&8?v(ye,H.children):Ee&16&&L(H.children,ye,null,ue,ie,resolveChildrenNamespace(H,fe),ce,be),we&&invokeDirectiveHook(H,null,ue,"created"),j(ye,H,H.scopeId,ce,ue),Pe){for(const Ne in Pe)Ne!=="value"&&!isReservedProp(Ne)&&c(ye,Ne,null,Pe[Ne],fe,ue);"value"in Pe&&c(ye,"value",null,Pe.value,fe),(he=Pe.onVnodeBeforeMount)&&invokeVNodeHook(he,ue,H)}we&&invokeDirectiveHook(H,null,ue,"beforeMount");const Re=needTransition(ie,le);Re&&le.beforeEnter(ye),u(ye,G,Q),((he=Pe&&Pe.onVnodeMounted)||Re||we)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,ue,H),Re&&le.enter(ye),we&&invokeDirectiveHook(H,null,ue,"mounted")},ie)},j=(H,G,Q,ue,ie)=>{if(Q&&b(H,Q),ue)for(let fe=0;fe<ue.length;fe++)b(H,ue[fe]);if(ie){let fe=ie.subTree;if(G===fe||isSuspense(fe.type)&&(fe.ssContent===G||fe.ssFallback===G)){const ce=ie.vnode;j(H,ce,ce.scopeId,ce.slotScopeIds,ie.parent)}}},L=(H,G,Q,ue,ie,fe,ce,be,ye=0)=>{for(let he=ye;he<H.length;he++){const Pe=H[he]=be?cloneIfMounted(H[he]):normalizeVNode(H[he]);w(null,Pe,G,Q,ue,ie,fe,ce,be)}},z=(H,G,Q,ue,ie,fe,ce)=>{const be=G.el=H.el;let{patchFlag:ye,dynamicChildren:he,dirs:Pe}=G;ye|=H.patchFlag&16;const Ee=H.props||EMPTY_OBJ,le=G.props||EMPTY_OBJ;let we;if(Q&&toggleRecurse(Q,!1),(we=le.onVnodeBeforeUpdate)&&invokeVNodeHook(we,Q,G,H),Pe&&invokeDirectiveHook(G,H,Q,"beforeUpdate"),Q&&toggleRecurse(Q,!0),(Ee.innerHTML&&le.innerHTML==null||Ee.textContent&&le.textContent==null)&&v(be,""),he?W(H.dynamicChildren,he,be,Q,ue,resolveChildrenNamespace(G,ie),fe):ce||ge(H,G,be,null,Q,ue,resolveChildrenNamespace(G,ie),fe,!1),ye>0){if(ye&16)ne(be,Ee,le,Q,ie);else if(ye&2&&Ee.class!==le.class&&c(be,"class",null,le.class,ie),ye&4&&c(be,"style",Ee.style,le.style,ie),ye&8){const Re=G.dynamicProps;for(let Ne=0;Ne<Re.length;Ne++){const Le=Re[Ne],He=Ee[Le],Ie=le[Le];(Ie!==He||Le==="value")&&c(be,Le,He,Ie,ie,Q)}}ye&1&&H.children!==G.children&&v(be,G.children)}else!ce&&he==null&&ne(be,Ee,le,Q,ie);((we=le.onVnodeUpdated)||Pe)&&queuePostRenderEffect(()=>{we&&invokeVNodeHook(we,Q,G,H),Pe&&invokeDirectiveHook(G,H,Q,"updated")},ue)},W=(H,G,Q,ue,ie,fe,ce)=>{for(let be=0;be<G.length;be++){const ye=H[be],he=G[be],Pe=ye.el&&(ye.type===Fragment||!isSameVNodeType(ye,he)||ye.shapeFlag&70)?y(ye.el):Q;w(ye,he,Pe,null,ue,ie,fe,ce,!0)}},ne=(H,G,Q,ue,ie)=>{if(G!==Q){if(G!==EMPTY_OBJ)for(const fe in G)!isReservedProp(fe)&&!(fe in Q)&&c(H,fe,G[fe],null,ie,ue);for(const fe in Q){if(isReservedProp(fe))continue;const ce=Q[fe],be=G[fe];ce!==be&&fe!=="value"&&c(H,fe,be,ce,ie,ue)}"value"in Q&&c(H,"value",G.value,Q.value,ie)}},V=(H,G,Q,ue,ie,fe,ce,be,ye)=>{const he=G.el=H?H.el:f(""),Pe=G.anchor=H?H.anchor:f("");let{patchFlag:Ee,dynamicChildren:le,slotScopeIds:we}=G;we&&(be=be?be.concat(we):we),H==null?(u(he,Q,ue),u(Pe,Q,ue),L(G.children||[],Q,Pe,ie,fe,ce,be,ye)):Ee>0&&Ee&64&&le&&H.dynamicChildren?(W(H.dynamicChildren,le,Q,ie,fe,ce,be),(G.key!=null||ie&&G===ie.subTree)&&traverseStaticChildren(H,G,!0)):ge(H,G,Q,Pe,ie,fe,ce,be,ye)},Y=(H,G,Q,ue,ie,fe,ce,be,ye)=>{G.slotScopeIds=be,H==null?G.shapeFlag&512?ie.ctx.activate(G,Q,ue,ce,ye):Z(G,Q,ue,ie,fe,ce,ye):pe(H,G,ye)},Z=(H,G,Q,ue,ie,fe,ce)=>{const be=H.component=createComponentInstance(H,ue,ie);if(isKeepAlive(H)&&(be.ctx.renderer=ke),setupComponent(be,!1,ce),be.asyncDep){if(ie&&ie.registerDep(be,ee,ce),!H.el){const ye=be.subTree=createVNode(Comment$1);D(null,ye,G,Q)}}else ee(be,H,G,Q,ie,fe,ce)},pe=(H,G,Q)=>{const ue=G.component=H.component;if(shouldUpdateComponent(H,G,Q))if(ue.asyncDep&&!ue.asyncResolved){se(ue,G,Q);return}else ue.next=G,ue.update();else G.el=H.el,ue.vnode=G},ee=(H,G,Q,ue,ie,fe,ce)=>{const be=()=>{if(H.isMounted){let{next:Ee,bu:le,u:we,parent:Re,vnode:Ne}=H;{const Ge=locateNonHydratedAsyncRoot(H);if(Ge){Ee&&(Ee.el=Ne.el,se(H,Ee,ce)),Ge.asyncDep.then(()=>{H.isUnmounted||be()});return}}let Le=Ee,He;toggleRecurse(H,!1),Ee?(Ee.el=Ne.el,se(H,Ee,ce)):Ee=Ne,le&&invokeArrayFns(le),(He=Ee.props&&Ee.props.onVnodeBeforeUpdate)&&invokeVNodeHook(He,Re,Ee,Ne),toggleRecurse(H,!0);const Ie=renderComponentRoot(H),We=H.subTree;H.subTree=Ie,w(We,Ie,y(We.el),te(We),H,ie,fe),Ee.el=Ie.el,Le===null&&updateHOCHostEl(H,Ie.el),we&&queuePostRenderEffect(we,ie),(He=Ee.props&&Ee.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(He,Re,Ee,Ne),ie)}else{let Ee;const{el:le,props:we}=G,{bm:Re,m:Ne,parent:Le,root:He,type:Ie}=H,We=isAsyncWrapper(G);if(toggleRecurse(H,!1),Re&&invokeArrayFns(Re),!We&&(Ee=we&&we.onVnodeBeforeMount)&&invokeVNodeHook(Ee,Le,G),toggleRecurse(H,!0),le&&Be){const Ge=()=>{H.subTree=renderComponentRoot(H),Be(le,H.subTree,H,ie,null)};We&&Ie.__asyncHydrate?Ie.__asyncHydrate(le,H,Ge):Ge()}else{He.ce&&He.ce._injectChildStyle(Ie);const Ge=H.subTree=renderComponentRoot(H);w(null,Ge,Q,ue,H,ie,fe),G.el=Ge.el}if(Ne&&queuePostRenderEffect(Ne,ie),!We&&(Ee=we&&we.onVnodeMounted)){const Ge=G;queuePostRenderEffect(()=>invokeVNodeHook(Ee,Le,Ge),ie)}(G.shapeFlag&256||Le&&isAsyncWrapper(Le.vnode)&&Le.vnode.shapeFlag&256)&&H.a&&queuePostRenderEffect(H.a,ie),H.isMounted=!0,G=Q=ue=null}};H.scope.on();const ye=H.effect=new ReactiveEffect(be);H.scope.off();const he=H.update=ye.run.bind(ye),Pe=H.job=ye.runIfDirty.bind(ye);Pe.i=H,Pe.id=H.uid,ye.scheduler=()=>queueJob(Pe),toggleRecurse(H,!0),he()},se=(H,G,Q)=>{G.component=H;const ue=H.vnode.props;H.vnode=G,H.next=null,updateProps(H,G.props,ue,Q),updateSlots(H,G.children,Q),pauseTracking(),flushPreFlushCbs(H),resetTracking()},ge=(H,G,Q,ue,ie,fe,ce,be,ye=!1)=>{const he=H&&H.children,Pe=H?H.shapeFlag:0,Ee=G.children,{patchFlag:le,shapeFlag:we}=G;if(le>0){if(le&128){oe(he,Ee,Q,ue,ie,fe,ce,be,ye);return}else if(le&256){De(he,Ee,Q,ue,ie,fe,ce,be,ye);return}}we&8?(Pe&16&&xe(he,ie,fe),Ee!==he&&v(Q,Ee)):Pe&16?we&16?oe(he,Ee,Q,ue,ie,fe,ce,be,ye):xe(he,ie,fe,!0):(Pe&8&&v(Q,""),we&16&&L(Ee,Q,ue,ie,fe,ce,be,ye))},De=(H,G,Q,ue,ie,fe,ce,be,ye)=>{H=H||EMPTY_ARR,G=G||EMPTY_ARR;const he=H.length,Pe=G.length,Ee=Math.min(he,Pe);let le;for(le=0;le<Ee;le++){const we=G[le]=ye?cloneIfMounted(G[le]):normalizeVNode(G[le]);w(H[le],we,Q,null,ie,fe,ce,be,ye)}he>Pe?xe(H,ie,fe,!0,!1,Ee):L(G,Q,ue,ie,fe,ce,be,ye,Ee)},oe=(H,G,Q,ue,ie,fe,ce,be,ye)=>{let he=0;const Pe=G.length;let Ee=H.length-1,le=Pe-1;for(;he<=Ee&&he<=le;){const we=H[he],Re=G[he]=ye?cloneIfMounted(G[he]):normalizeVNode(G[he]);if(isSameVNodeType(we,Re))w(we,Re,Q,null,ie,fe,ce,be,ye);else break;he++}for(;he<=Ee&&he<=le;){const we=H[Ee],Re=G[le]=ye?cloneIfMounted(G[le]):normalizeVNode(G[le]);if(isSameVNodeType(we,Re))w(we,Re,Q,null,ie,fe,ce,be,ye);else break;Ee--,le--}if(he>Ee){if(he<=le){const we=le+1,Re=we<Pe?G[we].el:ue;for(;he<=le;)w(null,G[he]=ye?cloneIfMounted(G[he]):normalizeVNode(G[he]),Q,Re,ie,fe,ce,be,ye),he++}}else if(he>le)for(;he<=Ee;)Ae(H[he],ie,fe,!0),he++;else{const we=he,Re=he,Ne=new Map;for(he=Re;he<=le;he++){const Ke=G[he]=ye?cloneIfMounted(G[he]):normalizeVNode(G[he]);Ke.key!=null&&Ne.set(Ke.key,he)}let Le,He=0;const Ie=le-Re+1;let We=!1,Ge=0;const rt=new Array(Ie);for(he=0;he<Ie;he++)rt[he]=0;for(he=we;he<=Ee;he++){const Ke=H[he];if(He>=Ie){Ae(Ke,ie,fe,!0);continue}let Ye;if(Ke.key!=null)Ye=Ne.get(Ke.key);else for(Le=Re;Le<=le;Le++)if(rt[Le-Re]===0&&isSameVNodeType(Ke,G[Le])){Ye=Le;break}Ye===void 0?Ae(Ke,ie,fe,!0):(rt[Ye-Re]=he+1,Ye>=Ge?Ge=Ye:We=!0,w(Ke,G[Ye],Q,null,ie,fe,ce,be,ye),He++)}const bt=We?getSequence(rt):EMPTY_ARR;for(Le=bt.length-1,he=Ie-1;he>=0;he--){const Ke=Re+he,Ye=G[Ke],St=Ke+1<Pe?G[Ke+1].el:ue;rt[he]===0?w(null,Ye,Q,St,ie,fe,ce,be,ye):We&&(Le<0||he!==bt[Le]?ae(Ye,Q,St,2):Le--)}}},ae=(H,G,Q,ue,ie=null)=>{const{el:fe,type:ce,transition:be,children:ye,shapeFlag:he}=H;if(he&6){ae(H.component.subTree,G,Q,ue);return}if(he&128){H.suspense.move(G,Q,ue);return}if(he&64){ce.move(H,G,Q,ke);return}if(ce===Fragment){u(fe,G,Q);for(let Ee=0;Ee<ye.length;Ee++)ae(ye[Ee],G,Q,ue);u(H.anchor,G,Q);return}if(ce===Static){N(H,G,Q);return}if(ue!==2&&he&1&&be)if(ue===0)be.beforeEnter(fe),u(fe,G,Q),queuePostRenderEffect(()=>be.enter(fe),ie);else{const{leave:Ee,delayLeave:le,afterLeave:we}=be,Re=()=>u(fe,G,Q),Ne=()=>{Ee(fe,()=>{Re(),we&&we()})};le?le(fe,Re,Ne):Ne()}else u(fe,G,Q)},Ae=(H,G,Q,ue=!1,ie=!1)=>{const{type:fe,props:ce,ref:be,children:ye,dynamicChildren:he,shapeFlag:Pe,patchFlag:Ee,dirs:le,cacheIndex:we}=H;if(Ee===-2&&(ie=!1),be!=null&&setRef(be,null,Q,H,!0),we!=null&&(G.renderCache[we]=void 0),Pe&256){G.ctx.deactivate(H);return}const Re=Pe&1&&le,Ne=!isAsyncWrapper(H);let Le;if(Ne&&(Le=ce&&ce.onVnodeBeforeUnmount)&&invokeVNodeHook(Le,G,H),Pe&6)de(H.component,Q,ue);else{if(Pe&128){H.suspense.unmount(Q,ue);return}Re&&invokeDirectiveHook(H,null,G,"beforeUnmount"),Pe&64?H.type.remove(H,G,Q,ke,ue):he&&!he.hasOnce&&(fe!==Fragment||Ee>0&&Ee&64)?xe(he,G,Q,!1,!0):(fe===Fragment&&Ee&384||!ie&&Pe&16)&&xe(ye,G,Q),ue&&J(H)}(Ne&&(Le=ce&&ce.onVnodeUnmounted)||Re)&&queuePostRenderEffect(()=>{Le&&invokeVNodeHook(Le,G,H),Re&&invokeDirectiveHook(H,null,G,"unmounted")},Q)},J=H=>{const{type:G,el:Q,anchor:ue,transition:ie}=H;if(G===Fragment){ve(Q,ue);return}if(G===Static){O(H);return}const fe=()=>{s(Q),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(H.shapeFlag&1&&ie&&!ie.persisted){const{leave:ce,delayLeave:be}=ie,ye=()=>ce(Q,fe);be?be(H.el,fe,ye):ye()}else fe()},ve=(H,G)=>{let Q;for(;H!==G;)Q=_(H),s(H),H=Q;s(G)},de=(H,G,Q)=>{const{bum:ue,scope:ie,job:fe,subTree:ce,um:be,m:ye,a:he}=H;invalidateMount(ye),invalidateMount(he),ue&&invokeArrayFns(ue),ie.stop(),fe&&(fe.flags|=8,Ae(ce,H,G,Q)),be&&queuePostRenderEffect(be,G),queuePostRenderEffect(()=>{H.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},xe=(H,G,Q,ue=!1,ie=!1,fe=0)=>{for(let ce=fe;ce<H.length;ce++)Ae(H[ce],G,Q,ue,ie)},te=H=>{if(H.shapeFlag&6)return te(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const G=_(H.anchor||H.el),Q=G&&G[TeleportEndKey];return Q?_(Q):G};let _e=!1;const Se=(H,G,Q)=>{H==null?G._vnode&&Ae(G._vnode,null,null,!0):w(G._vnode||null,H,G,null,null,null,Q),G._vnode=H,_e||(_e=!0,flushPreFlushCbs(),flushPostFlushCbs(),_e=!1)},ke={p:w,um:Ae,m:ae,r:J,mt:Z,mc:L,pc:ge,pbc:W,n:te,o:l};let Me,Be;return{render:Se,hydrate:Me,createApp:createAppAPI(Se,Me)}}function resolveChildrenNamespace({type:l,props:a},o){return o==="svg"&&l==="foreignObject"||o==="mathml"&&l==="annotation-xml"&&a&&a.encoding&&a.encoding.includes("html")?void 0:o}function toggleRecurse({effect:l,job:a},o){o?(l.flags|=32,a.flags|=4):(l.flags&=-33,a.flags&=-5)}function needTransition(l,a){return(!l||l&&!l.pendingBranch)&&a&&!a.persisted}function traverseStaticChildren(l,a,o=!1){const u=l.children,s=a.children;if(isArray$1(u)&&isArray$1(s))for(let c=0;c<u.length;c++){const d=u[c];let f=s[c];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=s[c]=cloneIfMounted(s[c]),f.el=d.el),!o&&f.patchFlag!==-2&&traverseStaticChildren(d,f)),f.type===Text$1&&(f.el=d.el)}}function getSequence(l){const a=l.slice(),o=[0];let u,s,c,d,f;const m=l.length;for(u=0;u<m;u++){const g=l[u];if(g!==0){if(s=o[o.length-1],l[s]<g){a[u]=s,o.push(u);continue}for(c=0,d=o.length-1;c<d;)f=c+d>>1,l[o[f]]<g?c=f+1:d=f;g<l[o[c]]&&(c>0&&(a[u]=o[c-1]),o[c]=u)}}for(c=o.length,d=o[c-1];c-- >0;)o[c]=d,d=a[d];return o}function locateNonHydratedAsyncRoot(l){const a=l.subTree.component;if(a)return a.asyncDep&&!a.asyncResolved?a:locateNonHydratedAsyncRoot(a)}function invalidateMount(l){if(l)for(let a=0;a<l.length;a++)l[a].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchPostEffect(l,a){return doWatch(l,null,{flush:"post"})}function watchSyncEffect(l,a){return doWatch(l,null,{flush:"sync"})}function watch(l,a,o){return doWatch(l,a,o)}function doWatch(l,a,o=EMPTY_OBJ){const{immediate:u,deep:s,flush:c,once:d}=o,f=extend$1({},o);let m;if(isInSSRComponentSetup)if(c==="sync"){const _=useSSRContext();m=_.__watcherHandles||(_.__watcherHandles=[])}else if(!a||u)f.once=!0;else{const _=()=>{};return _.stop=NOOP,_.resume=NOOP,_.pause=NOOP,_}const g=currentInstance;f.call=(_,b,x)=>callWithAsyncErrorHandling(_,g,b,x);let v=!1;c==="post"?f.scheduler=_=>{queuePostRenderEffect(_,g&&g.suspense)}:c!=="sync"&&(v=!0,f.scheduler=(_,b)=>{b?_():queueJob(_)}),f.augmentJob=_=>{a&&(_.flags|=4),v&&(_.flags|=2,g&&(_.id=g.uid,_.i=g))};const y=watch$1(l,a,f);return m&&m.push(y),y}function instanceWatch(l,a,o){const u=this.proxy,s=isString(l)?l.includes(".")?createPathGetter(u,l):()=>u[l]:l.bind(u,u);let c;isFunction$2(a)?c=a:(c=a.handler,o=a);const d=setCurrentInstance(this),f=doWatch(s,c.bind(u),o);return d(),f}function createPathGetter(l,a){const o=a.split(".");return()=>{let u=l;for(let s=0;s<o.length&&u;s++)u=u[o[s]];return u}}function useModel(l,a,o=EMPTY_OBJ){const u=getCurrentInstance(),s=camelize(a),c=hyphenate(a),d=getModelModifiers(l,a),f=customRef((m,g)=>{let v,y=EMPTY_OBJ,_;return watchSyncEffect(()=>{const b=l[a];hasChanged(v,b)&&(v=b,g())}),{get(){return m(),o.get?o.get(v):v},set(b){const x=o.set?o.set(b):b;if(!hasChanged(x,v)&&!(y!==EMPTY_OBJ&&hasChanged(b,y)))return;const w=u.vnode.props;w&&(a in w||s in w||c in w)&&(`onUpdate:${a}`in w||`onUpdate:${s}`in w||`onUpdate:${c}`in w)||(v=b,g()),u.emit(`update:${a}`,x),hasChanged(b,x)&&hasChanged(b,y)&&!hasChanged(x,_)&&g(),y=b,_=x}}});return f[Symbol.iterator]=()=>{let m=0;return{next(){return m<2?{value:m++?d||EMPTY_OBJ:f,done:!1}:{done:!0}}}},f}const getModelModifiers=(l,a)=>a==="modelValue"||a==="model-value"?l.modelModifiers:l[`${a}Modifiers`]||l[`${camelize(a)}Modifiers`]||l[`${hyphenate(a)}Modifiers`];function emit(l,a,...o){if(l.isUnmounted)return;const u=l.vnode.props||EMPTY_OBJ;let s=o;const c=a.startsWith("update:"),d=c&&getModelModifiers(u,a.slice(7));d&&(d.trim&&(s=o.map(v=>isString(v)?v.trim():v)),d.number&&(s=o.map(looseToNumber)));let f,m=u[f=toHandlerKey(a)]||u[f=toHandlerKey(camelize(a))];!m&&c&&(m=u[f=toHandlerKey(hyphenate(a))]),m&&callWithAsyncErrorHandling(m,l,6,s);const g=u[f+"Once"];if(g){if(!l.emitted)l.emitted={};else if(l.emitted[f])return;l.emitted[f]=!0,callWithAsyncErrorHandling(g,l,6,s)}}function normalizeEmitsOptions(l,a,o=!1){const u=a.emitsCache,s=u.get(l);if(s!==void 0)return s;const c=l.emits;let d={},f=!1;if(!isFunction$2(l)){const m=g=>{const v=normalizeEmitsOptions(g,a,!0);v&&(f=!0,extend$1(d,v))};!o&&a.mixins.length&&a.mixins.forEach(m),l.extends&&m(l.extends),l.mixins&&l.mixins.forEach(m)}return!c&&!f?(isObject$2(l)&&u.set(l,null),null):(isArray$1(c)?c.forEach(m=>d[m]=null):extend$1(d,c),isObject$2(l)&&u.set(l,d),d)}function isEmitListener(l,a){return!l||!isOn(a)?!1:(a=a.slice(2).replace(/Once$/,""),hasOwn(l,a[0].toLowerCase()+a.slice(1))||hasOwn(l,hyphenate(a))||hasOwn(l,a))}function markAttrsAccessed(){}function renderComponentRoot(l){const{type:a,vnode:o,proxy:u,withProxy:s,propsOptions:[c],slots:d,attrs:f,emit:m,render:g,renderCache:v,props:y,data:_,setupState:b,ctx:x,inheritAttrs:w}=l,A=setCurrentRenderingInstance(l);let D,I;try{if(o.shapeFlag&4){const O=s||u,B=O;D=normalizeVNode(g.call(B,O,v,y,b,_,x)),I=f}else{const O=a;D=normalizeVNode(O.length>1?O(y,{attrs:f,slots:d,emit:m}):O(y,null)),I=a.props?f:getFunctionalFallthrough(f)}}catch(O){blockStack.length=0,handleError(O,l,1),D=createVNode(Comment$1)}let N=D;if(I&&w!==!1){const O=Object.keys(I),{shapeFlag:B}=N;O.length&&B&7&&(c&&O.some(isModelListener)&&(I=filterModelListeners(I,c)),N=cloneVNode(N,I,!1,!0))}return o.dirs&&(N=cloneVNode(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(o.dirs):o.dirs),o.transition&&setTransitionHooks(N,o.transition),D=N,setCurrentRenderingInstance(A),D}const getFunctionalFallthrough=l=>{let a;for(const o in l)(o==="class"||o==="style"||isOn(o))&&((a||(a={}))[o]=l[o]);return a},filterModelListeners=(l,a)=>{const o={};for(const u in l)(!isModelListener(u)||!(u.slice(9)in a))&&(o[u]=l[u]);return o};function shouldUpdateComponent(l,a,o){const{props:u,children:s,component:c}=l,{props:d,children:f,patchFlag:m}=a,g=c.emitsOptions;if(a.dirs||a.transition)return!0;if(o&&m>=0){if(m&1024)return!0;if(m&16)return u?hasPropsChanged(u,d,g):!!d;if(m&8){const v=a.dynamicProps;for(let y=0;y<v.length;y++){const _=v[y];if(d[_]!==u[_]&&!isEmitListener(g,_))return!0}}}else return(s||f)&&(!f||!f.$stable)?!0:u===d?!1:u?d?hasPropsChanged(u,d,g):!0:!!d;return!1}function hasPropsChanged(l,a,o){const u=Object.keys(a);if(u.length!==Object.keys(l).length)return!0;for(let s=0;s<u.length;s++){const c=u[s];if(a[c]!==l[c]&&!isEmitListener(o,c))return!0}return!1}function updateHOCHostEl({vnode:l,parent:a},o){for(;a;){const u=a.subTree;if(u.suspense&&u.suspense.activeBranch===l&&(u.el=l.el),u===l)(l=a.vnode).el=o,a=a.parent;else break}}const isSuspense=l=>l.__isSuspense;function queueEffectWithSuspense(l,a){a&&a.pendingBranch?isArray$1(l)?a.effects.push(...l):a.effects.push(l):queuePostFlushCb(l)}const Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment$1=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(l=!1){blockStack.push(currentBlock=l?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(l){isBlockTreeEnabled+=l,l<0&&currentBlock&&(currentBlock.hasOnce=!0)}function setupBlock(l){return l.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(l),l}function createElementBlock(l,a,o,u,s,c){return setupBlock(createBaseVNode(l,a,o,u,s,c,!0))}function createBlock(l,a,o,u,s){return setupBlock(createVNode(l,a,o,u,s,!0))}function isVNode(l){return l?l.__v_isVNode===!0:!1}function isSameVNodeType(l,a){return l.type===a.type&&l.key===a.key}const normalizeKey=({key:l})=>l??null,normalizeRef=({ref:l,ref_key:a,ref_for:o})=>(typeof l=="number"&&(l=""+l),l!=null?isString(l)||isRef(l)||isFunction$2(l)?{i:currentRenderingInstance,r:l,k:a,f:!!o}:l:null);function createBaseVNode(l,a=null,o=null,u=0,s=null,c=l===Fragment?0:1,d=!1,f=!1){const m={__v_isVNode:!0,__v_skip:!0,type:l,props:a,key:a&&normalizeKey(a),ref:a&&normalizeRef(a),scopeId:currentScopeId,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:u,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return f?(normalizeChildren(m,o),c&128&&l.normalize(m)):o&&(m.shapeFlag|=isString(o)?8:16),isBlockTreeEnabled>0&&!d&&currentBlock&&(m.patchFlag>0||c&6)&&m.patchFlag!==32&&currentBlock.push(m),m}const createVNode=_createVNode;function _createVNode(l,a=null,o=null,u=0,s=null,c=!1){if((!l||l===NULL_DYNAMIC_COMPONENT)&&(l=Comment$1),isVNode(l)){const f=cloneVNode(l,a,!0);return o&&normalizeChildren(f,o),isBlockTreeEnabled>0&&!c&&currentBlock&&(f.shapeFlag&6?currentBlock[currentBlock.indexOf(l)]=f:currentBlock.push(f)),f.patchFlag=-2,f}if(isClassComponent(l)&&(l=l.__vccOpts),a){a=guardReactiveProps(a);let{class:f,style:m}=a;f&&!isString(f)&&(a.class=normalizeClass(f)),isObject$2(m)&&(isProxy(m)&&!isArray$1(m)&&(m=extend$1({},m)),a.style=normalizeStyle(m))}const d=isString(l)?1:isSuspense(l)?128:isTeleport(l)?64:isObject$2(l)?4:isFunction$2(l)?2:0;return createBaseVNode(l,a,o,u,s,d,c,!0)}function guardReactiveProps(l){return l?isProxy(l)||isInternalObject(l)?extend$1({},l):l:null}function cloneVNode(l,a,o=!1,u=!1){const{props:s,ref:c,patchFlag:d,children:f,transition:m}=l,g=a?mergeProps(s||{},a):s,v={__v_isVNode:!0,__v_skip:!0,type:l.type,props:g,key:g&&normalizeKey(g),ref:a&&a.ref?o&&c?isArray$1(c)?c.concat(normalizeRef(a)):[c,normalizeRef(a)]:normalizeRef(a):c,scopeId:l.scopeId,slotScopeIds:l.slotScopeIds,children:f,target:l.target,targetStart:l.targetStart,targetAnchor:l.targetAnchor,staticCount:l.staticCount,shapeFlag:l.shapeFlag,patchFlag:a&&l.type!==Fragment?d===-1?16:d|16:d,dynamicProps:l.dynamicProps,dynamicChildren:l.dynamicChildren,appContext:l.appContext,dirs:l.dirs,transition:m,component:l.component,suspense:l.suspense,ssContent:l.ssContent&&cloneVNode(l.ssContent),ssFallback:l.ssFallback&&cloneVNode(l.ssFallback),el:l.el,anchor:l.anchor,ctx:l.ctx,ce:l.ce};return m&&u&&setTransitionHooks(v,m.clone(v)),v}function createTextVNode(l=" ",a=0){return createVNode(Text$1,null,l,a)}function createCommentVNode(l="",a=!1){return a?(openBlock(),createBlock(Comment$1,null,l)):createVNode(Comment$1,null,l)}function normalizeVNode(l){return l==null||typeof l=="boolean"?createVNode(Comment$1):isArray$1(l)?createVNode(Fragment,null,l.slice()):isVNode(l)?cloneIfMounted(l):createVNode(Text$1,null,String(l))}function cloneIfMounted(l){return l.el===null&&l.patchFlag!==-1||l.memo?l:cloneVNode(l)}function normalizeChildren(l,a){let o=0;const{shapeFlag:u}=l;if(a==null)a=null;else if(isArray$1(a))o=16;else if(typeof a=="object")if(u&65){const s=a.default;s&&(s._c&&(s._d=!1),normalizeChildren(l,s()),s._c&&(s._d=!0));return}else{o=32;const s=a._;!s&&!isInternalObject(a)?a._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?a._=1:(a._=2,l.patchFlag|=1024))}else isFunction$2(a)?(a={default:a,_ctx:currentRenderingInstance},o=32):(a=String(a),u&64?(o=16,a=[createTextVNode(a)]):o=8);l.children=a,l.shapeFlag|=o}function mergeProps(...l){const a={};for(let o=0;o<l.length;o++){const u=l[o];for(const s in u)if(s==="class")a.class!==u.class&&(a.class=normalizeClass([a.class,u.class]));else if(s==="style")a.style=normalizeStyle([a.style,u.style]);else if(isOn(s)){const c=a[s],d=u[s];d&&c!==d&&!(isArray$1(c)&&c.includes(d))&&(a[s]=c?[].concat(c,d):d)}else s!==""&&(a[s]=u[s])}return a}function invokeVNodeHook(l,a,o,u=null){callWithAsyncErrorHandling(l,a,7,[o,u])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(l,a,o){const u=l.type,s=(a?a.appContext:l.appContext)||emptyAppContext,c={uid:uid++,vnode:l,type:u,parent:a,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(s.provides),ids:a?a.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(u,s),emitsOptions:normalizeEmitsOptions(u,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:u.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=a?a.root:c,c.emit=emit.bind(null,c),l.ce&&l.ce(c),c}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const l=getGlobalThis(),a=(o,u)=>{let s;return(s=l[o])||(s=l[o]=[]),s.push(u),c=>{s.length>1?s.forEach(d=>d(c)):s[0](c)}};internalSetCurrentInstance=a("__VUE_INSTANCE_SETTERS__",o=>currentInstance=o),setInSSRSetupState=a("__VUE_SSR_SETTERS__",o=>isInSSRComponentSetup=o)}const setCurrentInstance=l=>{const a=currentInstance;return internalSetCurrentInstance(l),l.scope.on(),()=>{l.scope.off(),internalSetCurrentInstance(a)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(l){return l.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(l,a=!1,o=!1){a&&setInSSRSetupState(a);const{props:u,children:s}=l.vnode,c=isStatefulComponent(l);initProps(l,u,c,a),initSlots(l,s,o);const d=c?setupStatefulComponent(l,a):void 0;return a&&setInSSRSetupState(!1),d}function setupStatefulComponent(l,a){const o=l.type;l.accessCache=Object.create(null),l.proxy=new Proxy(l.ctx,PublicInstanceProxyHandlers);const{setup:u}=o;if(u){const s=l.setupContext=u.length>1?createSetupContext(l):null,c=setCurrentInstance(l);pauseTracking();const d=callWithErrorHandling(u,l,0,[l.props,s]);if(resetTracking(),c(),isPromise$1(d)){if(isAsyncWrapper(l)||markAsyncBoundary(l),d.then(unsetCurrentInstance,unsetCurrentInstance),a)return d.then(f=>{handleSetupResult(l,f,a)}).catch(f=>{handleError(f,l,0)});l.asyncDep=d}else handleSetupResult(l,d,a)}else finishComponentSetup(l,a)}function handleSetupResult(l,a,o){isFunction$2(a)?l.type.__ssrInlineRender?l.ssrRender=a:l.render=a:isObject$2(a)&&(l.setupState=proxyRefs(a)),finishComponentSetup(l,o)}let compile;function finishComponentSetup(l,a,o){const u=l.type;if(!l.render){if(!a&&compile&&!u.render){const s=u.template||resolveMergedOptions(l).template;if(s){const{isCustomElement:c,compilerOptions:d}=l.appContext.config,{delimiters:f,compilerOptions:m}=u,g=extend$1(extend$1({isCustomElement:c,delimiters:f},d),m);u.render=compile(s,g)}}l.render=u.render||NOOP}{const s=setCurrentInstance(l);pauseTracking();try{applyOptions(l)}finally{resetTracking(),s()}}}const attrsProxyHandlers={get(l,a){return track(l,"get",""),l[a]}};function createSetupContext(l){const a=o=>{l.exposed=o||{}};return{attrs:new Proxy(l.attrs,attrsProxyHandlers),slots:l.slots,emit:l.emit,expose:a}}function getComponentPublicInstance(l){return l.exposed?l.exposeProxy||(l.exposeProxy=new Proxy(proxyRefs(markRaw(l.exposed)),{get(a,o){if(o in a)return a[o];if(o in publicPropertiesMap)return publicPropertiesMap[o](l)},has(a,o){return o in a||o in publicPropertiesMap}})):l.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=l=>l.replace(classifyRE,a=>a.toUpperCase()).replace(/[-_]/g,"");function getComponentName(l,a=!0){return isFunction$2(l)?l.displayName||l.name:l.name||a&&l.__name}function formatComponentName(l,a,o=!1){let u=getComponentName(a);if(!u&&a.__file){const s=a.__file.match(/([^/\\]+)\.\w+$/);s&&(u=s[1])}if(!u&&l&&l.parent){const s=c=>{for(const d in c)if(c[d]===a)return d};u=s(l.components||l.parent.type.components)||s(l.appContext.components)}return u?classify(u):o?"App":"Anonymous"}function isClassComponent(l){return isFunction$2(l)&&"__vccOpts"in l}const computed=(l,a)=>computed$1(l,a,isInSSRComponentSetup);function h(l,a,o){const u=arguments.length;return u===2?isObject$2(a)&&!isArray$1(a)?isVNode(a)?createVNode(l,null,[a]):createVNode(l,a):createVNode(l,null,a):(u>3?o=Array.prototype.slice.call(arguments,2):u===3&&isVNode(o)&&(o=[o]),createVNode(l,a,o))}const version$7="3.5.11";/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:l=>l})}catch{}const unsafeToTrustedHTML=policy?l=>policy.createHTML(l):l=>l,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(l,a,o)=>{a.insertBefore(l,o||null)},remove:l=>{const a=l.parentNode;a&&a.removeChild(l)},createElement:(l,a,o,u)=>{const s=a==="svg"?doc.createElementNS(svgNS,l):a==="mathml"?doc.createElementNS(mathmlNS,l):o?doc.createElement(l,{is:o}):doc.createElement(l);return l==="select"&&u&&u.multiple!=null&&s.setAttribute("multiple",u.multiple),s},createText:l=>doc.createTextNode(l),createComment:l=>doc.createComment(l),setText:(l,a)=>{l.nodeValue=a},setElementText:(l,a)=>{l.textContent=a},parentNode:l=>l.parentNode,nextSibling:l=>l.nextSibling,querySelector:l=>doc.querySelector(l),setScopeId(l,a){l.setAttribute(a,"")},insertStaticContent(l,a,o,u,s,c){const d=o?o.previousSibling:a.lastChild;if(s&&(s===c||s.nextSibling))for(;a.insertBefore(s.cloneNode(!0),o),!(s===c||!(s=s.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(u==="svg"?`<svg>${l}</svg>`:u==="mathml"?`<math>${l}</math>`:l);const f=templateContainer.content;if(u==="svg"||u==="mathml"){const m=f.firstChild;for(;m.firstChild;)f.appendChild(m.firstChild);f.removeChild(m)}a.insertBefore(f,o)}return[d?d.nextSibling:a.firstChild,o?o.previousSibling:a.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=l=>(l.displayName="Transition",l.props=TransitionPropsValidators,l),Transition=decorate$1((l,{slots:a})=>h(BaseTransition,resolveTransitionProps(l),a)),callHook=(l,a=[])=>{isArray$1(l)?l.forEach(o=>o(...a)):l&&l(...a)},hasExplicitCallback=l=>l?isArray$1(l)?l.some(a=>a.length>1):l.length>1:!1;function resolveTransitionProps(l){const a={};for(const V in l)V in DOMTransitionPropsValidators||(a[V]=l[V]);if(l.css===!1)return a;const{name:o="v",type:u,duration:s,enterFromClass:c=`${o}-enter-from`,enterActiveClass:d=`${o}-enter-active`,enterToClass:f=`${o}-enter-to`,appearFromClass:m=c,appearActiveClass:g=d,appearToClass:v=f,leaveFromClass:y=`${o}-leave-from`,leaveActiveClass:_=`${o}-leave-active`,leaveToClass:b=`${o}-leave-to`}=l,x=normalizeDuration(s),w=x&&x[0],A=x&&x[1],{onBeforeEnter:D,onEnter:I,onEnterCancelled:N,onLeave:O,onLeaveCancelled:B,onBeforeAppear:M=D,onAppear:j=I,onAppearCancelled:L=N}=a,z=(V,Y,Z)=>{removeTransitionClass(V,Y?v:f),removeTransitionClass(V,Y?g:d),Z&&Z()},W=(V,Y)=>{V._isLeaving=!1,removeTransitionClass(V,y),removeTransitionClass(V,b),removeTransitionClass(V,_),Y&&Y()},ne=V=>(Y,Z)=>{const pe=V?j:I,ee=()=>z(Y,V,Z);callHook(pe,[Y,ee]),nextFrame(()=>{removeTransitionClass(Y,V?m:c),addTransitionClass(Y,V?v:f),hasExplicitCallback(pe)||whenTransitionEnds(Y,u,w,ee)})};return extend$1(a,{onBeforeEnter(V){callHook(D,[V]),addTransitionClass(V,c),addTransitionClass(V,d)},onBeforeAppear(V){callHook(M,[V]),addTransitionClass(V,m),addTransitionClass(V,g)},onEnter:ne(!1),onAppear:ne(!0),onLeave(V,Y){V._isLeaving=!0;const Z=()=>W(V,Y);addTransitionClass(V,y),addTransitionClass(V,_),forceReflow(),nextFrame(()=>{V._isLeaving&&(removeTransitionClass(V,y),addTransitionClass(V,b),hasExplicitCallback(O)||whenTransitionEnds(V,u,A,Z))}),callHook(O,[V,Z])},onEnterCancelled(V){z(V,!1),callHook(N,[V])},onAppearCancelled(V){z(V,!0),callHook(L,[V])},onLeaveCancelled(V){W(V),callHook(B,[V])}})}function normalizeDuration(l){if(l==null)return null;if(isObject$2(l))return[NumberOf(l.enter),NumberOf(l.leave)];{const a=NumberOf(l);return[a,a]}}function NumberOf(l){return toNumber(l)}function addTransitionClass(l,a){a.split(/\s+/).forEach(o=>o&&l.classList.add(o)),(l[vtcKey]||(l[vtcKey]=new Set)).add(a)}function removeTransitionClass(l,a){a.split(/\s+/).forEach(u=>u&&l.classList.remove(u));const o=l[vtcKey];o&&(o.delete(a),o.size||(l[vtcKey]=void 0))}function nextFrame(l){requestAnimationFrame(()=>{requestAnimationFrame(l)})}let endId=0;function whenTransitionEnds(l,a,o,u){const s=l._endId=++endId,c=()=>{s===l._endId&&u()};if(o!=null)return setTimeout(c,o);const{type:d,timeout:f,propCount:m}=getTransitionInfo(l,a);if(!d)return u();const g=d+"end";let v=0;const y=()=>{l.removeEventListener(g,_),c()},_=b=>{b.target===l&&++v>=m&&y()};setTimeout(()=>{v<m&&y()},f+1),l.addEventListener(g,_)}function getTransitionInfo(l,a){const o=window.getComputedStyle(l),u=x=>(o[x]||"").split(", "),s=u(`${TRANSITION}Delay`),c=u(`${TRANSITION}Duration`),d=getTimeout(s,c),f=u(`${ANIMATION}Delay`),m=u(`${ANIMATION}Duration`),g=getTimeout(f,m);let v=null,y=0,_=0;a===TRANSITION?d>0&&(v=TRANSITION,y=d,_=c.length):a===ANIMATION?g>0&&(v=ANIMATION,y=g,_=m.length):(y=Math.max(d,g),v=y>0?d>g?TRANSITION:ANIMATION:null,_=v?v===TRANSITION?c.length:m.length:0);const b=v===TRANSITION&&/\b(transform|all)(,|$)/.test(u(`${TRANSITION}Property`).toString());return{type:v,timeout:y,propCount:_,hasTransform:b}}function getTimeout(l,a){for(;l.length<a.length;)l=l.concat(l);return Math.max(...a.map((o,u)=>toMs(o)+toMs(l[u])))}function toMs(l){return l==="auto"?0:Number(l.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(l,a,o){const u=l[vtcKey];u&&(a=(a?[a,...u]:[...u]).join(" ")),a==null?l.removeAttribute("class"):o?l.setAttribute("class",a):l.className=a}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol("");function useCssVars(l){const a=getCurrentInstance();if(!a)return;const o=a.ut=(s=l(a.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${a.uid}"]`)).forEach(c=>setVarsOnNode(c,s))},u=()=>{const s=l(a.proxy);a.ce?setVarsOnNode(a.ce,s):setVarsOnVNode(a.subTree,s),o(s)};onBeforeMount(()=>{watchPostEffect(u)}),onMounted(()=>{const s=new MutationObserver(u);s.observe(a.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>s.disconnect())})}function setVarsOnVNode(l,a){if(l.shapeFlag&128){const o=l.suspense;l=o.activeBranch,o.pendingBranch&&!o.isHydrating&&o.effects.push(()=>{setVarsOnVNode(o.activeBranch,a)})}for(;l.component;)l=l.component.subTree;if(l.shapeFlag&1&&l.el)setVarsOnNode(l.el,a);else if(l.type===Fragment)l.children.forEach(o=>setVarsOnVNode(o,a));else if(l.type===Static){let{el:o,anchor:u}=l;for(;o&&(setVarsOnNode(o,a),o!==u);)o=o.nextSibling}}function setVarsOnNode(l,a){if(l.nodeType===1){const o=l.style;let u="";for(const s in a)o.setProperty(`--${s}`,a[s]),u+=`--${s}: ${a[s]};`;o[CSS_VAR_TEXT]=u}}const displayRE=/(^|;)\s*display\s*:/;function patchStyle(l,a,o){const u=l.style,s=isString(o);let c=!1;if(o&&!s){if(a)if(isString(a))for(const d of a.split(";")){const f=d.slice(0,d.indexOf(":")).trim();o[f]==null&&setStyle(u,f,"")}else for(const d in a)o[d]==null&&setStyle(u,d,"");for(const d in o)d==="display"&&(c=!0),setStyle(u,d,o[d])}else if(s){if(a!==o){const d=u[CSS_VAR_TEXT];d&&(o+=";"+d),u.cssText=o,c=displayRE.test(o)}}else a&&l.removeAttribute("style");vShowOriginalDisplay in l&&(l[vShowOriginalDisplay]=c?u.display:"",l[vShowHidden]&&(u.display="none"))}const importantRE=/\s*!important$/;function setStyle(l,a,o){if(isArray$1(o))o.forEach(u=>setStyle(l,a,u));else if(o==null&&(o=""),a.startsWith("--"))l.setProperty(a,o);else{const u=autoPrefix(l,a);importantRE.test(o)?l.setProperty(hyphenate(u),o.replace(importantRE,""),"important"):l[u]=o}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(l,a){const o=prefixCache[a];if(o)return o;let u=camelize(a);if(u!=="filter"&&u in l)return prefixCache[a]=u;u=capitalize(u);for(let s=0;s<prefixes.length;s++){const c=prefixes[s]+u;if(c in l)return prefixCache[a]=c}return a}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(l,a,o,u,s,c=isSpecialBooleanAttr(a)){u&&a.startsWith("xlink:")?o==null?l.removeAttributeNS(xlinkNS,a.slice(6,a.length)):l.setAttributeNS(xlinkNS,a,o):o==null||c&&!includeBooleanAttr(o)?l.removeAttribute(a):l.setAttribute(a,c?"":isSymbol(o)?String(o):o)}function patchDOMProp(l,a,o,u){if(a==="innerHTML"||a==="textContent"){o!=null&&(l[a]=a==="innerHTML"?unsafeToTrustedHTML(o):o);return}const s=l.tagName;if(a==="value"&&s!=="PROGRESS"&&!s.includes("-")){const d=s==="OPTION"?l.getAttribute("value")||"":l.value,f=o==null?l.type==="checkbox"?"on":"":String(o);(d!==f||!("_value"in l))&&(l.value=f),o==null&&l.removeAttribute(a),l._value=o;return}let c=!1;if(o===""||o==null){const d=typeof l[a];d==="boolean"?o=includeBooleanAttr(o):o==null&&d==="string"?(o="",c=!0):d==="number"&&(o=0,c=!0)}try{l[a]=o}catch{}c&&l.removeAttribute(a)}function addEventListener(l,a,o,u){l.addEventListener(a,o,u)}function removeEventListener(l,a,o,u){l.removeEventListener(a,o,u)}const veiKey=Symbol("_vei");function patchEvent(l,a,o,u,s=null){const c=l[veiKey]||(l[veiKey]={}),d=c[a];if(u&&d)d.value=u;else{const[f,m]=parseName(a);if(u){const g=c[a]=createInvoker(u,s);addEventListener(l,f,g,m)}else d&&(removeEventListener(l,f,d,m),c[a]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(l){let a;if(optionsModifierRE.test(l)){a={};let u;for(;u=l.match(optionsModifierRE);)l=l.slice(0,l.length-u[0].length),a[u[0].toLowerCase()]=!0}return[l[2]===":"?l.slice(3):hyphenate(l.slice(2)),a]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(l,a){const o=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=o.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(u,o.value),a,5,[u])};return o.value=l,o.attached=getNow(),o}function patchStopImmediatePropagation(l,a){if(isArray$1(a)){const o=l.stopImmediatePropagation;return l.stopImmediatePropagation=()=>{o.call(l),l._stopped=!0},a.map(u=>s=>!s._stopped&&u&&u(s))}else return a}const isNativeOn=l=>l.charCodeAt(0)===111&&l.charCodeAt(1)===110&&l.charCodeAt(2)>96&&l.charCodeAt(2)<123,patchProp=(l,a,o,u,s,c)=>{const d=s==="svg";a==="class"?patchClass(l,u,d):a==="style"?patchStyle(l,o,u):isOn(a)?isModelListener(a)||patchEvent(l,a,o,u,c):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):shouldSetAsProp(l,a,u,d))?(patchDOMProp(l,a,u),!l.tagName.includes("-")&&(a==="value"||a==="checked"||a==="selected")&&patchAttr(l,a,u,d,c,a!=="value")):l._isVueCE&&(/[A-Z]/.test(a)||!isString(u))?patchDOMProp(l,camelize(a),u):(a==="true-value"?l._trueValue=u:a==="false-value"&&(l._falseValue=u),patchAttr(l,a,u,d))};function shouldSetAsProp(l,a,o,u){if(u)return!!(a==="innerHTML"||a==="textContent"||a in l&&isNativeOn(a)&&isFunction$2(o));if(a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&l.tagName==="INPUT"||a==="type"&&l.tagName==="TEXTAREA")return!1;if(a==="width"||a==="height"){const s=l.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return isNativeOn(a)&&isString(o)?!1:a in l}const getModelAssigner=l=>{const a=l.props["onUpdate:modelValue"]||!1;return isArray$1(a)?o=>invokeArrayFns(a,o):a};function onCompositionStart(l){l.target.composing=!0}function onCompositionEnd(l){const a=l.target;a.composing&&(a.composing=!1,a.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(l,{modifiers:{lazy:a,trim:o,number:u}},s){l[assignKey]=getModelAssigner(s);const c=u||s.props&&s.props.type==="number";addEventListener(l,a?"change":"input",d=>{if(d.target.composing)return;let f=l.value;o&&(f=f.trim()),c&&(f=looseToNumber(f)),l[assignKey](f)}),o&&addEventListener(l,"change",()=>{l.value=l.value.trim()}),a||(addEventListener(l,"compositionstart",onCompositionStart),addEventListener(l,"compositionend",onCompositionEnd),addEventListener(l,"change",onCompositionEnd))},mounted(l,{value:a}){l.value=a??""},beforeUpdate(l,{value:a,oldValue:o,modifiers:{lazy:u,trim:s,number:c}},d){if(l[assignKey]=getModelAssigner(d),l.composing)return;const f=(c||l.type==="number")&&!/^0\d/.test(l.value)?looseToNumber(l.value):l.value,m=a??"";f!==m&&(document.activeElement===l&&l.type!=="range"&&(u&&a===o||s&&l.value.trim()===m)||(l.value=m))}},vModelCheckbox={deep:!0,created(l,a,o){l[assignKey]=getModelAssigner(o),addEventListener(l,"change",()=>{const u=l._modelValue,s=getValue(l),c=l.checked,d=l[assignKey];if(isArray$1(u)){const f=looseIndexOf(u,s),m=f!==-1;if(c&&!m)d(u.concat(s));else if(!c&&m){const g=[...u];g.splice(f,1),d(g)}}else if(isSet(u)){const f=new Set(u);c?f.add(s):f.delete(s),d(f)}else d(getCheckboxValue(l,c))})},mounted:setChecked,beforeUpdate(l,a,o){l[assignKey]=getModelAssigner(o),setChecked(l,a,o)}};function setChecked(l,{value:a},o){l._modelValue=a;let u;isArray$1(a)?u=looseIndexOf(a,o.props.value)>-1:isSet(a)?u=a.has(o.props.value):u=looseEqual(a,getCheckboxValue(l,!0)),l.checked!==u&&(l.checked=u)}const vModelSelect={deep:!0,created(l,{value:a,modifiers:{number:o}},u){const s=isSet(a);addEventListener(l,"change",()=>{const c=Array.prototype.filter.call(l.options,d=>d.selected).map(d=>o?looseToNumber(getValue(d)):getValue(d));l[assignKey](l.multiple?s?new Set(c):c:c[0]),l._assigning=!0,nextTick(()=>{l._assigning=!1})}),l[assignKey]=getModelAssigner(u)},mounted(l,{value:a}){setSelected(l,a)},beforeUpdate(l,a,o){l[assignKey]=getModelAssigner(o)},updated(l,{value:a}){l._assigning||setSelected(l,a)}};function setSelected(l,a){const o=l.multiple,u=isArray$1(a);if(!(o&&!u&&!isSet(a))){for(let s=0,c=l.options.length;s<c;s++){const d=l.options[s],f=getValue(d);if(o)if(u){const m=typeof f;m==="string"||m==="number"?d.selected=a.some(g=>String(g)===String(f)):d.selected=looseIndexOf(a,f)>-1}else d.selected=a.has(f);else if(looseEqual(getValue(d),a)){l.selectedIndex!==s&&(l.selectedIndex=s);return}}!o&&l.selectedIndex!==-1&&(l.selectedIndex=-1)}}function getValue(l){return"_value"in l?l._value:l.value}function getCheckboxValue(l,a){const o=a?"_trueValue":"_falseValue";return o in l?l[o]:a}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:l=>l.stopPropagation(),prevent:l=>l.preventDefault(),self:l=>l.target!==l.currentTarget,ctrl:l=>!l.ctrlKey,shift:l=>!l.shiftKey,alt:l=>!l.altKey,meta:l=>!l.metaKey,left:l=>"button"in l&&l.button!==0,middle:l=>"button"in l&&l.button!==1,right:l=>"button"in l&&l.button!==2,exact:(l,a)=>systemModifiers.some(o=>l[`${o}Key`]&&!a.includes(o))},withModifiers=(l,a)=>{const o=l._withMods||(l._withMods={}),u=a.join(".");return o[u]||(o[u]=(s,...c)=>{for(let d=0;d<a.length;d++){const f=modifierGuards[a[d]];if(f&&f(s,a))return}return l(s,...c)})},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...l)=>{const a=ensureRenderer().createApp(...l),{mount:o}=a;return a.mount=u=>{const s=normalizeContainer(u);if(!s)return;const c=a._component;!isFunction$2(c)&&!c.render&&!c.template&&(c.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const d=o(s,!1,resolveRootNamespace(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),d},a};function resolveRootNamespace(l){if(l instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&l instanceof MathMLElement)return"mathml"}function normalizeContainer(l){return isString(l)?document.querySelector(l):l}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function getAugmentedNamespace(l){if(l.__esModule)return l;var a=l.default;if(typeof a=="function"){var o=function u(){return this instanceof u?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};o.prototype=a.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(l).forEach(function(u){var s=Object.getOwnPropertyDescriptor(l,u);Object.defineProperty(o,u,s.get?s:{enumerable:!0,get:function(){return l[u]}})}),o}var feather$2={exports:{}};(function(l,a){(function(u,s){l.exports=s()})(typeof self<"u"?self:commonjsGlobal$1,function(){return function(o){var u={};function s(c){if(u[c])return u[c].exports;var d=u[c]={i:c,l:!1,exports:{}};return o[c].call(d.exports,d,d.exports,s),d.l=!0,d.exports}return s.m=o,s.c=u,s.d=function(c,d,f){s.o(c,d)||Object.defineProperty(c,d,{configurable:!1,enumerable:!0,get:f})},s.r=function(c){Object.defineProperty(c,"__esModule",{value:!0})},s.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(d,"a",d),d},s.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},s.p="",s(s.s=0)}({"./dist/icons.json":function(o){o.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',table:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},"./node_modules/classnames/dedupe.js":function(o,u,s){var c,d;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var f=function(){function m(){}m.prototype=Object.create(null);function g(D,I){for(var N=I.length,O=0;O<N;++O)w(D,I[O])}var v={}.hasOwnProperty;function y(D,I){D[I]=!0}function _(D,I){for(var N in I)v.call(I,N)&&(D[N]=!!I[N])}var b=/\s+/;function x(D,I){for(var N=I.split(b),O=N.length,B=0;B<O;++B)D[N[B]]=!0}function w(D,I){if(I){var N=typeof I;N==="string"?x(D,I):Array.isArray(I)?g(D,I):N==="object"?_(D,I):N==="number"&&y(D,I)}}function A(){for(var D=arguments.length,I=Array(D),N=0;N<D;N++)I[N]=arguments[N];var O=new m;g(O,I);var B=[];for(var M in O)O[M]&&B.push(M);return B.join(" ")}return A}();typeof o<"u"&&o.exports?o.exports=f:(c=[],d=function(){return f}.apply(u,c),d!==void 0&&(o.exports=d))})()},"./node_modules/core-js/es/array/from.js":function(o,u,s){s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.array.from.js");var c=s("./node_modules/core-js/internals/path.js");o.exports=c.Array.from},"./node_modules/core-js/internals/a-function.js":function(o,u){o.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},"./node_modules/core-js/internals/an-object.js":function(o,u,s){var c=s("./node_modules/core-js/internals/is-object.js");o.exports=function(d){if(!c(d))throw TypeError(String(d)+" is not an object");return d}},"./node_modules/core-js/internals/array-from.js":function(o,u,s){var c=s("./node_modules/core-js/internals/bind-context.js"),d=s("./node_modules/core-js/internals/to-object.js"),f=s("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),m=s("./node_modules/core-js/internals/is-array-iterator-method.js"),g=s("./node_modules/core-js/internals/to-length.js"),v=s("./node_modules/core-js/internals/create-property.js"),y=s("./node_modules/core-js/internals/get-iterator-method.js");o.exports=function(b){var x=d(b),w=typeof this=="function"?this:Array,A=arguments.length,D=A>1?arguments[1]:void 0,I=D!==void 0,N=0,O=y(x),B,M,j,L;if(I&&(D=c(D,A>2?arguments[2]:void 0,2)),O!=null&&!(w==Array&&m(O)))for(L=O.call(x),M=new w;!(j=L.next()).done;N++)v(M,N,I?f(L,D,[j.value,N],!0):j.value);else for(B=g(x.length),M=new w(B);B>N;N++)v(M,N,I?D(x[N],N):x[N]);return M.length=N,M}},"./node_modules/core-js/internals/array-includes.js":function(o,u,s){var c=s("./node_modules/core-js/internals/to-indexed-object.js"),d=s("./node_modules/core-js/internals/to-length.js"),f=s("./node_modules/core-js/internals/to-absolute-index.js");o.exports=function(m){return function(g,v,y){var _=c(g),b=d(_.length),x=f(y,b),w;if(m&&v!=v){for(;b>x;)if(w=_[x++],w!=w)return!0}else for(;b>x;x++)if((m||x in _)&&_[x]===v)return m||x||0;return!m&&-1}}},"./node_modules/core-js/internals/bind-context.js":function(o,u,s){var c=s("./node_modules/core-js/internals/a-function.js");o.exports=function(d,f,m){if(c(d),f===void 0)return d;switch(m){case 0:return function(){return d.call(f)};case 1:return function(g){return d.call(f,g)};case 2:return function(g,v){return d.call(f,g,v)};case 3:return function(g,v,y){return d.call(f,g,v,y)}}return function(){return d.apply(f,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(o,u,s){var c=s("./node_modules/core-js/internals/an-object.js");o.exports=function(d,f,m,g){try{return g?f(c(m)[0],m[1]):f(m)}catch(y){var v=d.return;throw v!==void 0&&c(v.call(d)),y}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(o,u,s){var c=s("./node_modules/core-js/internals/well-known-symbol.js"),d=c("iterator"),f=!1;try{var m=0,g={next:function(){return{done:!!m++}},return:function(){f=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch{}o.exports=function(v,y){if(!y&&!f)return!1;var _=!1;try{var b={};b[d]=function(){return{next:function(){return{done:_=!0}}}},v(b)}catch{}return _}},"./node_modules/core-js/internals/classof-raw.js":function(o,u){var s={}.toString;o.exports=function(c){return s.call(c).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(o,u,s){var c=s("./node_modules/core-js/internals/classof-raw.js"),d=s("./node_modules/core-js/internals/well-known-symbol.js"),f=d("toStringTag"),m=c(function(){return arguments}())=="Arguments",g=function(v,y){try{return v[y]}catch{}};o.exports=function(v){var y,_,b;return v===void 0?"Undefined":v===null?"Null":typeof(_=g(y=Object(v),f))=="string"?_:m?c(y):(b=c(y))=="Object"&&typeof y.callee=="function"?"Arguments":b}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(o,u,s){var c=s("./node_modules/core-js/internals/has.js"),d=s("./node_modules/core-js/internals/own-keys.js"),f=s("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),m=s("./node_modules/core-js/internals/object-define-property.js");o.exports=function(g,v){for(var y=d(v),_=m.f,b=f.f,x=0;x<y.length;x++){var w=y[x];c(g,w)||_(g,w,b(v,w))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(o,u,s){var c=s("./node_modules/core-js/internals/fails.js");o.exports=!c(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},"./node_modules/core-js/internals/create-iterator-constructor.js":function(o,u,s){var c=s("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,d=s("./node_modules/core-js/internals/object-create.js"),f=s("./node_modules/core-js/internals/create-property-descriptor.js"),m=s("./node_modules/core-js/internals/set-to-string-tag.js"),g=s("./node_modules/core-js/internals/iterators.js"),v=function(){return this};o.exports=function(y,_,b){var x=_+" Iterator";return y.prototype=d(c,{next:f(1,b)}),m(y,x,!1,!0),g[x]=v,y}},"./node_modules/core-js/internals/create-property-descriptor.js":function(o,u){o.exports=function(s,c){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:c}}},"./node_modules/core-js/internals/create-property.js":function(o,u,s){var c=s("./node_modules/core-js/internals/to-primitive.js"),d=s("./node_modules/core-js/internals/object-define-property.js"),f=s("./node_modules/core-js/internals/create-property-descriptor.js");o.exports=function(m,g,v){var y=c(g);y in m?d.f(m,y,f(0,v)):m[y]=v}},"./node_modules/core-js/internals/define-iterator.js":function(o,u,s){var c=s("./node_modules/core-js/internals/export.js"),d=s("./node_modules/core-js/internals/create-iterator-constructor.js"),f=s("./node_modules/core-js/internals/object-get-prototype-of.js"),m=s("./node_modules/core-js/internals/object-set-prototype-of.js"),g=s("./node_modules/core-js/internals/set-to-string-tag.js"),v=s("./node_modules/core-js/internals/hide.js"),y=s("./node_modules/core-js/internals/redefine.js"),_=s("./node_modules/core-js/internals/well-known-symbol.js"),b=s("./node_modules/core-js/internals/is-pure.js"),x=s("./node_modules/core-js/internals/iterators.js"),w=s("./node_modules/core-js/internals/iterators-core.js"),A=w.IteratorPrototype,D=w.BUGGY_SAFARI_ITERATORS,I=_("iterator"),N="keys",O="values",B="entries",M=function(){return this};o.exports=function(j,L,z,W,ne,V,Y){d(z,L,W);var Z=function(ve){if(ve===ne&&De)return De;if(!D&&ve in se)return se[ve];switch(ve){case N:return function(){return new z(this,ve)};case O:return function(){return new z(this,ve)};case B:return function(){return new z(this,ve)}}return function(){return new z(this)}},pe=L+" Iterator",ee=!1,se=j.prototype,ge=se[I]||se["@@iterator"]||ne&&se[ne],De=!D&&ge||Z(ne),oe=L=="Array"&&se.entries||ge,ae,Ae,J;if(oe&&(ae=f(oe.call(new j)),A!==Object.prototype&&ae.next&&(!b&&f(ae)!==A&&(m?m(ae,A):typeof ae[I]!="function"&&v(ae,I,M)),g(ae,pe,!0,!0),b&&(x[pe]=M))),ne==O&&ge&&ge.name!==O&&(ee=!0,De=function(){return ge.call(this)}),(!b||Y)&&se[I]!==De&&v(se,I,De),x[L]=De,ne)if(Ae={values:Z(O),keys:V?De:Z(N),entries:Z(B)},Y)for(J in Ae)(D||ee||!(J in se))&&y(se,J,Ae[J]);else c({target:L,proto:!0,forced:D||ee},Ae);return Ae}},"./node_modules/core-js/internals/descriptors.js":function(o,u,s){var c=s("./node_modules/core-js/internals/fails.js");o.exports=!c(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/document-create-element.js":function(o,u,s){var c=s("./node_modules/core-js/internals/global.js"),d=s("./node_modules/core-js/internals/is-object.js"),f=c.document,m=d(f)&&d(f.createElement);o.exports=function(g){return m?f.createElement(g):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":function(o,u){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(o,u,s){var c=s("./node_modules/core-js/internals/global.js"),d=s("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,f=s("./node_modules/core-js/internals/hide.js"),m=s("./node_modules/core-js/internals/redefine.js"),g=s("./node_modules/core-js/internals/set-global.js"),v=s("./node_modules/core-js/internals/copy-constructor-properties.js"),y=s("./node_modules/core-js/internals/is-forced.js");o.exports=function(_,b){var x=_.target,w=_.global,A=_.stat,D,I,N,O,B,M;if(w?I=c:A?I=c[x]||g(x,{}):I=(c[x]||{}).prototype,I)for(N in b){if(B=b[N],_.noTargetGet?(M=d(I,N),O=M&&M.value):O=I[N],D=y(w?N:x+(A?".":"#")+N,_.forced),!D&&O!==void 0){if(typeof B==typeof O)continue;v(B,O)}(_.sham||O&&O.sham)&&f(B,"sham",!0),m(I,N,B,_)}}},"./node_modules/core-js/internals/fails.js":function(o,u){o.exports=function(s){try{return!!s()}catch{return!0}}},"./node_modules/core-js/internals/function-to-string.js":function(o,u,s){var c=s("./node_modules/core-js/internals/shared.js");o.exports=c("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-iterator-method.js":function(o,u,s){var c=s("./node_modules/core-js/internals/classof.js"),d=s("./node_modules/core-js/internals/iterators.js"),f=s("./node_modules/core-js/internals/well-known-symbol.js"),m=f("iterator");o.exports=function(g){if(g!=null)return g[m]||g["@@iterator"]||d[c(g)]}},"./node_modules/core-js/internals/global.js":function(o,u,s){(function(c){var d="object",f=function(m){return m&&m.Math==Math&&m};o.exports=f(typeof globalThis==d&&globalThis)||f(typeof window==d&&window)||f(typeof self==d&&self)||f(typeof c==d&&c)||Function("return this")()}).call(this,s("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":function(o,u){var s={}.hasOwnProperty;o.exports=function(c,d){return s.call(c,d)}},"./node_modules/core-js/internals/hidden-keys.js":function(o,u){o.exports={}},"./node_modules/core-js/internals/hide.js":function(o,u,s){var c=s("./node_modules/core-js/internals/descriptors.js"),d=s("./node_modules/core-js/internals/object-define-property.js"),f=s("./node_modules/core-js/internals/create-property-descriptor.js");o.exports=c?function(m,g,v){return d.f(m,g,f(1,v))}:function(m,g,v){return m[g]=v,m}},"./node_modules/core-js/internals/html.js":function(o,u,s){var c=s("./node_modules/core-js/internals/global.js"),d=c.document;o.exports=d&&d.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(o,u,s){var c=s("./node_modules/core-js/internals/descriptors.js"),d=s("./node_modules/core-js/internals/fails.js"),f=s("./node_modules/core-js/internals/document-create-element.js");o.exports=!c&&!d(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(o,u,s){var c=s("./node_modules/core-js/internals/fails.js"),d=s("./node_modules/core-js/internals/classof-raw.js"),f="".split;o.exports=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(m){return d(m)=="String"?f.call(m,""):Object(m)}:Object},"./node_modules/core-js/internals/internal-state.js":function(o,u,s){var c=s("./node_modules/core-js/internals/native-weak-map.js"),d=s("./node_modules/core-js/internals/global.js"),f=s("./node_modules/core-js/internals/is-object.js"),m=s("./node_modules/core-js/internals/hide.js"),g=s("./node_modules/core-js/internals/has.js"),v=s("./node_modules/core-js/internals/shared-key.js"),y=s("./node_modules/core-js/internals/hidden-keys.js"),_=d.WeakMap,b,x,w,A=function(j){return w(j)?x(j):b(j,{})},D=function(j){return function(L){var z;if(!f(L)||(z=x(L)).type!==j)throw TypeError("Incompatible receiver, "+j+" required");return z}};if(c){var I=new _,N=I.get,O=I.has,B=I.set;b=function(j,L){return B.call(I,j,L),L},x=function(j){return N.call(I,j)||{}},w=function(j){return O.call(I,j)}}else{var M=v("state");y[M]=!0,b=function(j,L){return m(j,M,L),L},x=function(j){return g(j,M)?j[M]:{}},w=function(j){return g(j,M)}}o.exports={set:b,get:x,has:w,enforce:A,getterFor:D}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(o,u,s){var c=s("./node_modules/core-js/internals/well-known-symbol.js"),d=s("./node_modules/core-js/internals/iterators.js"),f=c("iterator"),m=Array.prototype;o.exports=function(g){return g!==void 0&&(d.Array===g||m[f]===g)}},"./node_modules/core-js/internals/is-forced.js":function(o,u,s){var c=s("./node_modules/core-js/internals/fails.js"),d=/#|\.prototype\./,f=function(_,b){var x=g[m(_)];return x==y?!0:x==v?!1:typeof b=="function"?c(b):!!b},m=f.normalize=function(_){return String(_).replace(d,".").toLowerCase()},g=f.data={},v=f.NATIVE="N",y=f.POLYFILL="P";o.exports=f},"./node_modules/core-js/internals/is-object.js":function(o,u){o.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},"./node_modules/core-js/internals/is-pure.js":function(o,u){o.exports=!1},"./node_modules/core-js/internals/iterators-core.js":function(o,u,s){var c=s("./node_modules/core-js/internals/object-get-prototype-of.js"),d=s("./node_modules/core-js/internals/hide.js"),f=s("./node_modules/core-js/internals/has.js"),m=s("./node_modules/core-js/internals/well-known-symbol.js"),g=s("./node_modules/core-js/internals/is-pure.js"),v=m("iterator"),y=!1,_=function(){return this},b,x,w;[].keys&&(w=[].keys(),"next"in w?(x=c(c(w)),x!==Object.prototype&&(b=x)):y=!0),b==null&&(b={}),!g&&!f(b,v)&&d(b,v,_),o.exports={IteratorPrototype:b,BUGGY_SAFARI_ITERATORS:y}},"./node_modules/core-js/internals/iterators.js":function(o,u){o.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(o,u,s){var c=s("./node_modules/core-js/internals/fails.js");o.exports=!!Object.getOwnPropertySymbols&&!c(function(){return!String(Symbol())})},"./node_modules/core-js/internals/native-weak-map.js":function(o,u,s){var c=s("./node_modules/core-js/internals/global.js"),d=s("./node_modules/core-js/internals/function-to-string.js"),f=c.WeakMap;o.exports=typeof f=="function"&&/native code/.test(d.call(f))},"./node_modules/core-js/internals/object-create.js":function(o,u,s){var c=s("./node_modules/core-js/internals/an-object.js"),d=s("./node_modules/core-js/internals/object-define-properties.js"),f=s("./node_modules/core-js/internals/enum-bug-keys.js"),m=s("./node_modules/core-js/internals/hidden-keys.js"),g=s("./node_modules/core-js/internals/html.js"),v=s("./node_modules/core-js/internals/document-create-element.js"),y=s("./node_modules/core-js/internals/shared-key.js"),_=y("IE_PROTO"),b="prototype",x=function(){},w=function(){var A=v("iframe"),D=f.length,I="<",N="script",O=">",B="java"+N+":",M;for(A.style.display="none",g.appendChild(A),A.src=String(B),M=A.contentWindow.document,M.open(),M.write(I+N+O+"document.F=Object"+I+"/"+N+O),M.close(),w=M.F;D--;)delete w[b][f[D]];return w()};o.exports=Object.create||function(D,I){var N;return D!==null?(x[b]=c(D),N=new x,x[b]=null,N[_]=D):N=w(),I===void 0?N:d(N,I)},m[_]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(o,u,s){var c=s("./node_modules/core-js/internals/descriptors.js"),d=s("./node_modules/core-js/internals/object-define-property.js"),f=s("./node_modules/core-js/internals/an-object.js"),m=s("./node_modules/core-js/internals/object-keys.js");o.exports=c?Object.defineProperties:function(v,y){f(v);for(var _=m(y),b=_.length,x=0,w;b>x;)d.f(v,w=_[x++],y[w]);return v}},"./node_modules/core-js/internals/object-define-property.js":function(o,u,s){var c=s("./node_modules/core-js/internals/descriptors.js"),d=s("./node_modules/core-js/internals/ie8-dom-define.js"),f=s("./node_modules/core-js/internals/an-object.js"),m=s("./node_modules/core-js/internals/to-primitive.js"),g=Object.defineProperty;u.f=c?g:function(y,_,b){if(f(y),_=m(_,!0),f(b),d)try{return g(y,_,b)}catch{}if("get"in b||"set"in b)throw TypeError("Accessors not supported");return"value"in b&&(y[_]=b.value),y}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(o,u,s){var c=s("./node_modules/core-js/internals/descriptors.js"),d=s("./node_modules/core-js/internals/object-property-is-enumerable.js"),f=s("./node_modules/core-js/internals/create-property-descriptor.js"),m=s("./node_modules/core-js/internals/to-indexed-object.js"),g=s("./node_modules/core-js/internals/to-primitive.js"),v=s("./node_modules/core-js/internals/has.js"),y=s("./node_modules/core-js/internals/ie8-dom-define.js"),_=Object.getOwnPropertyDescriptor;u.f=c?_:function(x,w){if(x=m(x),w=g(w,!0),y)try{return _(x,w)}catch{}if(v(x,w))return f(!d.f.call(x,w),x[w])}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(o,u,s){var c=s("./node_modules/core-js/internals/object-keys-internal.js"),d=s("./node_modules/core-js/internals/enum-bug-keys.js"),f=d.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(g){return c(g,f)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(o,u){u.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(o,u,s){var c=s("./node_modules/core-js/internals/has.js"),d=s("./node_modules/core-js/internals/to-object.js"),f=s("./node_modules/core-js/internals/shared-key.js"),m=s("./node_modules/core-js/internals/correct-prototype-getter.js"),g=f("IE_PROTO"),v=Object.prototype;o.exports=m?Object.getPrototypeOf:function(y){return y=d(y),c(y,g)?y[g]:typeof y.constructor=="function"&&y instanceof y.constructor?y.constructor.prototype:y instanceof Object?v:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(o,u,s){var c=s("./node_modules/core-js/internals/has.js"),d=s("./node_modules/core-js/internals/to-indexed-object.js"),f=s("./node_modules/core-js/internals/array-includes.js"),m=s("./node_modules/core-js/internals/hidden-keys.js"),g=f(!1);o.exports=function(v,y){var _=d(v),b=0,x=[],w;for(w in _)!c(m,w)&&c(_,w)&&x.push(w);for(;y.length>b;)c(_,w=y[b++])&&(~g(x,w)||x.push(w));return x}},"./node_modules/core-js/internals/object-keys.js":function(o,u,s){var c=s("./node_modules/core-js/internals/object-keys-internal.js"),d=s("./node_modules/core-js/internals/enum-bug-keys.js");o.exports=Object.keys||function(m){return c(m,d)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(o,u,s){var c={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,f=d&&!c.call({1:2},1);u.f=f?function(g){var v=d(this,g);return!!v&&v.enumerable}:c},"./node_modules/core-js/internals/object-set-prototype-of.js":function(o,u,s){var c=s("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,f={},m;try{m=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,m.call(f,[]),d=f instanceof Array}catch{}return function(v,y){return c(v,y),d?m.call(v,y):v.__proto__=y,v}}():void 0)},"./node_modules/core-js/internals/own-keys.js":function(o,u,s){var c=s("./node_modules/core-js/internals/global.js"),d=s("./node_modules/core-js/internals/object-get-own-property-names.js"),f=s("./node_modules/core-js/internals/object-get-own-property-symbols.js"),m=s("./node_modules/core-js/internals/an-object.js"),g=c.Reflect;o.exports=g&&g.ownKeys||function(y){var _=d.f(m(y)),b=f.f;return b?_.concat(b(y)):_}},"./node_modules/core-js/internals/path.js":function(o,u,s){o.exports=s("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/redefine.js":function(o,u,s){var c=s("./node_modules/core-js/internals/global.js"),d=s("./node_modules/core-js/internals/shared.js"),f=s("./node_modules/core-js/internals/hide.js"),m=s("./node_modules/core-js/internals/has.js"),g=s("./node_modules/core-js/internals/set-global.js"),v=s("./node_modules/core-js/internals/function-to-string.js"),y=s("./node_modules/core-js/internals/internal-state.js"),_=y.get,b=y.enforce,x=String(v).split("toString");d("inspectSource",function(w){return v.call(w)}),(o.exports=function(w,A,D,I){var N=I?!!I.unsafe:!1,O=I?!!I.enumerable:!1,B=I?!!I.noTargetGet:!1;if(typeof D=="function"&&(typeof A=="string"&&!m(D,"name")&&f(D,"name",A),b(D).source=x.join(typeof A=="string"?A:"")),w===c){O?w[A]=D:g(A,D);return}else N?!B&&w[A]&&(O=!0):delete w[A];O?w[A]=D:f(w,A,D)})(Function.prototype,"toString",function(){return typeof this=="function"&&_(this).source||v.call(this)})},"./node_modules/core-js/internals/require-object-coercible.js":function(o,u){o.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},"./node_modules/core-js/internals/set-global.js":function(o,u,s){var c=s("./node_modules/core-js/internals/global.js"),d=s("./node_modules/core-js/internals/hide.js");o.exports=function(f,m){try{d(c,f,m)}catch{c[f]=m}return m}},"./node_modules/core-js/internals/set-to-string-tag.js":function(o,u,s){var c=s("./node_modules/core-js/internals/object-define-property.js").f,d=s("./node_modules/core-js/internals/has.js"),f=s("./node_modules/core-js/internals/well-known-symbol.js"),m=f("toStringTag");o.exports=function(g,v,y){g&&!d(g=y?g:g.prototype,m)&&c(g,m,{configurable:!0,value:v})}},"./node_modules/core-js/internals/shared-key.js":function(o,u,s){var c=s("./node_modules/core-js/internals/shared.js"),d=s("./node_modules/core-js/internals/uid.js"),f=c("keys");o.exports=function(m){return f[m]||(f[m]=d(m))}},"./node_modules/core-js/internals/shared.js":function(o,u,s){var c=s("./node_modules/core-js/internals/global.js"),d=s("./node_modules/core-js/internals/set-global.js"),f=s("./node_modules/core-js/internals/is-pure.js"),m="__core-js_shared__",g=c[m]||d(m,{});(o.exports=function(v,y){return g[v]||(g[v]=y!==void 0?y:{})})("versions",[]).push({version:"3.1.3",mode:f?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-at.js":function(o,u,s){var c=s("./node_modules/core-js/internals/to-integer.js"),d=s("./node_modules/core-js/internals/require-object-coercible.js");o.exports=function(f,m,g){var v=String(d(f)),y=c(m),_=v.length,b,x;return y<0||y>=_?g?"":void 0:(b=v.charCodeAt(y),b<55296||b>56319||y+1===_||(x=v.charCodeAt(y+1))<56320||x>57343?g?v.charAt(y):b:g?v.slice(y,y+2):(b-55296<<10)+(x-56320)+65536)}},"./node_modules/core-js/internals/to-absolute-index.js":function(o,u,s){var c=s("./node_modules/core-js/internals/to-integer.js"),d=Math.max,f=Math.min;o.exports=function(m,g){var v=c(m);return v<0?d(v+g,0):f(v,g)}},"./node_modules/core-js/internals/to-indexed-object.js":function(o,u,s){var c=s("./node_modules/core-js/internals/indexed-object.js"),d=s("./node_modules/core-js/internals/require-object-coercible.js");o.exports=function(f){return c(d(f))}},"./node_modules/core-js/internals/to-integer.js":function(o,u){var s=Math.ceil,c=Math.floor;o.exports=function(d){return isNaN(d=+d)?0:(d>0?c:s)(d)}},"./node_modules/core-js/internals/to-length.js":function(o,u,s){var c=s("./node_modules/core-js/internals/to-integer.js"),d=Math.min;o.exports=function(f){return f>0?d(c(f),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(o,u,s){var c=s("./node_modules/core-js/internals/require-object-coercible.js");o.exports=function(d){return Object(c(d))}},"./node_modules/core-js/internals/to-primitive.js":function(o,u,s){var c=s("./node_modules/core-js/internals/is-object.js");o.exports=function(d,f){if(!c(d))return d;var m,g;if(f&&typeof(m=d.toString)=="function"&&!c(g=m.call(d))||typeof(m=d.valueOf)=="function"&&!c(g=m.call(d))||!f&&typeof(m=d.toString)=="function"&&!c(g=m.call(d)))return g;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(o,u){var s=0,c=Math.random();o.exports=function(d){return"Symbol(".concat(d===void 0?"":d,")_",(++s+c).toString(36))}},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(o,u,s){var c=s("./node_modules/core-js/internals/is-object.js"),d=s("./node_modules/core-js/internals/an-object.js");o.exports=function(f,m){if(d(f),!c(m)&&m!==null)throw TypeError("Can't set "+String(m)+" as a prototype")}},"./node_modules/core-js/internals/well-known-symbol.js":function(o,u,s){var c=s("./node_modules/core-js/internals/global.js"),d=s("./node_modules/core-js/internals/shared.js"),f=s("./node_modules/core-js/internals/uid.js"),m=s("./node_modules/core-js/internals/native-symbol.js"),g=c.Symbol,v=d("wks");o.exports=function(y){return v[y]||(v[y]=m&&g[y]||(m?g:f)("Symbol."+y))}},"./node_modules/core-js/modules/es.array.from.js":function(o,u,s){var c=s("./node_modules/core-js/internals/export.js"),d=s("./node_modules/core-js/internals/array-from.js"),f=s("./node_modules/core-js/internals/check-correctness-of-iteration.js"),m=!f(function(g){Array.from(g)});c({target:"Array",stat:!0,forced:m},{from:d})},"./node_modules/core-js/modules/es.string.iterator.js":function(o,u,s){var c=s("./node_modules/core-js/internals/string-at.js"),d=s("./node_modules/core-js/internals/internal-state.js"),f=s("./node_modules/core-js/internals/define-iterator.js"),m="String Iterator",g=d.set,v=d.getterFor(m);f(String,"String",function(y){g(this,{type:m,string:String(y),index:0})},function(){var _=v(this),b=_.string,x=_.index,w;return x>=b.length?{value:void 0,done:!0}:(w=c(b,x,!0),_.index+=w.length,{value:w,done:!1})})},"./node_modules/webpack/buildin/global.js":function(o,u){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(s=window)}o.exports=s},"./src/default-attrs.json":function(o){o.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},"./src/icon.js":function(o,u,s){Object.defineProperty(u,"__esModule",{value:!0});var c=Object.assign||function(w){for(var A=1;A<arguments.length;A++){var D=arguments[A];for(var I in D)Object.prototype.hasOwnProperty.call(D,I)&&(w[I]=D[I])}return w},d=function(){function w(A,D){for(var I=0;I<D.length;I++){var N=D[I];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,D,I){return D&&w(A.prototype,D),I&&w(A,I),A}}(),f=s("./node_modules/classnames/dedupe.js"),m=y(f),g=s("./src/default-attrs.json"),v=y(g);function y(w){return w&&w.__esModule?w:{default:w}}function _(w,A){if(!(w instanceof A))throw new TypeError("Cannot call a class as a function")}var b=function(){function w(A,D){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];_(this,w),this.name=A,this.contents=D,this.tags=I,this.attrs=c({},v.default,{class:"feather feather-"+A})}return d(w,[{key:"toSvg",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=c({},this.attrs,D,{class:(0,m.default)(this.attrs.class,D.class)});return"<svg "+x(I)+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),w}();function x(w){return Object.keys(w).map(function(A){return A+'="'+w[A]+'"'}).join(" ")}u.default=b},"./src/icons.js":function(o,u,s){Object.defineProperty(u,"__esModule",{value:!0});var c=s("./src/icon.js"),d=y(c),f=s("./dist/icons.json"),m=y(f),g=s("./src/tags.json"),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}u.default=Object.keys(m.default).map(function(_){return new d.default(_,m.default[_],v.default[_])}).reduce(function(_,b){return _[b.name]=b,_},{})},"./src/index.js":function(o,u,s){var c=s("./src/icons.js"),d=y(c),f=s("./src/to-svg.js"),m=y(f),g=s("./src/replace.js"),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}o.exports={icons:d.default,toSvg:m.default,replace:v.default}},"./src/replace.js":function(o,u,s){Object.defineProperty(u,"__esModule",{value:!0});var c=Object.assign||function(x){for(var w=1;w<arguments.length;w++){var A=arguments[w];for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(x[D]=A[D])}return x},d=s("./node_modules/classnames/dedupe.js"),f=v(d),m=s("./src/icons.js"),g=v(m);function v(x){return x&&x.__esModule?x:{default:x}}function y(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var w=document.querySelectorAll("[data-feather]");Array.from(w).forEach(function(A){return _(A,x)})}function _(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=b(x),D=A["data-feather"];if(delete A["data-feather"],g.default[D]===void 0){console.warn("feather: '"+D+"' is not a valid icon");return}var I=g.default[D].toSvg(c({},w,A,{class:(0,f.default)(w.class,A.class)})),N=new DOMParser().parseFromString(I,"image/svg+xml"),O=N.querySelector("svg");x.parentNode.replaceChild(O,x)}function b(x){return Array.from(x.attributes).reduce(function(w,A){return w[A.name]=A.value,w},{})}u.default=y},"./src/tags.json":function(o){o.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],"chevron-down":["expand"],"chevron-up":["collapse"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-buoy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},"./src/to-svg.js":function(o,u,s){Object.defineProperty(u,"__esModule",{value:!0});var c=s("./src/icons.js"),d=f(c);function f(g){return g&&g.__esModule?g:{default:g}}function m(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!g)throw new Error("The required `key` (icon name) parameter is missing.");if(!d.default[g])throw new Error("No icon matching '"+g+"'. See the complete list of icons at https://feathericons.com");return d.default[g].toSvg(v)}u.default=m},0:function(o,u,s){s("./node_modules/core-js/es/array/from.js"),o.exports=s("./src/index.js")}})})})(feather$2);var featherExports=feather$2.exports;const feather=getDefaultExportFromCjs(featherExports),feather$1=_mergeNamespaces({__proto__:null,default:feather},[featherExports]);/*! vue-feather v2.0.0 | (c) 2018-present Chen Fengyuan | MIT */var script=defineComponent({name:"VueFeather",props:{animation:{type:String,default:void 0},animationSpeed:{type:String,default:void 0},fill:{type:String,default:"none"},size:{type:[Number,String],default:24},stroke:{type:String,default:"currentColor"},strokeLinecap:{type:String,default:"round"},strokeLinejoin:{type:String,default:"round"},strokeWidth:{type:[Number,String],default:2},tag:{type:String,default:"i"},type:{type:String,default:"feather",validator(l){if(!feather$1)throw new Error("The Feather icons is required.");if(!featherExports.icons[l])throw new Error(`"${l}" is not an available icon type.`);return!0}}},computed:{isRemSize(){return typeof this.size=="string"&&this.size.endsWith("rem")}},render(){const{animation:l,animationSpeed:a,isRemSize:o,size:u,type:s}=this,c=featherExports.icons[s];return h(this.tag,{...this.$attrs,"data-name":s,"data-tags":c.tags,"data-type":s,class:{"vue-feather":!0,[`vue-feather--${s}`]:s,[`vue-feather--${l}`]:l,[`vue-feather--${a}`]:a},style:o?{height:u,width:u}:void 0},[h("svg",{...c.attrs,fill:this.fill,height:o?void 0:u,stroke:this.stroke,"stroke-linecap":this.strokeLinecap,"stroke-linejoin":this.strokeLinejoin,"stroke-width":this.strokeWidth,width:o?void 0:u,class:[c.attrs.class,"vue-feather__content"],innerHTML:c.contents})])}});function styleInject(l,a){a===void 0&&(a={});var o=a.insertAt;if(!(typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",o==="top"&&u.firstChild?u.insertBefore(s,u.firstChild):u.appendChild(s),s.styleSheet?s.styleSheet.cssText=l:s.appendChild(document.createTextNode(l))}}var css_248z="@keyframes vue-feather--spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.vue-feather{display:inline-block;overflow:hidden}.vue-feather--spin{animation:vue-feather--spin 2s linear infinite}.vue-feather--pulse{animation:vue-feather--spin 2s steps(8) infinite}.vue-feather--slow{animation-duration:3s}.vue-feather--fast{animation-duration:1s}.vue-feather__content{display:block;height:inherit;width:inherit}";styleInject(css_248z);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isRouteComponent(l){return typeof l=="object"||"displayName"in l||"props"in l||"__vccOpts"in l}function isESModule(l){return l.__esModule||l[Symbol.toStringTag]==="Module"||l.default&&isRouteComponent(l.default)}const assign$3=Object.assign;function applyToParams(l,a){const o={};for(const u in a){const s=a[u];o[u]=isArray(s)?s.map(l):l(s)}return o}const noop$4=()=>{},isArray=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(l){return encodeURI(""+l).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(l){return commonEncode(l).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(l){return commonEncode(l).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(l){return encodeQueryValue(l).replace(EQUAL_RE,"%3D")}function encodePath(l){return commonEncode(l).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(l){return l==null?"":encodePath(l).replace(SLASH_RE,"%2F")}function decode(l){try{return decodeURIComponent(""+l)}catch{}return""+l}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=l=>l.replace(TRAILING_SLASH_RE,"");function parseURL(l,a,o="/"){let u,s={},c="",d="";const f=a.indexOf("#");let m=a.indexOf("?");return f<m&&f>=0&&(m=-1),m>-1&&(u=a.slice(0,m),c=a.slice(m+1,f>-1?f:a.length),s=l(c)),f>-1&&(u=u||a.slice(0,f),d=a.slice(f,a.length)),u=resolveRelativePath(u??a,o),{fullPath:u+(c&&"?")+c+d,path:u,query:s,hash:decode(d)}}function stringifyURL(l,a){const o=a.query?l(a.query):"";return a.path+(o&&"?")+o+(a.hash||"")}function stripBase(l,a){return!a||!l.toLowerCase().startsWith(a.toLowerCase())?l:l.slice(a.length)||"/"}function isSameRouteLocation(l,a,o){const u=a.matched.length-1,s=o.matched.length-1;return u>-1&&u===s&&isSameRouteRecord(a.matched[u],o.matched[s])&&isSameRouteLocationParams(a.params,o.params)&&l(a.query)===l(o.query)&&a.hash===o.hash}function isSameRouteRecord(l,a){return(l.aliasOf||l)===(a.aliasOf||a)}function isSameRouteLocationParams(l,a){if(Object.keys(l).length!==Object.keys(a).length)return!1;for(const o in l)if(!isSameRouteLocationParamsValue(l[o],a[o]))return!1;return!0}function isSameRouteLocationParamsValue(l,a){return isArray(l)?isEquivalentArray(l,a):isArray(a)?isEquivalentArray(a,l):l===a}function isEquivalentArray(l,a){return isArray(a)?l.length===a.length&&l.every((o,u)=>o===a[u]):l.length===1&&l[0]===a}function resolveRelativePath(l,a){if(l.startsWith("/"))return l;if(!l)return a;const o=a.split("/"),u=l.split("/"),s=u[u.length-1];(s===".."||s===".")&&u.push("");let c=o.length-1,d,f;for(d=0;d<u.length;d++)if(f=u[d],f!==".")if(f==="..")c>1&&c--;else break;return o.slice(0,c).join("/")+"/"+u.slice(d).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(l){l.pop="pop",l.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(l){l.back="back",l.forward="forward",l.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(l){if(!l)if(isBrowser){const a=document.querySelector("base");l=a&&a.getAttribute("href")||"/",l=l.replace(/^\w+:\/\/[^\/]+/,"")}else l="/";return l[0]!=="/"&&l[0]!=="#"&&(l="/"+l),removeTrailingSlash(l)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(l,a){return l.replace(BEFORE_HASH_RE,"#")+a}function getElementPosition(l,a){const o=document.documentElement.getBoundingClientRect(),u=l.getBoundingClientRect();return{behavior:a.behavior,left:u.left-o.left-(a.left||0),top:u.top-o.top-(a.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(l){let a;if("el"in l){const o=l.el,u=typeof o=="string"&&o.startsWith("#"),s=typeof o=="string"?u?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!s)return;a=getElementPosition(s,l)}else a=l;"scrollBehavior"in document.documentElement.style?window.scrollTo(a):window.scrollTo(a.left!=null?a.left:window.scrollX,a.top!=null?a.top:window.scrollY)}function getScrollKey(l,a){return(history.state?history.state.position-a:-1)+l}const scrollPositions=new Map;function saveScrollPosition(l,a){scrollPositions.set(l,a)}function getSavedScrollPosition(l){const a=scrollPositions.get(l);return scrollPositions.delete(l),a}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(l,a){const{pathname:o,search:u,hash:s}=a,c=l.indexOf("#");if(c>-1){let f=s.includes(l.slice(c))?l.slice(c).length:1,m=s.slice(f);return m[0]!=="/"&&(m="/"+m),stripBase(m,"")}return stripBase(o,l)+u+s}function useHistoryListeners(l,a,o,u){let s=[],c=[],d=null;const f=({state:_})=>{const b=createCurrentLocation(l,location),x=o.value,w=a.value;let A=0;if(_){if(o.value=b,a.value=_,d&&d===x){d=null;return}A=w?_.position-w.position:0}else u(b);s.forEach(D=>{D(o.value,x,{delta:A,type:NavigationType.pop,direction:A?A>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function m(){d=o.value}function g(_){s.push(_);const b=()=>{const x=s.indexOf(_);x>-1&&s.splice(x,1)};return c.push(b),b}function v(){const{history:_}=window;_.state&&_.replaceState(assign$3({},_.state,{scroll:computeScrollPosition()}),"")}function y(){for(const _ of c)_();c=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:m,listen:g,destroy:y}}function buildState(l,a,o,u=!1,s=!1){return{back:l,current:a,forward:o,replaced:u,position:window.history.length,scroll:s?computeScrollPosition():null}}function useHistoryStateNavigation(l){const{history:a,location:o}=window,u={value:createCurrentLocation(l,o)},s={value:a.state};s.value||c(u.value,{back:null,current:u.value,forward:null,position:a.length-1,replaced:!0,scroll:null},!0);function c(m,g,v){const y=l.indexOf("#"),_=y>-1?(o.host&&document.querySelector("base")?l:l.slice(y))+m:createBaseLocation()+l+m;try{a[v?"replaceState":"pushState"](g,"",_),s.value=g}catch(b){console.error(b),o[v?"replace":"assign"](_)}}function d(m,g){const v=assign$3({},a.state,buildState(s.value.back,m,s.value.forward,!0),g,{position:s.value.position});c(m,v,!0),u.value=m}function f(m,g){const v=assign$3({},s.value,a.state,{forward:m,scroll:computeScrollPosition()});c(v.current,v,!0);const y=assign$3({},buildState(u.value,m,null),{position:v.position+1},g);c(m,y,!1),u.value=m}return{location:u,state:s,push:f,replace:d}}function createWebHistory(l){l=normalizeBase(l);const a=useHistoryStateNavigation(l),o=useHistoryListeners(l,a.state,a.location,a.replace);function u(c,d=!0){d||o.pauseListeners(),history.go(c)}const s=assign$3({location:"",base:l,go:u,createHref:createHref.bind(null,l)},a,o);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>a.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>a.state.value}),s}function createWebHashHistory(l){return l=location.host?l||location.pathname+location.search:"",l.includes("#")||(l+="#"),createWebHistory(l)}function isRouteLocation(l){return typeof l=="string"||l&&typeof l=="object"}function isRouteName(l){return typeof l=="string"||typeof l=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(l){l[l.aborted=4]="aborted",l[l.cancelled=8]="cancelled",l[l.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(l,a){return assign$3(new Error,{type:l,[NavigationFailureSymbol]:!0},a)}function isNavigationFailure(l,a){return l instanceof Error&&NavigationFailureSymbol in l&&(a==null||!!(l.type&a))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(l,a){const o=assign$3({},BASE_PATH_PARSER_OPTIONS,a),u=[];let s=o.start?"^":"";const c=[];for(const g of l){const v=g.length?[]:[90];o.strict&&!g.length&&(s+="/");for(let y=0;y<g.length;y++){const _=g[y];let b=40+(o.sensitive?.25:0);if(_.type===0)y||(s+="/"),s+=_.value.replace(REGEX_CHARS_RE,"\\$&"),b+=40;else if(_.type===1){const{value:x,repeatable:w,optional:A,regexp:D}=_;c.push({name:x,repeatable:w,optional:A});const I=D||BASE_PARAM_PATTERN;if(I!==BASE_PARAM_PATTERN){b+=10;try{new RegExp(`(${I})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${x}" (${I}): `+O.message)}}let N=w?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;y||(N=A&&g.length<2?`(?:/${N})`:"/"+N),A&&(N+="?"),s+=N,b+=20,A&&(b+=-8),w&&(b+=-20),I===".*"&&(b+=-50)}v.push(b)}u.push(v)}if(o.strict&&o.end){const g=u.length-1;u[g][u[g].length-1]+=.7000000000000001}o.strict||(s+="/?"),o.end?s+="$":o.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const d=new RegExp(s,o.sensitive?"":"i");function f(g){const v=g.match(d),y={};if(!v)return null;for(let _=1;_<v.length;_++){const b=v[_]||"",x=c[_-1];y[x.name]=b&&x.repeatable?b.split("/"):b}return y}function m(g){let v="",y=!1;for(const _ of l){(!y||!v.endsWith("/"))&&(v+="/"),y=!1;for(const b of _)if(b.type===0)v+=b.value;else if(b.type===1){const{value:x,repeatable:w,optional:A}=b,D=x in g?g[x]:"";if(isArray(D)&&!w)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const I=isArray(D)?D.join("/"):D;if(!I)if(A)_.length<2&&(v.endsWith("/")?v=v.slice(0,-1):y=!0);else throw new Error(`Missing required param "${x}"`);v+=I}}return v||"/"}return{re:d,score:u,keys:c,parse:f,stringify:m}}function compareScoreArray(l,a){let o=0;for(;o<l.length&&o<a.length;){const u=a[o]-l[o];if(u)return u;o++}return l.length<a.length?l.length===1&&l[0]===80?-1:1:l.length>a.length?a.length===1&&a[0]===80?1:-1:0}function comparePathParserScore(l,a){let o=0;const u=l.score,s=a.score;for(;o<u.length&&o<s.length;){const c=compareScoreArray(u[o],s[o]);if(c)return c;o++}if(Math.abs(s.length-u.length)===1){if(isLastScoreNegative(u))return 1;if(isLastScoreNegative(s))return-1}return s.length-u.length}function isLastScoreNegative(l){const a=l[l.length-1];return l.length>0&&a[a.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(l){if(!l)return[[]];if(l==="/")return[[ROOT_TOKEN]];if(!l.startsWith("/"))throw new Error(`Invalid path "${l}"`);function a(b){throw new Error(`ERR (${o})/"${g}": ${b}`)}let o=0,u=o;const s=[];let c;function d(){c&&s.push(c),c=[]}let f=0,m,g="",v="";function y(){g&&(o===0?c.push({type:0,value:g}):o===1||o===2||o===3?(c.length>1&&(m==="*"||m==="+")&&a(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:g,regexp:v,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):a("Invalid state to consume buffer"),g="")}function _(){g+=m}for(;f<l.length;){if(m=l[f++],m==="\\"&&o!==2){u=o,o=4;continue}switch(o){case 0:m==="/"?(g&&y(),d()):m===":"?(y(),o=1):_();break;case 4:_(),o=u;break;case 1:m==="("?o=2:VALID_PARAM_RE.test(m)?_():(y(),o=0,m!=="*"&&m!=="?"&&m!=="+"&&f--);break;case 2:m===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+m:o=3:v+=m;break;case 3:y(),o=0,m!=="*"&&m!=="?"&&m!=="+"&&f--,v="";break;default:a("Unknown state");break}}return o===2&&a(`Unfinished custom RegExp for param "${g}"`),y(),d(),s}function createRouteRecordMatcher(l,a,o){const u=tokensToParser(tokenizePath(l.path),o),s=assign$3(u,{record:l,parent:a,children:[],alias:[]});return a&&!s.record.aliasOf==!a.record.aliasOf&&a.children.push(s),s}function createRouterMatcher(l,a){const o=[],u=new Map;a=mergeOptions$4({strict:!1,end:!0,sensitive:!1},a);function s(y){return u.get(y)}function c(y,_,b){const x=!b,w=normalizeRouteRecord(y);w.aliasOf=b&&b.record;const A=mergeOptions$4(a,y),D=[w];if("alias"in y){const O=typeof y.alias=="string"?[y.alias]:y.alias;for(const B of O)D.push(normalizeRouteRecord(assign$3({},w,{components:b?b.record.components:w.components,path:B,aliasOf:b?b.record:w})))}let I,N;for(const O of D){const{path:B}=O;if(_&&B[0]!=="/"){const M=_.record.path,j=M[M.length-1]==="/"?"":"/";O.path=_.record.path+(B&&j+B)}if(I=createRouteRecordMatcher(O,_,A),b?b.alias.push(I):(N=N||I,N!==I&&N.alias.push(I),x&&y.name&&!isAliasRecord(I)&&d(y.name)),isMatchable(I)&&m(I),w.children){const M=w.children;for(let j=0;j<M.length;j++)c(M[j],I,b&&b.children[j])}b=b||I}return N?()=>{d(N)}:noop$4}function d(y){if(isRouteName(y)){const _=u.get(y);_&&(u.delete(y),o.splice(o.indexOf(_),1),_.children.forEach(d),_.alias.forEach(d))}else{const _=o.indexOf(y);_>-1&&(o.splice(_,1),y.record.name&&u.delete(y.record.name),y.children.forEach(d),y.alias.forEach(d))}}function f(){return o}function m(y){const _=findInsertionIndex(y,o);o.splice(_,0,y),y.record.name&&!isAliasRecord(y)&&u.set(y.record.name,y)}function g(y,_){let b,x={},w,A;if("name"in y&&y.name){if(b=u.get(y.name),!b)throw createRouterError(1,{location:y});A=b.record.name,x=assign$3(paramsFromLocation(_.params,b.keys.filter(N=>!N.optional).concat(b.parent?b.parent.keys.filter(N=>N.optional):[]).map(N=>N.name)),y.params&&paramsFromLocation(y.params,b.keys.map(N=>N.name))),w=b.stringify(x)}else if(y.path!=null)w=y.path,b=o.find(N=>N.re.test(w)),b&&(x=b.parse(w),A=b.record.name);else{if(b=_.name?u.get(_.name):o.find(N=>N.re.test(_.path)),!b)throw createRouterError(1,{location:y,currentLocation:_});A=b.record.name,x=assign$3({},_.params,y.params),w=b.stringify(x)}const D=[];let I=b;for(;I;)D.unshift(I.record),I=I.parent;return{name:A,path:w,params:x,matched:D,meta:mergeMetaFields(D)}}l.forEach(y=>c(y));function v(){o.length=0,u.clear()}return{addRoute:c,resolve:g,removeRoute:d,clearRoutes:v,getRoutes:f,getRecordMatcher:s}}function paramsFromLocation(l,a){const o={};for(const u of a)u in l&&(o[u]=l[u]);return o}function normalizeRouteRecord(l){const a={path:l.path,redirect:l.redirect,name:l.name,meta:l.meta||{},aliasOf:l.aliasOf,beforeEnter:l.beforeEnter,props:normalizeRecordProps(l),children:l.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in l?l.components||null:l.component&&{default:l.component}};return Object.defineProperty(a,"mods",{value:{}}),a}function normalizeRecordProps(l){const a={},o=l.props||!1;if("component"in l)a.default=o;else for(const u in l.components)a[u]=typeof o=="object"?o[u]:o;return a}function isAliasRecord(l){for(;l;){if(l.record.aliasOf)return!0;l=l.parent}return!1}function mergeMetaFields(l){return l.reduce((a,o)=>assign$3(a,o.meta),{})}function mergeOptions$4(l,a){const o={};for(const u in l)o[u]=u in a?a[u]:l[u];return o}function findInsertionIndex(l,a){let o=0,u=a.length;for(;o!==u;){const c=o+u>>1;comparePathParserScore(l,a[c])<0?u=c:o=c+1}const s=getInsertionAncestor(l);return s&&(u=a.lastIndexOf(s,u-1)),u}function getInsertionAncestor(l){let a=l;for(;a=a.parent;)if(isMatchable(a)&&comparePathParserScore(l,a)===0)return a}function isMatchable({record:l}){return!!(l.name||l.components&&Object.keys(l.components).length||l.redirect)}function parseQuery(l){const a={};if(l===""||l==="?")return a;const u=(l[0]==="?"?l.slice(1):l).split("&");for(let s=0;s<u.length;++s){const c=u[s].replace(PLUS_RE," "),d=c.indexOf("="),f=decode(d<0?c:c.slice(0,d)),m=d<0?null:decode(c.slice(d+1));if(f in a){let g=a[f];isArray(g)||(g=a[f]=[g]),g.push(m)}else a[f]=m}return a}function stringifyQuery(l){let a="";for(let o in l){const u=l[o];if(o=encodeQueryKey(o),u==null){u!==void 0&&(a+=(a.length?"&":"")+o);continue}(isArray(u)?u.map(c=>c&&encodeQueryValue(c)):[u&&encodeQueryValue(u)]).forEach(c=>{c!==void 0&&(a+=(a.length?"&":"")+o,c!=null&&(a+="="+c))})}return a}function normalizeQuery(l){const a={};for(const o in l){const u=l[o];u!==void 0&&(a[o]=isArray(u)?u.map(s=>s==null?null:""+s):u==null?u:""+u)}return a}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let l=[];function a(u){return l.push(u),()=>{const s=l.indexOf(u);s>-1&&l.splice(s,1)}}function o(){l=[]}return{add:a,list:()=>l.slice(),reset:o}}function guardToPromiseFn(l,a,o,u,s,c=d=>d()){const d=u&&(u.enterCallbacks[s]=u.enterCallbacks[s]||[]);return()=>new Promise((f,m)=>{const g=_=>{_===!1?m(createRouterError(4,{from:o,to:a})):_ instanceof Error?m(_):isRouteLocation(_)?m(createRouterError(2,{from:a,to:_})):(d&&u.enterCallbacks[s]===d&&typeof _=="function"&&d.push(_),f())},v=c(()=>l.call(u&&u.instances[s],a,o,g));let y=Promise.resolve(v);l.length<3&&(y=y.then(g)),y.catch(_=>m(_))})}function extractComponentsGuards(l,a,o,u,s=c=>c()){const c=[];for(const d of l)for(const f in d.components){let m=d.components[f];if(!(a!=="beforeRouteEnter"&&!d.instances[f]))if(isRouteComponent(m)){const v=(m.__vccOpts||m)[a];v&&c.push(guardToPromiseFn(v,o,u,d,f,s))}else{let g=m();c.push(()=>g.then(v=>{if(!v)throw new Error(`Couldn't resolve component "${f}" at "${d.path}"`);const y=isESModule(v)?v.default:v;d.mods[f]=v,d.components[f]=y;const b=(y.__vccOpts||y)[a];return b&&guardToPromiseFn(b,o,u,d,f,s)()}))}}return c}function useLink(l){const a=inject(routerKey),o=inject(routeLocationKey),u=computed(()=>{const m=unref(l.to);return a.resolve(m)}),s=computed(()=>{const{matched:m}=u.value,{length:g}=m,v=m[g-1],y=o.matched;if(!v||!y.length)return-1;const _=y.findIndex(isSameRouteRecord.bind(null,v));if(_>-1)return _;const b=getOriginalPath(m[g-2]);return g>1&&getOriginalPath(v)===b&&y[y.length-1].path!==b?y.findIndex(isSameRouteRecord.bind(null,m[g-2])):_}),c=computed(()=>s.value>-1&&includesParams(o.params,u.value.params)),d=computed(()=>s.value>-1&&s.value===o.matched.length-1&&isSameRouteLocationParams(o.params,u.value.params));function f(m={}){if(guardEvent(m)){const g=a[unref(l.replace)?"replace":"push"](unref(l.to)).catch(noop$4);return l.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>g),g}return Promise.resolve()}return{route:u,href:computed(()=>u.value.href),isActive:c,isExactActive:d,navigate:f}}function preferSingleVNode(l){return l.length===1?l[0]:l}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(l,{slots:a}){const o=reactive(useLink(l)),{options:u}=inject(routerKey),s=computed(()=>({[getLinkClass(l.activeClass,u.linkActiveClass,"router-link-active")]:o.isActive,[getLinkClass(l.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const c=a.default&&preferSingleVNode(a.default(o));return l.custom?c:h("a",{"aria-current":o.isExactActive?l.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:s.value},c)}}}),RouterLink=RouterLinkImpl;function guardEvent(l){if(!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)&&!l.defaultPrevented&&!(l.button!==void 0&&l.button!==0)){if(l.currentTarget&&l.currentTarget.getAttribute){const a=l.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return l.preventDefault&&l.preventDefault(),!0}}function includesParams(l,a){for(const o in a){const u=a[o],s=l[o];if(typeof u=="string"){if(u!==s)return!1}else if(!isArray(s)||s.length!==u.length||u.some((c,d)=>c!==s[d]))return!1}return!0}function getOriginalPath(l){return l?l.aliasOf?l.aliasOf.path:l.path:""}const getLinkClass=(l,a,o)=>l??a??o,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(l,{attrs:a,slots:o}){const u=inject(routerViewLocationKey),s=computed(()=>l.route||u.value),c=inject(viewDepthKey,0),d=computed(()=>{let g=unref(c);const{matched:v}=s.value;let y;for(;(y=v[g])&&!y.components;)g++;return g}),f=computed(()=>s.value.matched[d.value]);provide(viewDepthKey,computed(()=>d.value+1)),provide(matchedRouteKey,f),provide(routerViewLocationKey,s);const m=ref();return watch(()=>[m.value,f.value,l.name],([g,v,y],[_,b,x])=>{v&&(v.instances[y]=g,b&&b!==v&&g&&g===_&&(v.leaveGuards.size||(v.leaveGuards=b.leaveGuards),v.updateGuards.size||(v.updateGuards=b.updateGuards))),g&&v&&(!b||!isSameRouteRecord(v,b)||!_)&&(v.enterCallbacks[y]||[]).forEach(w=>w(g))},{flush:"post"}),()=>{const g=s.value,v=l.name,y=f.value,_=y&&y.components[v];if(!_)return normalizeSlot(o.default,{Component:_,route:g});const b=y.props[v],x=b?b===!0?g.params:typeof b=="function"?b(g):b:null,A=h(_,assign$3({},x,a,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(y.instances[v]=null)},ref:m}));return normalizeSlot(o.default,{Component:A,route:g})||A}}});function normalizeSlot(l,a){if(!l)return null;const o=l(a);return o.length===1?o[0]:o}const RouterView=RouterViewImpl;function createRouter(l){const a=createRouterMatcher(l.routes,l),o=l.parseQuery||parseQuery,u=l.stringifyQuery||stringifyQuery,s=l.history,c=useCallbacks(),d=useCallbacks(),f=useCallbacks(),m=shallowRef(START_LOCATION_NORMALIZED);let g=START_LOCATION_NORMALIZED;isBrowser&&l.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=applyToParams.bind(null,te=>""+te),y=applyToParams.bind(null,encodeParam),_=applyToParams.bind(null,decode);function b(te,_e){let Se,ke;return isRouteName(te)?(Se=a.getRecordMatcher(te),ke=_e):ke=te,a.addRoute(ke,Se)}function x(te){const _e=a.getRecordMatcher(te);_e&&a.removeRoute(_e)}function w(){return a.getRoutes().map(te=>te.record)}function A(te){return!!a.getRecordMatcher(te)}function D(te,_e){if(_e=assign$3({},_e||m.value),typeof te=="string"){const G=parseURL(o,te,_e.path),Q=a.resolve({path:G.path},_e),ue=s.createHref(G.fullPath);return assign$3(G,Q,{params:_(Q.params),hash:decode(G.hash),redirectedFrom:void 0,href:ue})}let Se;if(te.path!=null)Se=assign$3({},te,{path:parseURL(o,te.path,_e.path).path});else{const G=assign$3({},te.params);for(const Q in G)G[Q]==null&&delete G[Q];Se=assign$3({},te,{params:y(G)}),_e.params=y(_e.params)}const ke=a.resolve(Se,_e),Me=te.hash||"";ke.params=v(_(ke.params));const Be=stringifyURL(u,assign$3({},te,{hash:encodeHash(Me),path:ke.path})),H=s.createHref(Be);return assign$3({fullPath:Be,hash:Me,query:u===stringifyQuery?normalizeQuery(te.query):te.query||{}},ke,{redirectedFrom:void 0,href:H})}function I(te){return typeof te=="string"?parseURL(o,te,m.value.path):assign$3({},te)}function N(te,_e){if(g!==te)return createRouterError(8,{from:_e,to:te})}function O(te){return j(te)}function B(te){return O(assign$3(I(te),{replace:!0}))}function M(te){const _e=te.matched[te.matched.length-1];if(_e&&_e.redirect){const{redirect:Se}=_e;let ke=typeof Se=="function"?Se(te):Se;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=I(ke):{path:ke},ke.params={}),assign$3({query:te.query,hash:te.hash,params:ke.path!=null?{}:te.params},ke)}}function j(te,_e){const Se=g=D(te),ke=m.value,Me=te.state,Be=te.force,H=te.replace===!0,G=M(Se);if(G)return j(assign$3(I(G),{state:typeof G=="object"?assign$3({},Me,G.state):Me,force:Be,replace:H}),_e||Se);const Q=Se;Q.redirectedFrom=_e;let ue;return!Be&&isSameRouteLocation(u,ke,Se)&&(ue=createRouterError(16,{to:Q,from:ke}),ae(ke,ke,!0,!1)),(ue?Promise.resolve(ue):W(Q,ke)).catch(ie=>isNavigationFailure(ie)?isNavigationFailure(ie,2)?ie:oe(ie):ge(ie,Q,ke)).then(ie=>{if(ie){if(isNavigationFailure(ie,2))return j(assign$3({replace:H},I(ie.to),{state:typeof ie.to=="object"?assign$3({},Me,ie.to.state):Me,force:Be}),_e||Q)}else ie=V(Q,ke,!0,H,Me);return ne(Q,ke,ie),ie})}function L(te,_e){const Se=N(te,_e);return Se?Promise.reject(Se):Promise.resolve()}function z(te){const _e=ve.values().next().value;return _e&&typeof _e.runWithContext=="function"?_e.runWithContext(te):te()}function W(te,_e){let Se;const[ke,Me,Be]=extractChangingRecords(te,_e);Se=extractComponentsGuards(ke.reverse(),"beforeRouteLeave",te,_e);for(const G of ke)G.leaveGuards.forEach(Q=>{Se.push(guardToPromiseFn(Q,te,_e))});const H=L.bind(null,te,_e);return Se.push(H),xe(Se).then(()=>{Se=[];for(const G of c.list())Se.push(guardToPromiseFn(G,te,_e));return Se.push(H),xe(Se)}).then(()=>{Se=extractComponentsGuards(Me,"beforeRouteUpdate",te,_e);for(const G of Me)G.updateGuards.forEach(Q=>{Se.push(guardToPromiseFn(Q,te,_e))});return Se.push(H),xe(Se)}).then(()=>{Se=[];for(const G of Be)if(G.beforeEnter)if(isArray(G.beforeEnter))for(const Q of G.beforeEnter)Se.push(guardToPromiseFn(Q,te,_e));else Se.push(guardToPromiseFn(G.beforeEnter,te,_e));return Se.push(H),xe(Se)}).then(()=>(te.matched.forEach(G=>G.enterCallbacks={}),Se=extractComponentsGuards(Be,"beforeRouteEnter",te,_e,z),Se.push(H),xe(Se))).then(()=>{Se=[];for(const G of d.list())Se.push(guardToPromiseFn(G,te,_e));return Se.push(H),xe(Se)}).catch(G=>isNavigationFailure(G,8)?G:Promise.reject(G))}function ne(te,_e,Se){f.list().forEach(ke=>z(()=>ke(te,_e,Se)))}function V(te,_e,Se,ke,Me){const Be=N(te,_e);if(Be)return Be;const H=_e===START_LOCATION_NORMALIZED,G=isBrowser?history.state:{};Se&&(ke||H?s.replace(te.fullPath,assign$3({scroll:H&&G&&G.scroll},Me)):s.push(te.fullPath,Me)),m.value=te,ae(te,_e,Se,H),oe()}let Y;function Z(){Y||(Y=s.listen((te,_e,Se)=>{if(!de.listening)return;const ke=D(te),Me=M(ke);if(Me){j(assign$3(Me,{replace:!0,force:!0}),ke).catch(noop$4);return}g=ke;const Be=m.value;isBrowser&&saveScrollPosition(getScrollKey(Be.fullPath,Se.delta),computeScrollPosition()),W(ke,Be).catch(H=>isNavigationFailure(H,12)?H:isNavigationFailure(H,2)?(j(assign$3(I(H.to),{force:!0}),ke).then(G=>{isNavigationFailure(G,20)&&!Se.delta&&Se.type===NavigationType.pop&&s.go(-1,!1)}).catch(noop$4),Promise.reject()):(Se.delta&&s.go(-Se.delta,!1),ge(H,ke,Be))).then(H=>{H=H||V(ke,Be,!1),H&&(Se.delta&&!isNavigationFailure(H,8)?s.go(-Se.delta,!1):Se.type===NavigationType.pop&&isNavigationFailure(H,20)&&s.go(-1,!1)),ne(ke,Be,H)}).catch(noop$4)}))}let pe=useCallbacks(),ee=useCallbacks(),se;function ge(te,_e,Se){oe(te);const ke=ee.list();return ke.length?ke.forEach(Me=>Me(te,_e,Se)):console.error(te),Promise.reject(te)}function De(){return se&&m.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((te,_e)=>{pe.add([te,_e])})}function oe(te){return se||(se=!te,Z(),pe.list().forEach(([_e,Se])=>te?Se(te):_e()),pe.reset()),te}function ae(te,_e,Se,ke){const{scrollBehavior:Me}=l;if(!isBrowser||!Me)return Promise.resolve();const Be=!Se&&getSavedScrollPosition(getScrollKey(te.fullPath,0))||(ke||!Se)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Me(te,_e,Be)).then(H=>H&&scrollToPosition(H)).catch(H=>ge(H,te,_e))}const Ae=te=>s.go(te);let J;const ve=new Set,de={currentRoute:m,listening:!0,addRoute:b,removeRoute:x,clearRoutes:a.clearRoutes,hasRoute:A,getRoutes:w,resolve:D,options:l,push:O,replace:B,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:c.add,beforeResolve:d.add,afterEach:f.add,onError:ee.add,isReady:De,install(te){const _e=this;te.component("RouterLink",RouterLink),te.component("RouterView",RouterView),te.config.globalProperties.$router=_e,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(m)}),isBrowser&&!J&&m.value===START_LOCATION_NORMALIZED&&(J=!0,O(s.location).catch(Me=>{}));const Se={};for(const Me in START_LOCATION_NORMALIZED)Object.defineProperty(Se,Me,{get:()=>m.value[Me],enumerable:!0});te.provide(routerKey,_e),te.provide(routeLocationKey,shallowReactive(Se)),te.provide(routerViewLocationKey,m);const ke=te.unmount;ve.add(te),te.unmount=function(){ve.delete(te),ve.size<1&&(g=START_LOCATION_NORMALIZED,Y&&Y(),Y=null,m.value=START_LOCATION_NORMALIZED,J=!1,se=!1),ke()}}};function xe(te){return te.reduce((_e,Se)=>_e.then(()=>z(Se)),Promise.resolve())}return de}function extractChangingRecords(l,a){const o=[],u=[],s=[],c=Math.max(a.matched.length,l.matched.length);for(let d=0;d<c;d++){const f=a.matched[d];f&&(l.matched.find(g=>isSameRouteRecord(g,f))?u.push(f):o.push(f));const m=l.matched[d];m&&(a.matched.find(g=>isSameRouteRecord(g,m))||s.push(m))}return[o,u,s]}function useRouter(){return inject(routerKey)}function useRoute(l){return inject(routeLocationKey)}function useFullscreen(l=window.document.querySelector("html")){const a=c=>window.document.fullscreenElement===c,o=ref(a(l));function u(){o.value=a(l)}function s(){window.document.removeEventListener("fullscreenchange",u)}return onMounted(()=>window.document.addEventListener("fullscreenchange",u)),onUnmounted(s),{isFullscreen:o,stopWatching:s}}var e={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function n(l){return l.replace(RegExp("^"+(l.match(/^(\t| )+/)||"")[0],"gm"),"")}function r(l){return(l+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(l,a){var o,u,s,c,d,f=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,m=[],g="",v=a||{},y=0;function _(x){var w=e[x[1]||""],A=m[m.length-1]==x;return w?w[1]?(A?m.pop():m.push(x),w[0|A]):w[0]:x}function b(){for(var x="";m.length;)x+=_(m[m.length-1]);return x}for(l=l.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(x,w,A){return v[w.toLowerCase()]=A,""}).replace(/^\n+|\n+$/g,"");s=f.exec(l);)u=l.substring(y,s.index),y=f.lastIndex,o=s[0],u.match(/[^\\](\\\\)*\\$/)||((d=s[3]||s[4])?o='<pre class="code '+(s[4]?"poetry":s[2].toLowerCase())+'"><code'+(s[2]?' class="language-'+s[2].toLowerCase()+'"':"")+">"+n(r(d).replace(/^\n+|\n+$/g,""))+"</code></pre>":(d=s[6])?(d.match(/\./)&&(s[5]=s[5].replace(/^\d+/gm,"")),c=t(n(s[5].replace(/^\s*[>*+.-]/gm,""))),d==">"?d="blockquote":(d=d.match(/\./)?"ol":"ul",c=c.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),o="<"+d+">"+c+"</"+d+">"):s[8]?o='<img src="'+r(s[8])+'" alt="'+r(s[7])+'">':s[10]?(g=g.replace("<a>",'<a href="'+r(s[11]||v[u.toLowerCase()])+'">'),o=b()+"</a>"):s[9]?o="<a>":s[12]||s[14]?o="<"+(d="h"+(s[14]?s[14].length:s[13]>"="?1:2))+">"+t(s[12]||s[15],v)+"</"+d+">":s[16]?o="<code>"+r(s[16])+"</code>":(s[17]||s[1])&&(o=_(s[17]||"--"))),g+=u,g+=o;return(g+l.substring(y)+b()).replace(/^\n+|\n+$/g,"")}const _export_sfc=(l,a)=>{const o=l.__vccOpts||l;for(const[u,s]of a)o[u]=s;return o},_hoisted_1$j={key:0},_hoisted_2$e={class:"s-grid"},_sfc_main$l={__name:"PopupDialog",props:{heading:String},setup(l,{expose:a}){const o=useTemplateRef("dialog");let u=null;const s=(_=!0)=>{_?(o.value.showModal(),d(!1)):(d(),o.value.close("fromShow"))},c=()=>{nextTick(()=>d(!1))},d=(_=!0)=>{document.body.style.overflow=_?"auto":"hidden"},f=_=>{_.target===o.value&&document.getSelection().type!=="Range"&&s(!1)},m=()=>{d(!0),u?.resolve(null),u=null},g=_=>{s(!1),d(!0);const b=u;setTimeout(()=>b?.resolve(_),10),u=null},v=(_=void 0)=>{const b=new Promise((x,w)=>{u={resolve:x,reject:w}});return s(),_&&nextTick(_),b},y={setVisible:s,fixScroll:c,exit:m,returnResult:g};return onMounted(()=>{o.value.addEventListener("close",_=>{o.value.returnValue!=="fromShow"?m():(u?.resolve(null),u=null)})}),a({launchPopup:v}),(_,b)=>(openBlock(),createElementBlock("dialog",{ref_key:"dialog",ref:o,class:"s-container dialog modified-s-container",onClick:f},[createBaseVNode("div",null,[createBaseVNode("div",null,[createBaseVNode("main",null,[createBaseVNode("article",null,[l.heading?(openBlock(),createElementBlock("header",_hoisted_1$j,[createBaseVNode("h3",null,[createTextVNode(toDisplayString(l.heading),1),createVNode(unref(script),{type:"x",class:"icon btn_close",title:"Close",onClick:b[0]||(b[0]=x=>s(!1))})])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$e,[renderSlot(_.$slots,"default",normalizeProps(guardReactiveProps(y)),void 0)])])])])])],512))}},PopupDialog=_export_sfc(_sfc_main$l,[["__scopeId","data-v-7666b796"]]),_hoisted_1$i=["innerHTML"],_hoisted_2$d={key:0,style:{"--span":"6"}},_hoisted_3$c={class:"btn_actions"},_hoisted_4$b=["onClick"],_hoisted_5$8=["onClick"],_sfc_main$k={__name:"AlertBox",setup(l,{expose:a}){const o=useTemplateRef("dialog"),u=ref(""),s=ref(!1),c=ref(!1),d=ref(""),f=ref(!1),m=useTemplateRef("textbox");return a({alert:_=>(s.value=!1,c.value=!1,f.value=!1,u.value=t(""+_),o.value.launchPopup()),confirm:_=>(s.value=!0,c.value=!1,f.value=!1,u.value=t(""+_),o.value.launchPopup()),prompt:(_,b=void 0)=>(s.value=!0,c.value=!0,u.value=t(""+_),f.value=!0,d.value=b===void 0?"":b,o.value.launchPopup(()=>m.value?.focus()))}),(_,b)=>(openBlock(),createBlock(PopupDialog,{ref_key:"dialog",ref:o,class:"alertbox-container"},{default:withCtx(x=>[createBaseVNode("div",null,[createBaseVNode("div",{style:{"--span":"6","font-size":"1rem !important"},innerHTML:u.value},null,8,_hoisted_1$i),f.value?(openBlock(),createElementBlock("label",_hoisted_2$d,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=w=>d.value=w),ref_key:"textbox",ref:m},null,512),[[vModelText,d.value]])])):createCommentVNode("",!0)]),createBaseVNode("div",null,[createBaseVNode("span",_hoisted_3$c,[s.value?(openBlock(),createElementBlock("button",{key:0,class:"s-outline",onClick:()=>c.value?x.setVisible(!1):x.returnResult(!1)},"Cancel",8,_hoisted_4$b)):createCommentVNode("",!0),createBaseVNode("button",{onClick:()=>x.returnResult(f.value?d.value:!0)},"OK",8,_hoisted_5$8)])])]),_:1},512))}},AlertBox=_export_sfc(_sfc_main$k,[["__scopeId","data-v-63ae8937"]]);let alertBoxComponent;function setComponent(l){alertBoxComponent=l}function alert$2(l){return alertBoxComponent.alert(l)}function confirm$1(l){return alertBoxComponent.confirm(l)}function prompt$1(l,a=void 0){return alertBoxComponent.prompt(l,a)}const AlertBoxManager={setComponent,alert:alert$2,confirm:confirm$1,prompt:prompt$1},_hoisted_1$h={class:"s-container"},_hoisted_2$c=["href"],_hoisted_3$b={key:1,class:"content-only"},APP_NAME="Video Pathway",_sfc_main$j={__name:"App",setup(l){const a=useTemplateRef("alertbox");onMounted(()=>{AlertBoxManager.setComponent(a.value)});const{isFullscreen:o}=useFullscreen(),u=useRoute(),s=useRouter(),c=computed(()=>u.name==="play"),d=()=>s.push("/"),f="https://virtual-reality-unit.gitlab.io/vp-docs/";return provide("setWindowTitle",(m="",g=APP_NAME)=>{const v=document.querySelector("title");let y=g?`${g}`:"";g&&m&&(y+=" - "),y+=m,v.innerHTML=y}),(m,g)=>{const v=resolveComponent("RouterLink"),y=resolveComponent("RouterView");return openBlock(),createElementBlock(Fragment,null,[c.value?createCommentVNode("",!0):(openBlock(),createElementBlock("header",{key:0,class:normalizeClass({main_nav:!0,full_screen:unref(o)})},[createBaseVNode("nav",_hoisted_1$h,[createBaseVNode("div",{class:"app_home_link",onClick:d},[createVNode(unref(script),{type:"video",class:"icon heading_icon"}),g[0]||(g[0]=createTextVNode(" Video Pathway"))]),createBaseVNode("menu",null,[createBaseVNode("li",null,[createVNode(v,{to:"/"},{default:withCtx(()=>g[1]||(g[1]=[createTextVNode("Home")])),_:1})]),createBaseVNode("li",null,[createVNode(v,{to:"/view"},{default:withCtx(()=>g[2]||(g[2]=[createTextVNode("View")])),_:1})]),createBaseVNode("li",null,[createVNode(v,{to:"/edit"},{default:withCtx(()=>g[3]||(g[3]=[createTextVNode("Edit")])),_:1})]),createBaseVNode("li",null,[createBaseVNode("a",{target:"_blank",href:unref(f)},"Help",8,_hoisted_2$c)])])])],2)),c.value?(openBlock(),createElementBlock("div",_hoisted_3$b,[createVNode(y)])):(openBlock(),createBlock(y,{key:2})),createVNode(AlertBox,{ref:"alertbox"},null,512)],64)}}},_hoisted_1$g={class:"s-container"},_sfc_main$i={__name:"NotFound",setup(l){return onMounted(()=>{inject("setWindowTitle")("Not Found")}),(a,o)=>(openBlock(),createElementBlock("div",_hoisted_1$g,o[0]||(o[0]=[createBaseVNode("h1",null,"Page Not Found",-1)])))}},_hoisted_1$f={class:"s-container"},_sfc_main$h={__name:"Home",setup(l){const a=useRouter(),o=()=>a.push("/edit/new"),u=()=>a.push("/edit/load");return onMounted(()=>{inject("setWindowTitle")()}),(s,c)=>(openBlock(),createElementBlock("div",_hoisted_1$f,[c[0]||(c[0]=createBaseVNode("div",{class:"hero-image"},null,-1)),c[1]||(c[1]=createBaseVNode("br",null,null,-1)),c[2]||(c[2]=createBaseVNode("h1",null,"Welcome to Video Pathway",-1)),c[3]||(c[3]=createBaseVNode("p",null,"A system for the creation of video-based branching stories, quizzes, and more...",-1)),createBaseVNode("p",null,[createBaseVNode("button",{onClick:o},"Create a new project"),createBaseVNode("button",{onClick:u},"Load an existing project")])]))}},Home=_export_sfc(_sfc_main$h,[["__scopeId","data-v-b0db439d"]]);var isVue2=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=l=>activePinia=l,piniaSymbol=Symbol();function isPlainObject(l){return l&&typeof l=="object"&&Object.prototype.toString.call(l)==="[object Object]"&&typeof l.toJSON!="function"}var MutationType;(function(l){l.direct="direct",l.patchObject="patch object",l.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const l=effectScope(!0),a=l.run(()=>ref({}));let o=[],u=[];const s=markRaw({install(c){setActivePinia(s),s._a=c,c.provide(piniaSymbol,s),c.config.globalProperties.$pinia=s,u.forEach(d=>o.push(d)),u=[]},use(c){return!this._a&&!isVue2?u.push(c):o.push(c),this},_p:o,_a:null,_e:l,_s:new Map,state:a});return s}const noop$3=()=>{};function addSubscription(l,a,o,u=noop$3){l.push(a);const s=()=>{const c=l.indexOf(a);c>-1&&(l.splice(c,1),u())};return!o&&getCurrentScope()&&onScopeDispose(s),s}function triggerSubscriptions(l,...a){l.slice().forEach(o=>{o(...a)})}const fallbackRunWithContext=l=>l(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(l,a){l instanceof Map&&a instanceof Map?a.forEach((o,u)=>l.set(u,o)):l instanceof Set&&a instanceof Set&&a.forEach(l.add,l);for(const o in a){if(!a.hasOwnProperty(o))continue;const u=a[o],s=l[o];isPlainObject(s)&&isPlainObject(u)&&l.hasOwnProperty(o)&&!isRef(u)&&!isReactive(u)?l[o]=mergeReactiveObjects(s,u):l[o]=u}return l}const skipHydrateSymbol=Symbol();function shouldHydrate(l){return!isPlainObject(l)||!l.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$2}=Object;function isComputed(l){return!!(isRef(l)&&l.effect)}function createOptionsStore(l,a,o,u){const{state:s,actions:c,getters:d}=a,f=o.state.value[l];let m;function g(){f||(o.state.value[l]=s?s():{});const v=toRefs(o.state.value[l]);return assign$2(v,c,Object.keys(d||{}).reduce((y,_)=>(y[_]=markRaw(computed(()=>{setActivePinia(o);const b=o._s.get(l);return d[_].call(b,b)})),y),{}))}return m=createSetupStore(l,g,a,o,u,!0),m}function createSetupStore(l,a,o={},u,s,c){let d;const f=assign$2({actions:{}},o),m={deep:!0};let g,v,y=[],_=[],b;const x=u.state.value[l];!c&&!x&&(u.state.value[l]={}),ref({});let w;function A(L){let z;g=v=!1,typeof L=="function"?(L(u.state.value[l]),z={type:MutationType.patchFunction,storeId:l,events:b}):(mergeReactiveObjects(u.state.value[l],L),z={type:MutationType.patchObject,payload:L,storeId:l,events:b});const W=w=Symbol();nextTick().then(()=>{w===W&&(g=!0)}),v=!0,triggerSubscriptions(y,z,u.state.value[l])}const D=c?function(){const{state:z}=o,W=z?z():{};this.$patch(ne=>{assign$2(ne,W)})}:noop$3;function I(){d.stop(),y=[],_=[],u._s.delete(l)}const N=(L,z="")=>{if(ACTION_MARKER in L)return L[ACTION_NAME]=z,L;const W=function(){setActivePinia(u);const ne=Array.from(arguments),V=[],Y=[];function Z(se){V.push(se)}function pe(se){Y.push(se)}triggerSubscriptions(_,{args:ne,name:W[ACTION_NAME],store:B,after:Z,onError:pe});let ee;try{ee=L.apply(this&&this.$id===l?this:B,ne)}catch(se){throw triggerSubscriptions(Y,se),se}return ee instanceof Promise?ee.then(se=>(triggerSubscriptions(V,se),se)).catch(se=>(triggerSubscriptions(Y,se),Promise.reject(se))):(triggerSubscriptions(V,ee),ee)};return W[ACTION_MARKER]=!0,W[ACTION_NAME]=z,W},O={_p:u,$id:l,$onAction:addSubscription.bind(null,_),$patch:A,$reset:D,$subscribe(L,z={}){const W=addSubscription(y,L,z.detached,()=>ne()),ne=d.run(()=>watch(()=>u.state.value[l],V=>{(z.flush==="sync"?v:g)&&L({storeId:l,type:MutationType.direct,events:b},V)},assign$2({},m,z)));return W},$dispose:I},B=reactive(O);u._s.set(l,B);const j=(u._a&&u._a.runWithContext||fallbackRunWithContext)(()=>u._e.run(()=>(d=effectScope()).run(()=>a({action:N}))));for(const L in j){const z=j[L];if(isRef(z)&&!isComputed(z)||isReactive(z))c||(x&&shouldHydrate(z)&&(isRef(z)?z.value=x[L]:mergeReactiveObjects(z,x[L])),u.state.value[l][L]=z);else if(typeof z=="function"){const W=N(z,L);j[L]=W,f.actions[L]=z}}return assign$2(B,j),assign$2(toRaw(B),j),Object.defineProperty(B,"$state",{get:()=>u.state.value[l],set:L=>{A(z=>{assign$2(z,L)})}}),u._p.forEach(L=>{assign$2(B,d.run(()=>L({store:B,app:u._a,pinia:u,options:f})))}),x&&c&&o.hydrate&&o.hydrate(B.$state,x),g=!0,v=!0,B}/*! #__NO_SIDE_EFFECTS__ */function defineStore(l,a,o){let u,s;const c=typeof a=="function";u=l,s=c?o:a;function d(f,m){const g=hasInjectionContext();return f=f||(g?inject(piniaSymbol,null):null),f&&setActivePinia(f),f=activePinia,f._s.has(u)||(c?createSetupStore(u,a,s,f):createOptionsStore(u,s,f)),f._s.get(u)}return d.$id=u,d}function storeToRefs(l){{const a=toRaw(l),o={};for(const u in a){const s=a[u];s.effect?o[u]=computed({get:()=>l[u],set(c){l[u]=c}}):(isRef(s)||isReactive(s))&&(o[u]=toRef(l,u))}return o}}var lzString={exports:{}};lzString.exports;(function(l){var a=function(){var o=String.fromCharCode,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",c={};function d(m,g){if(!c[m]){c[m]={};for(var v=0;v<m.length;v++)c[m][m.charAt(v)]=v}return c[m][g]}var f={compressToBase64:function(m){if(m==null)return"";var g=f._compress(m,6,function(v){return u.charAt(v)});switch(g.length%4){default:case 0:return g;case 1:return g+"===";case 2:return g+"==";case 3:return g+"="}},decompressFromBase64:function(m){return m==null?"":m==""?null:f._decompress(m.length,32,function(g){return d(u,m.charAt(g))})},compressToUTF16:function(m){return m==null?"":f._compress(m,15,function(g){return o(g+32)})+" "},decompressFromUTF16:function(m){return m==null?"":m==""?null:f._decompress(m.length,16384,function(g){return m.charCodeAt(g)-32})},compressToUint8Array:function(m){for(var g=f.compress(m),v=new Uint8Array(g.length*2),y=0,_=g.length;y<_;y++){var b=g.charCodeAt(y);v[y*2]=b>>>8,v[y*2+1]=b%256}return v},decompressFromUint8Array:function(m){if(m==null)return f.decompress(m);for(var g=new Array(m.length/2),v=0,y=g.length;v<y;v++)g[v]=m[v*2]*256+m[v*2+1];var _=[];return g.forEach(function(b){_.push(o(b))}),f.decompress(_.join(""))},compressToEncodedURIComponent:function(m){return m==null?"":f._compress(m,6,function(g){return s.charAt(g)})},decompressFromEncodedURIComponent:function(m){return m==null?"":m==""?null:(m=m.replace(/ /g,"+"),f._decompress(m.length,32,function(g){return d(s,m.charAt(g))}))},compress:function(m){return f._compress(m,16,function(g){return o(g)})},_compress:function(m,g,v){if(m==null)return"";var y,_,b={},x={},w="",A="",D="",I=2,N=3,O=2,B=[],M=0,j=0,L;for(L=0;L<m.length;L+=1)if(w=m.charAt(L),Object.prototype.hasOwnProperty.call(b,w)||(b[w]=N++,x[w]=!0),A=D+w,Object.prototype.hasOwnProperty.call(b,A))D=A;else{if(Object.prototype.hasOwnProperty.call(x,D)){if(D.charCodeAt(0)<256){for(y=0;y<O;y++)M=M<<1,j==g-1?(j=0,B.push(v(M)),M=0):j++;for(_=D.charCodeAt(0),y=0;y<8;y++)M=M<<1|_&1,j==g-1?(j=0,B.push(v(M)),M=0):j++,_=_>>1}else{for(_=1,y=0;y<O;y++)M=M<<1|_,j==g-1?(j=0,B.push(v(M)),M=0):j++,_=0;for(_=D.charCodeAt(0),y=0;y<16;y++)M=M<<1|_&1,j==g-1?(j=0,B.push(v(M)),M=0):j++,_=_>>1}I--,I==0&&(I=Math.pow(2,O),O++),delete x[D]}else for(_=b[D],y=0;y<O;y++)M=M<<1|_&1,j==g-1?(j=0,B.push(v(M)),M=0):j++,_=_>>1;I--,I==0&&(I=Math.pow(2,O),O++),b[A]=N++,D=String(w)}if(D!==""){if(Object.prototype.hasOwnProperty.call(x,D)){if(D.charCodeAt(0)<256){for(y=0;y<O;y++)M=M<<1,j==g-1?(j=0,B.push(v(M)),M=0):j++;for(_=D.charCodeAt(0),y=0;y<8;y++)M=M<<1|_&1,j==g-1?(j=0,B.push(v(M)),M=0):j++,_=_>>1}else{for(_=1,y=0;y<O;y++)M=M<<1|_,j==g-1?(j=0,B.push(v(M)),M=0):j++,_=0;for(_=D.charCodeAt(0),y=0;y<16;y++)M=M<<1|_&1,j==g-1?(j=0,B.push(v(M)),M=0):j++,_=_>>1}I--,I==0&&(I=Math.pow(2,O),O++),delete x[D]}else for(_=b[D],y=0;y<O;y++)M=M<<1|_&1,j==g-1?(j=0,B.push(v(M)),M=0):j++,_=_>>1;I--,I==0&&(I=Math.pow(2,O),O++)}for(_=2,y=0;y<O;y++)M=M<<1|_&1,j==g-1?(j=0,B.push(v(M)),M=0):j++,_=_>>1;for(;;)if(M=M<<1,j==g-1){B.push(v(M));break}else j++;return B.join("")},decompress:function(m){return m==null?"":m==""?null:f._decompress(m.length,32768,function(g){return m.charCodeAt(g)})},_decompress:function(m,g,v){var y=[],_=4,b=4,x=3,w="",A=[],D,I,N,O,B,M,j,L={val:v(0),position:g,index:1};for(D=0;D<3;D+=1)y[D]=D;for(N=0,B=Math.pow(2,2),M=1;M!=B;)O=L.val&L.position,L.position>>=1,L.position==0&&(L.position=g,L.val=v(L.index++)),N|=(O>0?1:0)*M,M<<=1;switch(N){case 0:for(N=0,B=Math.pow(2,8),M=1;M!=B;)O=L.val&L.position,L.position>>=1,L.position==0&&(L.position=g,L.val=v(L.index++)),N|=(O>0?1:0)*M,M<<=1;j=o(N);break;case 1:for(N=0,B=Math.pow(2,16),M=1;M!=B;)O=L.val&L.position,L.position>>=1,L.position==0&&(L.position=g,L.val=v(L.index++)),N|=(O>0?1:0)*M,M<<=1;j=o(N);break;case 2:return""}for(y[3]=j,I=j,A.push(j);;){if(L.index>m)return"";for(N=0,B=Math.pow(2,x),M=1;M!=B;)O=L.val&L.position,L.position>>=1,L.position==0&&(L.position=g,L.val=v(L.index++)),N|=(O>0?1:0)*M,M<<=1;switch(j=N){case 0:for(N=0,B=Math.pow(2,8),M=1;M!=B;)O=L.val&L.position,L.position>>=1,L.position==0&&(L.position=g,L.val=v(L.index++)),N|=(O>0?1:0)*M,M<<=1;y[b++]=o(N),j=b-1,_--;break;case 1:for(N=0,B=Math.pow(2,16),M=1;M!=B;)O=L.val&L.position,L.position>>=1,L.position==0&&(L.position=g,L.val=v(L.index++)),N|=(O>0?1:0)*M,M<<=1;y[b++]=o(N),j=b-1,_--;break;case 2:return A.join("")}if(_==0&&(_=Math.pow(2,x),x++),y[j])w=y[j];else if(j===b)w=I+I.charAt(0);else return null;A.push(w),y[b++]=I+w.charAt(0),_--,I=w,_==0&&(_=Math.pow(2,x),x++)}}};return f}();l!=null?l.exports=a:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return a})})(lzString);var lzStringExports=lzString.exports;const LZString=getDefaultExportFromCjs(lzStringExports),useStorage=async l=>{if(l.ready||await l.setup(),!l.ready)throw new Error(`Storage provider '${l.name}' is not ready`);return l},alert$1=async(l=void 0)=>await AlertBoxManager.alert(l),prompt=async(l=void 0,a=void 0)=>await AlertBoxManager.prompt(l,a),confirm=async(l=void 0)=>await AlertBoxManager.confirm(l),INPUT_ELEMENT_ID="__ULDL_STORAGE_INPUT",PICK_ERRORS={cancelled:"Cancelled",tooManyFiles:"Too many files selected",noFiles:"No files selected"},LOAD_ERRORS={loadProblem:"There was a problem loading the file",oldVersion:"Project is in an old version and cannot be loaded",badFile:"The file does not contain project data",badJSON:"The file does not appear to be a valid format"};let ready=!1,inputElement;const ulDLStorage={name:"Local Upload/Download Storage",get ready(){return ready},setup:async function(){return inputElement=createInputElement(),ready=!0,!0},load:async function(a){a.trim();let[o,u]=await loadFileContent(a.fileObj);return u&&await alert$1(u),u?null:structuredClone(o)},save:async function(a,o){return a&&!a.endsWith(".json")&&(a+=".json"),downloadJSON(o,a),a},pick:async function(){inputElement=createInputElement();let[a,o]=await pickFile();o&&console.log("Error picking file:",o);const u=a?new String(a.name):null;return u&&(u.fileObj=a),u},chooseSaveFilename:async function(a=""){return a&&!a.endsWith(".json")&&(a+=".json"),await prompt("Enter a filename to save the data to:",a)}},createInputElement=()=>{let l=document.querySelector(`#${INPUT_ELEMENT_ID}`);return l||(l=document.createElement("input"),l.type="file",l.id=INPUT_ELEMENT_ID,l.style.display="none",document.body.appendChild(l)),l},pickFile=()=>new Promise((l,a)=>{const o=inputElement,u={change:s=>{let c;"files"in o&&o.files.length?c=o.files.length==1?[o.files[0]]:[null,PICK_ERRORS.tooManyFiles]:c=[null,PICK_ERRORS.noFiles],removeInputEventListeners(u),l(c)},cancel:()=>{removeInputEventListeners(u),l([null,PICK_ERRORS.cancelled])}};addInputEventListeners(u),inputElement.click()}),addInputEventListeners=l=>{Object.entries(l).forEach(([a,o])=>inputElement.addEventListener(a,o))},removeInputEventListeners=l=>{Object.entries(l).forEach(([a,o])=>inputElement.removeEventListener(a,o))},loadFileContent=async l=>{let a,o;try{a=await readFileContent(l)}catch{return[null,LOAD_ERRORS.loadProblem]}try{o=JSON.parse(a)}catch{return[null,LOAD_ERRORS.badJSON]}return isValidStory(o)?isOldVersion(o.version)?[null,LOAD_ERRORS.oldVersion]:[o]:[null,LOAD_ERRORS.badFile]};function readFileContent(l){const a=new FileReader;return new Promise((o,u)=>{a.onload=s=>o(s.target.result),a.onerror=s=>u(s),a.readAsText(l)})}function downloadJSON(l,a){const o="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(l)),u=document.createElement("a");u.setAttribute("href",o),u.setAttribute("download",a),u.style.display="none",document.body.appendChild(u),u.click(),u.remove()}const VERSION="0.0.1",VIDEO_SOURCE_TYPES={vimeo:{id:"vimeo",name:"Vimeo",features:{getChapters:async l=>(await l.getChapters()).map(({startTime:o,title:u},s,c)=>({title:u||`Chapter ${s+1}`,startTime:o,endTime:s===c.length-1?-1:c[s+1].startTime}))}},mp4:{id:"mp4",name:"MP4",features:{}}},DEFAULT_VIDEO_SOURCE_TYPE="vimeo",storage=await useStorage(ulDLStorage),DEFAULT_LAYOUT="basic",LAYOUTS={basic:{name:"Basic",thumbnail:"",options:{font_style:{name:"Font",type:"font"},colour_button1:{name:"Button 1 background colour",type:"colour"},text_colour_button1:{name:"Button 1 text colour",type:"colour"},colour_button2:{name:"Button 2 background colour",type:"colour"},text_colour_button2:{name:"Button 2 text colour",type:"colour"},colour_button3:{name:"Button 3 background colour",type:"colour"},text_colour_button3:{name:"Button 3 text colour",type:"colour"},colour_button4:{name:"Button 4 background colour",type:"colour"},text_colour_button4:{name:"Button 4 text colour",type:"colour"},colour_background:{name:"Background colour",type:"colour"},colour_timer:{name:"Timer indicator colour",type:"colour"},colour_message:{name:"Message colour",type:"colour"}}},btn_4_horiz:{name:"Horizontal buttons",thumbnail:"",options:{font_style:{name:"Font",type:"font"},button_height:{name:"Button height (default is 30)",type:"number"},button_align:{name:"Button text vertical alignment",type:{"flex-start":"Top",center:"Middle","flex-end":"Bottom"}},colour_button1:{name:"Button 1 background colour",type:"colour"},text_colour_button1:{name:"Button 1 text colour",type:"colour"},colour_button2:{name:"Button 2 background colour",type:"colour"},text_colour_button2:{name:"Button 2 text colour",type:"colour"},colour_button3:{name:"Button 3 background colour",type:"colour"},text_colour_button3:{name:"Button 3 text colour",type:"colour"},colour_button4:{name:"Button 4 background colour",type:"colour"},text_colour_button4:{name:"Button 4 text colour",type:"colour"},colour_background:{name:"Background colour",type:"colour"},colour_timer:{name:"Timer indicator colour",type:"colour"},colour_message:{name:"Message colour",type:"colour"}}},full:{name:"Full - centred + full width",thumbnail:"",options:{font_style:{name:"Font",type:"font"},colour_button1:{name:"Button 1 background colour",type:"colour"},text_colour_button1:{name:"Button 1 text colour",type:"colour"},colour_button2:{name:"Button 2 background colour",type:"colour"},text_colour_button2:{name:"Button 2 text colour",type:"colour"},colour_button3:{name:"Button 3 background colour",type:"colour"},text_colour_button3:{name:"Button 3 text colour",type:"colour"},colour_button4:{name:"Button 4 background colour",type:"colour"},text_colour_button4:{name:"Button 4 text colour",type:"colour"},colour_background:{name:"Background colour",type:"colour"},colour_timer:{name:"Timer indicator colour",type:"colour"},colour_message:{name:"Message colour",type:"colour"}}},column:{name:"Column - buttons left",thumbnail:"",options:{font_style:{name:"Font",type:"font"},colour_button1:{name:"Button 1 background colour",type:"colour"},text_colour_button1:{name:"Button 1 text colour",type:"colour"},colour_button2:{name:"Button 2 background colour",type:"colour"},text_colour_button2:{name:"Button 2 text colour",type:"colour"},colour_button3:{name:"Button 3 background colour",type:"colour"},text_colour_button3:{name:"Button 3 text colour",type:"colour"},colour_button4:{name:"Button 4 background colour",type:"colour"},text_colour_button4:{name:"Button 4 text colour",type:"colour"},colour_background:{name:"Background colour behind buttons",type:"colour"},colour_timer:{name:"Timer indicator colour",type:"colour"},colour_message:{name:"Message colour",type:"colour"}}},column_r:{name:"Column - buttons right",thumbnail:"",options:{font_style:{name:"Font",type:"font"},colour_button1:{name:"Button 1 background colour",type:"colour"},text_colour_button1:{name:"Button 1 text colour",type:"colour"},colour_button2:{name:"Button 2 background colour",type:"colour"},text_colour_button2:{name:"Button 2 text colour",type:"colour"},colour_button3:{name:"Button 3 background colour",type:"colour"},text_colour_button3:{name:"Button 3 text colour",type:"colour"},colour_button4:{name:"Button 4 background colour",type:"colour"},text_colour_button4:{name:"Button 4 text colour",type:"colour"},colour_background:{name:"Background colour behind buttons",type:"colour"},colour_timer:{name:"Timer indicator colour",type:"colour"},colour_message:{name:"Message colour",type:"colour"}}}},LAYOUT_NAMES=Object.entries(LAYOUTS).map(([l,{name:a}])=>({id:l,name:a})).sort((l,a)=>l.name.localeCompare(a.name)),STORAGE_KEY="videopath_story",LAST_SAVED_JSON_KEY="videopath_last_saved_json",CURRENT_FILENAME_KEY="videopath_current_filename",EMPTY_STORY={version:VERSION,title:"",author:"",info:"",initialSceneId:-1,locales:["en"],defaultChoiceLayout:DEFAULT_LAYOUT,defaultChoiceLayoutSettings:{},videos:[],scenes:[],initialState:{},translations:{}},EVENT_TYPES$1={action:"action",choice:"choice"},CHOICE_TYPES$1={block:"block",timed:"timed"},isValidStory=l=>["version","title","author","info","locales","defaultChoiceLayout"].every(a=>a in l),intVersion=l=>l.split(".").reduce((a,o,u)=>a+parseInt(o)*Math.pow(100,2-u),0),isOldVersion=l=>intVersion(VERSION)>intVersion(l),getSceneLabel=l=>(l.ref?`[${l.ref}] - `:"")+(l.title||"(No title)"),useStoryStore=defineStore("story",()=>{const l=ref(null),a=ref(!1),o=ref(null);let u=0,s=0,c="";watch(()=>JSON.stringify(l.value),(J,ve)=>{a.value=J===c,f(JSON.parse(J))});function d(){const J=JSON.parse(localStorage.getItem(STORAGE_KEY));c=localStorage.getItem(LAST_SAVED_JSON_KEY)||"",o.value=localStorage.getItem(CURRENT_FILENAME_KEY)||null,v(J||void 0)}function f(J){localStorage.setItem(STORAGE_KEY,JSON.stringify(J))}function m(J){c=J,localStorage.setItem(LAST_SAVED_JSON_KEY,c)}function g(J){o.value=J,localStorage.setItem(CURRENT_FILENAME_KEY,J)}function v(J=EMPTY_STORY){l.value=structuredClone(J),m(JSON.stringify(l.value)),g(""),u=pe(J),s=se(J)}async function y(){return await storage.pick()}async function _(J){const ve=await storage.load(J);return ve?(l.value=ve,m(JSON.stringify(l.value)),g(J),u=pe(ve)??0,s=se(ve)??0,!0):!1}async function b(){return await storage.chooseSaveFilename(o.value)}async function x(J=!1){const ve=await storage.save(J||o.value,toRaw(l.value));return ve&&(g(ve),m(JSON.stringify(l.value)),a.value=!0),ve}function w(){const J=JSON.stringify(toRaw(l.value));return LZString.compressToEncodedURIComponent(J)}function A(J){try{const ve=LZString.decompressFromEncodedURIComponent(J);return JSON.parse(ve)}catch{return null}}function D(J){const ve=w();return J?window.location.origin+window.location.pathname+J.resolve({name:"play",params:{data:ve}}).href:""}function I(J){const ve={...J,id:Z()};return l.value.videos.push(ve),ve.id}function N(J,ve=!1){ve&&ne(J).forEach(de=>M(de.id)),l.value.videos=l.value.videos.filter(de=>de.id!==J).map(de=>toRaw(de)),u=pe(l.value)??0}function O(J,ve){l.value.videos=l.value.videos.map(de=>de.id===J?{...de,...ve}:de)}function B(J){const ve={...J,id:ee()};return l.value.scenes.push(ve),ve.id}function M(J){l.value.scenes=l.value.scenes.filter(ve=>ve.id!==J).map(ve=>toRaw(ve)),s=se(l.value)??0}function j(J,ve){l.value.scenes=l.value.scenes.map(de=>de.id===J?{...de,...ve}:de)}function L(J,ve){const de=V(J);if(!de)return!1;const xe={...ve,id:oe(de)};return de.events.push(xe),xe.id}function z(J,ve){const de=V(J);if(!de)return!1;de.events=de.events.filter(({id:xe})=>xe!==ve)}function W(J,ve,de){const xe=V(J);if(!xe)return!1;xe.events=xe.events.map(te=>te.id===ve?{...te,...de}:te)}function ne(J){return l.value.scenes.filter(ve=>ve.videoId===J)}const V=(J,ve=l.value)=>ve.scenes.find(({id:de})=>de===J),Y=(J,ve=l.value)=>ve.videos.find(({id:de})=>de===J),Z=()=>++u,pe=J=>J.videos.length?Math.max(...J.videos.map(({id:ve})=>ve)):null,ee=()=>++s,se=J=>J.scenes.length?Math.max(...J.scenes.map(({id:ve})=>ve)):null,ge=(J=l.value)=>J.scenes.length?Math.min(...J.scenes.map(({id:ve})=>ve)):null,De=J=>J.events.length?Math.max(...J.events.map(({id:ve})=>ve)):0,oe=J=>De(J)+1,ae=computed(()=>Ae(l.value)),Ae=J=>{const ve=J.initialSceneId;if([void 0,-1].includes(ve))return!1;const de=V(ve,J);if(!de)return!1;const xe=Y(de.videoId,J);return!(!xe||!xe.sourceType||!xe.url)};return d(),{currentStory:l,isSaved:a,currentFilename:o,newStory:v,pickStory:y,loadStory:_,saveStory:x,chooseStoryFilename:b,get compressedStoryForURL(){return w()},uncompressStoryData:A,getSharingURL:D,addVideo:I,deleteVideo:N,updateVideo:O,addScene:B,deleteScene:M,updateScene:j,addEvent:L,deleteEvent:z,updateEvent:W,getSceneById:V,getScenesByVideoId:ne,getLowestSceneId:ge,isStoryPlayable:Ae,isCurrentStoryPlayable:ae}}),IS_GD={name:"is.gd",async shorten(l){let a;try{if(a=await fetch(`https://is.gd/create.php?format=json&url=${encodeURIComponent(l)}`),!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return a=await a.json(),a.errorcode?[null,a.errormessage]:[a.shorturl]}catch(o){return[null,o.message]}}},V_GD={name:"v.gd",async shorten(l){let a;try{if(a=await fetch(`https://v.gd/create.php?format=json&url=${encodeURIComponent(l)}`),!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return a=await a.json(),a.errorcode?[null,a.errormessage]:[a.shorturl]}catch(o){return[null,o.message]}}},urlShortener=(...l)=>async a=>{let o,u;for(const s of l)if(console.log(`Attempting to shorten URL with '${s.name}`),[o,u]=await s.shorten(a),o)break;return o||console.log("Error whilst shortening URL"),o},URLShortener=urlShortener(V_GD,IS_GD);var win;typeof window<"u"?win=window:typeof commonjsGlobal$1<"u"?win=commonjsGlobal$1:typeof self<"u"?win=self:win={};var window_1=win;const window$1$1=getDefaultExportFromCjs(window_1),__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var topLevel=typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:{},minDoc=require$$0,doccy;typeof document<"u"?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"],doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc));var document_1=doccy;const document$2=getDefaultExportFromCjs(document_1);function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var u in o)({}).hasOwnProperty.call(o,u)&&(l[u]=o[u])}return l},_extends$2.apply(null,arguments)}const _extends$3=Object.freeze(Object.defineProperty({__proto__:null,get default(){return _extends$2}},Symbol.toStringTag,{value:"Module"}));var keycode$1={exports:{}};(function(l,a){function o(m){if(m&&typeof m=="object"){var g=m.which||m.keyCode||m.charCode;g&&(m=g)}if(typeof m=="number")return d[m];var v=String(m),y=u[v.toLowerCase()];if(y)return y;var y=s[v.toLowerCase()];if(y)return y;if(v.length===1)return v.charCodeAt(0)}o.isEventKey=function(g,v){if(g&&typeof g=="object"){var y=g.which||g.keyCode||g.charCode;if(y==null)return!1;if(typeof v=="string"){var _=u[v.toLowerCase()];if(_)return _===y;var _=s[v.toLowerCase()];if(_)return _===y}else if(typeof v=="number")return v===y;return!1}},a=l.exports=o;var u=a.code=a.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=a.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(c=97;c<123;c++)u[String.fromCharCode(c)]=c-32;for(var c=48;c<58;c++)u[c-48]=c;for(c=1;c<13;c++)u["f"+c]=c+111;for(c=0;c<10;c++)u["numpad "+c]=c+96;var d=a.names=a.title={};for(c in u)d[u[c]]=c;for(var f in s)u[f]=s[f]})(keycode$1,keycode$1.exports);var keycodeExports=keycode$1.exports;const keycode=getDefaultExportFromCjs(keycodeExports);function _assertThisInitialized$1(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _setPrototypeOf$1(l,a){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,u){return o.__proto__=u,o},_setPrototypeOf$1(l,a)}function _inheritsLoose(l,a){l.prototype=Object.create(a.prototype),l.prototype.constructor=l,_setPrototypeOf$1(l,a)}var tuple=SafeParseTuple;function SafeParseTuple(l,a){var o,u=null;try{o=JSON.parse(l,a)}catch(s){u=s}return[u,o]}const safeParseTuple=getDefaultExportFromCjs(tuple);var lib={exports:{}};const require$$1=getAugmentedNamespace(_extends$3);var isFunction_1=isFunction$1,toString$1=Object.prototype.toString;function isFunction$1(l){if(!l)return!1;var a=toString$1.call(l);return a==="[object Function]"||typeof l=="function"&&a!=="[object RegExp]"||typeof window<"u"&&(l===window.setTimeout||l===window.alert||l===window.confirm||l===window.prompt)}var window$3=window_1,httpResponseHandler=function(a,o){return o===void 0&&(o=!1),function(u,s,c){if(u){a(u);return}if(s.statusCode>=400&&s.statusCode<=599){var d=c;if(o)if(window$3.TextDecoder){var f=getCharset(s.headers&&s.headers["content-type"]);try{d=new TextDecoder(f).decode(c)}catch{}}else d=String.fromCharCode.apply(null,new Uint8Array(c));a({cause:d});return}a(null,c)}};function getCharset(l){return l===void 0&&(l=""),l.toLowerCase().split(";").reduce(function(a,o){var u=o.split("="),s=u[0],c=u[1];return s.trim()==="charset"?c.trim():a},"utf-8")}var httpHandler=httpResponseHandler,window$2=window_1,_extends$1=require$$1,isFunction=isFunction_1;createXHR.httpHandler=httpHandler;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var parseHeaders=function(a){var o={};return a&&a.trim().split(`
`).forEach(function(u){var s=u.indexOf(":"),c=u.slice(0,s).trim().toLowerCase(),d=u.slice(s+1).trim();typeof o[c]>"u"?o[c]=d:Array.isArray(o[c])?o[c].push(d):o[c]=[o[c],d]}),o};lib.exports=createXHR;lib.exports.default=createXHR;createXHR.XMLHttpRequest=window$2.XMLHttpRequest||noop$2;createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window$2.XDomainRequest;forEachArray(["get","put","post","patch","head","delete"],function(l){createXHR[l==="delete"?"del":l]=function(a,o,u){return o=initParams(a,o,u),o.method=l.toUpperCase(),_createXHR(o)}});function forEachArray(l,a){for(var o=0;o<l.length;o++)a(l[o])}function isEmpty(l){for(var a in l)if(l.hasOwnProperty(a))return!1;return!0}function initParams(l,a,o){var u=l;return isFunction(a)?(o=a,typeof l=="string"&&(u={uri:l})):u=_extends$1({},a,{uri:l}),u.callback=o,u}function createXHR(l,a,o){return a=initParams(l,a,o),_createXHR(a)}function _createXHR(l){if(typeof l.callback>"u")throw new Error("callback argument missing");var a=!1,o=function(N,O,B){a||(a=!0,l.callback(N,O,B))};function u(){f.readyState===4&&setTimeout(d,0)}function s(){var I=void 0;if(f.response?I=f.response:I=f.responseText||getXml(f),w)try{I=JSON.parse(I)}catch{}return I}function c(I){return clearTimeout(A),I instanceof Error||(I=new Error(""+(I||"Unknown XMLHttpRequest Error"))),I.statusCode=0,o(I,D)}function d(){if(!g){var I;clearTimeout(A),l.useXDR&&f.status===void 0?I=200:I=f.status===1223?204:f.status;var N=D,O=null;return I!==0?(N={body:s(),statusCode:I,method:y,headers:{},url:v,rawRequest:f},f.getAllResponseHeaders&&(N.headers=parseHeaders(f.getAllResponseHeaders()))):O=new Error("Internal XMLHttpRequest Error"),o(O,N,N.body)}}var f=l.xhr||null;f||(l.cors||l.useXDR?f=new createXHR.XDomainRequest:f=new createXHR.XMLHttpRequest);var m,g,v=f.url=l.uri||l.url,y=f.method=l.method||"GET",_=l.body||l.data,b=f.headers=l.headers||{},x=!!l.sync,w=!1,A,D={body:void 0,headers:{},statusCode:0,method:y,url:v,rawRequest:f};if("json"in l&&l.json!==!1&&(w=!0,b.accept||b.Accept||(b.Accept="application/json"),y!=="GET"&&y!=="HEAD"&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),_=JSON.stringify(l.json===!0?_:l.json))),f.onreadystatechange=u,f.onload=d,f.onerror=c,f.onprogress=function(){},f.onabort=function(){g=!0},f.ontimeout=c,f.open(y,v,!x,l.username,l.password),x||(f.withCredentials=!!l.withCredentials),!x&&l.timeout>0&&(A=setTimeout(function(){if(!g){g=!0,f.abort("timeout");var I=new Error("XMLHttpRequest timeout");I.code="ETIMEDOUT",c(I)}},l.timeout)),f.setRequestHeader)for(m in b)b.hasOwnProperty(m)&&f.setRequestHeader(m,b[m]);else if(l.headers&&!isEmpty(l.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in l&&(f.responseType=l.responseType),"beforeSend"in l&&typeof l.beforeSend=="function"&&l.beforeSend(f),f.send(_||null),f}function getXml(l){try{if(l.responseType==="document")return l.responseXML;var a=l.responseXML&&l.responseXML.documentElement.nodeName==="parsererror";if(l.responseType===""&&!a)return l.responseXML}catch{}return null}function noop$2(){}var libExports=lib.exports;const XHR=getDefaultExportFromCjs(libExports);var browserIndex={exports:{}},document$1=document_1,_objCreate=Object.create||function(){function l(){}return function(a){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return l.prototype=a,new l}}();function ParsingError(l,a){this.name="ParsingError",this.code=l.code,this.message=a||l.message}ParsingError.prototype=_objCreate(Error.prototype);ParsingError.prototype.constructor=ParsingError;ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function parseTimeStamp(l){function a(u,s,c,d){return(u|0)*3600+(s|0)*60+(c|0)+(d|0)/1e3}var o=l.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return o?o[3]?a(o[1],o[2],o[3].replace(":",""),o[4]):o[1]>59?a(o[1],o[2],0,o[4]):a(0,o[1],o[2],o[4]):null}function Settings(){this.values=_objCreate(null)}Settings.prototype={set:function(l,a){!this.get(l)&&a!==""&&(this.values[l]=a)},get:function(l,a,o){return o?this.has(l)?this.values[l]:a[o]:this.has(l)?this.values[l]:a},has:function(l){return l in this.values},alt:function(l,a,o){for(var u=0;u<o.length;++u)if(a===o[u]){this.set(l,a);break}},integer:function(l,a){/^-?\d+$/.test(a)&&this.set(l,parseInt(a,10))},percent:function(l,a){return a.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(a=parseFloat(a),a>=0&&a<=100)?(this.set(l,a),!0):!1}};function parseOptions(l,a,o,u){var s=u?l.split(u):[l];for(var c in s)if(typeof s[c]=="string"){var d=s[c].split(o);if(d.length===2){var f=d[0].trim(),m=d[1].trim();a(f,m)}}}function parseCue(l,a,o){var u=l;function s(){var f=parseTimeStamp(l);if(f===null)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+u);return l=l.replace(/^[^\sa-zA-Z-]+/,""),f}function c(f,m){var g=new Settings;parseOptions(f,function(v,y){switch(v){case"region":for(var _=o.length-1;_>=0;_--)if(o[_].id===y){g.set(v,o[_].region);break}break;case"vertical":g.alt(v,y,["rl","lr"]);break;case"line":var b=y.split(","),x=b[0];g.integer(v,x),g.percent(v,x)&&g.set("snapToLines",!1),g.alt(v,x,["auto"]),b.length===2&&g.alt("lineAlign",b[1],["start","center","end"]);break;case"position":b=y.split(","),g.percent(v,b[0]),b.length===2&&g.alt("positionAlign",b[1],["start","center","end"]);break;case"size":g.percent(v,y);break;case"align":g.alt(v,y,["start","center","end","left","right"]);break}},/:/,/\s/),m.region=g.get("region",null),m.vertical=g.get("vertical","");try{m.line=g.get("line","auto")}catch{}m.lineAlign=g.get("lineAlign","start"),m.snapToLines=g.get("snapToLines",!0),m.size=g.get("size",100);try{m.align=g.get("align","center")}catch{m.align=g.get("align","middle")}try{m.position=g.get("position","auto")}catch{m.position=g.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},m.align)}m.positionAlign=g.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},m.align)}function d(){l=l.replace(/^\s+/,"")}if(d(),a.startTime=s(),d(),l.substr(0,3)!=="-->")throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+u);l=l.substr(3),d(),a.endTime=s(),d(),c(l,a)}var TEXTAREA_ELEMENT=document$1.createElement&&document$1.createElement("textarea"),TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},DEFAULT_COLOR_CLASS={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},TAG_ANNOTATION={v:"title",lang:"lang"},NEEDS_PARENT={rt:"ruby"};function parseContent(l,a){function o(){if(!a)return null;function x(A){return a=a.substr(A.length),A}var w=a.match(/^([^<]*)(<[^>]*>?)?/);return x(w[1]?w[1]:w[2])}function u(x){return TEXTAREA_ELEMENT.innerHTML=x,x=TEXTAREA_ELEMENT.textContent,TEXTAREA_ELEMENT.textContent="",x}function s(x,w){return!NEEDS_PARENT[w.localName]||NEEDS_PARENT[w.localName]===x.localName}function c(x,w){var A=TAG_NAME[x];if(!A)return null;var D=l.document.createElement(A),I=TAG_ANNOTATION[x];return I&&w&&(D[I]=w.trim()),D}for(var d=l.document.createElement("div"),f=d,m,g=[];(m=o())!==null;){if(m[0]==="<"){if(m[1]==="/"){g.length&&g[g.length-1]===m.substr(2).replace(">","")&&(g.pop(),f=f.parentNode);continue}var v=parseTimeStamp(m.substr(1,m.length-2)),y;if(v){y=l.document.createProcessingInstruction("timestamp",v),f.appendChild(y);continue}var _=m.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!_||(y=c(_[1],_[3]),!y)||!s(f,y))continue;if(_[2]){var b=_[2].split(".");b.forEach(function(x){var w=/^bg_/.test(x),A=w?x.slice(3):x;if(DEFAULT_COLOR_CLASS.hasOwnProperty(A)){var D=w?"background-color":"color",I=DEFAULT_COLOR_CLASS[A];y.style[D]=I}}),y.className=b.join(" ")}g.push(_[1]),f.appendChild(y),f=y;continue}f.appendChild(l.document.createTextNode(u(m)))}return d}var strongRTLRanges=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function isStrongRTLChar(l){for(var a=0;a<strongRTLRanges.length;a++){var o=strongRTLRanges[a];if(l>=o[0]&&l<=o[1])return!0}return!1}function determineBidi(l){var a=[],o="",u;if(!l||!l.childNodes)return"ltr";function s(f,m){for(var g=m.childNodes.length-1;g>=0;g--)f.push(m.childNodes[g])}function c(f){if(!f||!f.length)return null;var m=f.pop(),g=m.textContent||m.innerText;if(g){var v=g.match(/^.*(\n|\r)/);return v?(f.length=0,v[0]):g}if(m.tagName==="ruby")return c(f);if(m.childNodes)return s(f,m),c(f)}for(s(a,l);o=c(a);)for(var d=0;d<o.length;d++)if(u=o.charCodeAt(d),isStrongRTLChar(u))return"rtl";return"ltr"}function computeLinePos(l){if(typeof l.line=="number"&&(l.snapToLines||l.line>=0&&l.line<=100))return l.line;if(!l.track||!l.track.textTrackList||!l.track.textTrackList.mediaElement)return-1;for(var a=l.track,o=a.textTrackList,u=0,s=0;s<o.length&&o[s]!==a;s++)o[s].mode==="showing"&&u++;return++u*-1}function StyleBox(){}StyleBox.prototype.applyStyles=function(l,a){a=a||this.div;for(var o in l)l.hasOwnProperty(o)&&(a.style[o]=l[o])};StyleBox.prototype.formatStyle=function(l,a){return l===0?0:l+a};function CueStyleBox(l,a,o){StyleBox.call(this),this.cue=a,this.cueDiv=parseContent(l,a.text);var u={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:a.vertical===""?"horizontal-tb":a.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(u,this.cueDiv),this.div=l.document.createElement("div"),u={direction:determineBidi(this.cueDiv),writingMode:a.vertical===""?"horizontal-tb":a.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:a.align==="middle"?"center":a.align,font:o.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(u),this.div.appendChild(this.cueDiv);var s=0;switch(a.positionAlign){case"start":case"line-left":s=a.position;break;case"center":s=a.position-a.size/2;break;case"end":case"line-right":s=a.position-a.size;break}a.vertical===""?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(a.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(a.size,"%")}),this.move=function(c){this.applyStyles({top:this.formatStyle(c.top,"px"),bottom:this.formatStyle(c.bottom,"px"),left:this.formatStyle(c.left,"px"),right:this.formatStyle(c.right,"px"),height:this.formatStyle(c.height,"px"),width:this.formatStyle(c.width,"px")})}}CueStyleBox.prototype=_objCreate(StyleBox.prototype);CueStyleBox.prototype.constructor=CueStyleBox;function BoxPosition(l){var a,o,u,s;if(l.div){o=l.div.offsetHeight,u=l.div.offsetWidth,s=l.div.offsetTop;var c=(c=l.div.childNodes)&&(c=c[0])&&c.getClientRects&&c.getClientRects();l=l.div.getBoundingClientRect(),a=c?Math.max(c[0]&&c[0].height||0,l.height/c.length):0}this.left=l.left,this.right=l.right,this.top=l.top||s,this.height=l.height||o,this.bottom=l.bottom||s+(l.height||o),this.width=l.width||u,this.lineHeight=a!==void 0?a:l.lineHeight}BoxPosition.prototype.move=function(l,a){switch(a=a!==void 0?a:this.lineHeight,l){case"+x":this.left+=a,this.right+=a;break;case"-x":this.left-=a,this.right-=a;break;case"+y":this.top+=a,this.bottom+=a;break;case"-y":this.top-=a,this.bottom-=a;break}};BoxPosition.prototype.overlaps=function(l){return this.left<l.right&&this.right>l.left&&this.top<l.bottom&&this.bottom>l.top};BoxPosition.prototype.overlapsAny=function(l){for(var a=0;a<l.length;a++)if(this.overlaps(l[a]))return!0;return!1};BoxPosition.prototype.within=function(l){return this.top>=l.top&&this.bottom<=l.bottom&&this.left>=l.left&&this.right<=l.right};BoxPosition.prototype.overlapsOppositeAxis=function(l,a){switch(a){case"+x":return this.left<l.left;case"-x":return this.right>l.right;case"+y":return this.top<l.top;case"-y":return this.bottom>l.bottom}};BoxPosition.prototype.intersectPercentage=function(l){var a=Math.max(0,Math.min(this.right,l.right)-Math.max(this.left,l.left)),o=Math.max(0,Math.min(this.bottom,l.bottom)-Math.max(this.top,l.top)),u=a*o;return u/(this.height*this.width)};BoxPosition.prototype.toCSSCompatValues=function(l){return{top:this.top-l.top,bottom:l.bottom-this.bottom,left:this.left-l.left,right:l.right-this.right,height:this.height,width:this.width}};BoxPosition.getSimpleBoxPosition=function(l){var a=l.div?l.div.offsetHeight:l.tagName?l.offsetHeight:0,o=l.div?l.div.offsetWidth:l.tagName?l.offsetWidth:0,u=l.div?l.div.offsetTop:l.tagName?l.offsetTop:0;l=l.div?l.div.getBoundingClientRect():l.tagName?l.getBoundingClientRect():l;var s={left:l.left,right:l.right,top:l.top||u,height:l.height||a,bottom:l.bottom||u+(l.height||a),width:l.width||o};return s};function moveBoxToLinePosition(l,a,o,u){function s(A,D){for(var I,N=new BoxPosition(A),O=1,B=0;B<D.length;B++){for(;A.overlapsOppositeAxis(o,D[B])||A.within(o)&&A.overlapsAny(u);)A.move(D[B]);if(A.within(o))return A;var M=A.intersectPercentage(o);O>M&&(I=new BoxPosition(A),O=M),A=new BoxPosition(N)}return I||N}var c=new BoxPosition(a),d=a.cue,f=computeLinePos(d),m=[];if(d.snapToLines){var g;switch(d.vertical){case"":m=["+y","-y"],g="height";break;case"rl":m=["+x","-x"],g="width";break;case"lr":m=["-x","+x"],g="width";break}var v=c.lineHeight,y=v*Math.round(f),_=o[g]+v,b=m[0];Math.abs(y)>_&&(y=y<0?-1:1,y*=Math.ceil(_/v)*v),f<0&&(y+=d.vertical===""?o.height:o.width,m=m.reverse()),c.move(b,y)}else{var x=c.lineHeight/o.height*100;switch(d.lineAlign){case"center":f-=x/2;break;case"end":f-=x;break}switch(d.vertical){case"":a.applyStyles({top:a.formatStyle(f,"%")});break;case"rl":a.applyStyles({left:a.formatStyle(f,"%")});break;case"lr":a.applyStyles({right:a.formatStyle(f,"%")});break}m=["+y","-x","+x","-y"],c=new BoxPosition(a)}var w=s(c,m);a.move(w.toCSSCompatValues(o))}function WebVTT$1(){}WebVTT$1.StringDecoder=function(){return{decode:function(l){if(!l)return"";if(typeof l!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(l))}}};WebVTT$1.convertCueToDOMTree=function(l,a){return!l||!a?null:parseContent(l,a)};var FONT_SIZE_PERCENT=.05,FONT_STYLE="sans-serif",CUE_BACKGROUND_PADDING="1.5%";WebVTT$1.processCues=function(l,a,o){if(!l||!a||!o)return null;for(;o.firstChild;)o.removeChild(o.firstChild);var u=l.document.createElement("div");u.style.position="absolute",u.style.left="0",u.style.right="0",u.style.top="0",u.style.bottom="0",u.style.margin=CUE_BACKGROUND_PADDING,o.appendChild(u);function s(v){for(var y=0;y<v.length;y++)if(v[y].hasBeenReset||!v[y].displayState)return!0;return!1}if(!s(a)){for(var c=0;c<a.length;c++)u.appendChild(a[c].displayState);return}var d=[],f=BoxPosition.getSimpleBoxPosition(u),m=Math.round(f.height*FONT_SIZE_PERCENT*100)/100,g={font:m+"px "+FONT_STYLE};(function(){for(var v,y,_=0;_<a.length;_++)y=a[_],v=new CueStyleBox(l,y,g),u.appendChild(v.div),moveBoxToLinePosition(l,v,f,d),y.displayState=v.div,d.push(BoxPosition.getSimpleBoxPosition(v))})()};WebVTT$1.Parser=function(l,a,o){o||(o=a,a={}),a||(a={}),this.window=l,this.vttjs=a,this.state="INITIAL",this.buffer="",this.decoder=o||new TextDecoder("utf8"),this.regionList=[]};WebVTT$1.Parser.prototype={reportOrThrowError:function(l){if(l instanceof ParsingError)this.onparsingerror&&this.onparsingerror(l);else throw l},parse:function(l){var a=this;l&&(a.buffer+=a.decoder.decode(l,{stream:!0}));function o(){for(var v=a.buffer,y=0;y<v.length&&v[y]!=="\r"&&v[y]!==`
`;)++y;var _=v.substr(0,y);return v[y]==="\r"&&++y,v[y]===`
`&&++y,a.buffer=v.substr(y),_}function u(v){var y=new Settings;if(parseOptions(v,function(b,x){switch(b){case"id":y.set(b,x);break;case"width":y.percent(b,x);break;case"lines":y.integer(b,x);break;case"regionanchor":case"viewportanchor":var w=x.split(",");if(w.length!==2)break;var A=new Settings;if(A.percent("x",w[0]),A.percent("y",w[1]),!A.has("x")||!A.has("y"))break;y.set(b+"X",A.get("x")),y.set(b+"Y",A.get("y"));break;case"scroll":y.alt(b,x,["up"]);break}},/=/,/\s/),y.has("id")){var _=new(a.vttjs.VTTRegion||a.window.VTTRegion);_.width=y.get("width",100),_.lines=y.get("lines",3),_.regionAnchorX=y.get("regionanchorX",0),_.regionAnchorY=y.get("regionanchorY",100),_.viewportAnchorX=y.get("viewportanchorX",0),_.viewportAnchorY=y.get("viewportanchorY",100),_.scroll=y.get("scroll",""),a.onregion&&a.onregion(_),a.regionList.push({id:y.get("id"),region:_})}}function s(v){var y=new Settings;parseOptions(v,function(_,b){switch(_){case"MPEGT":y.integer(_+"S",b);break;case"LOCA":y.set(_+"L",parseTimeStamp(b));break}},/[^\d]:/,/,/),a.ontimestampmap&&a.ontimestampmap({MPEGTS:y.get("MPEGTS"),LOCAL:y.get("LOCAL")})}function c(v){v.match(/X-TIMESTAMP-MAP/)?parseOptions(v,function(y,_){switch(y){case"X-TIMESTAMP-MAP":s(_);break}},/=/):parseOptions(v,function(y,_){switch(y){case"Region":u(_);break}},/:/)}try{var d;if(a.state==="INITIAL"){if(!/\r\n|\n/.test(a.buffer))return this;d=o();var f=d.match(/^WEBVTT([ \t].*)?$/);if(!f||!f[0])throw new ParsingError(ParsingError.Errors.BadSignature);a.state="HEADER"}for(var m=!1;a.buffer;){if(!/\r\n|\n/.test(a.buffer))return this;switch(m?m=!1:d=o(),a.state){case"HEADER":/:/.test(d)?c(d):d||(a.state="ID");continue;case"NOTE":d||(a.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){a.state="NOTE";break}if(!d)continue;a.cue=new(a.vttjs.VTTCue||a.window.VTTCue)(0,0,"");try{a.cue.align="center"}catch{a.cue.align="middle"}if(a.state="CUE",d.indexOf("-->")===-1){a.cue.id=d;continue}case"CUE":try{parseCue(d,a.cue,a.regionList)}catch(v){a.reportOrThrowError(v),a.cue=null,a.state="BADCUE";continue}a.state="CUETEXT";continue;case"CUETEXT":var g=d.indexOf("-->")!==-1;if(!d||g&&(m=!0)){a.oncue&&a.oncue(a.cue),a.cue=null,a.state="ID";continue}a.cue.text&&(a.cue.text+=`
`),a.cue.text+=d.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":d||(a.state="ID");continue}}}catch(v){a.reportOrThrowError(v),a.state==="CUETEXT"&&a.cue&&a.oncue&&a.oncue(a.cue),a.cue=null,a.state=a.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var l=this;try{if(l.buffer+=l.decoder.decode(),(l.cue||l.state==="HEADER")&&(l.buffer+=`

`,l.parse()),l.state==="INITIAL")throw new ParsingError(ParsingError.Errors.BadSignature)}catch(a){l.reportOrThrowError(a)}return l.onflush&&l.onflush(),this}};var vtt$1=WebVTT$1,autoKeyword="auto",directionSetting={"":1,lr:1,rl:1},alignSetting={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function findDirectionSetting(l){if(typeof l!="string")return!1;var a=directionSetting[l.toLowerCase()];return a?l.toLowerCase():!1}function findAlignSetting(l){if(typeof l!="string")return!1;var a=alignSetting[l.toLowerCase()];return a?l.toLowerCase():!1}function VTTCue(l,a,o){this.hasBeenReset=!1;var u="",s=!1,c=l,d=a,f=o,m=null,g="",v=!0,y="auto",_="start",b="auto",x="auto",w=100,A="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return u},set:function(D){u=""+D}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(D){s=!!D}},startTime:{enumerable:!0,get:function(){return c},set:function(D){if(typeof D!="number")throw new TypeError("Start time must be set to a number.");c=D,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return d},set:function(D){if(typeof D!="number")throw new TypeError("End time must be set to a number.");d=D,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return f},set:function(D){f=""+D,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return m},set:function(D){m=D,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return g},set:function(D){var I=findDirectionSetting(D);if(I===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");g=I,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return v},set:function(D){v=!!D,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return y},set:function(D){if(typeof D!="number"&&D!==autoKeyword)throw new SyntaxError("Line: an invalid number or illegal string was specified.");y=D,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return _},set:function(D){var I=findAlignSetting(D);I?(_=I,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return b},set:function(D){if(D<0||D>100)throw new Error("Position must be between 0 and 100.");b=D,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return x},set:function(D){var I=findAlignSetting(D);I?(x=I,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return w},set:function(D){if(D<0||D>100)throw new Error("Size must be between 0 and 100.");w=D,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return A},set:function(D){var I=findAlignSetting(D);if(!I)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");A=I,this.hasBeenReset=!0}}}),this.displayState=void 0}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var vttcue=VTTCue,scrollSetting={"":!0,up:!0};function findScrollSetting(l){if(typeof l!="string")return!1;var a=scrollSetting[l.toLowerCase()];return a?l.toLowerCase():!1}function isValidPercentValue(l){return typeof l=="number"&&l>=0&&l<=100}function VTTRegion(){var l=100,a=3,o=0,u=100,s=0,c=100,d="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return l},set:function(f){if(!isValidPercentValue(f))throw new Error("Width must be between 0 and 100.");l=f}},lines:{enumerable:!0,get:function(){return a},set:function(f){if(typeof f!="number")throw new TypeError("Lines must be set to a number.");a=f}},regionAnchorY:{enumerable:!0,get:function(){return u},set:function(f){if(!isValidPercentValue(f))throw new Error("RegionAnchorX must be between 0 and 100.");u=f}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(f){if(!isValidPercentValue(f))throw new Error("RegionAnchorY must be between 0 and 100.");o=f}},viewportAnchorY:{enumerable:!0,get:function(){return c},set:function(f){if(!isValidPercentValue(f))throw new Error("ViewportAnchorY must be between 0 and 100.");c=f}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(f){if(!isValidPercentValue(f))throw new Error("ViewportAnchorX must be between 0 and 100.");s=f}},scroll:{enumerable:!0,get:function(){return d},set:function(f){var m=findScrollSetting(f);m===!1?console.warn("Scroll: an invalid or illegal string was specified."):d=m}}})}var vttregion=VTTRegion,window$1=window_1,vttjs=browserIndex.exports={WebVTT:vtt$1,VTTCue:vttcue,VTTRegion:vttregion};window$1.vttjs=vttjs;window$1.WebVTT=vttjs.WebVTT;var cueShim=vttjs.VTTCue,regionShim=vttjs.VTTRegion,nativeVTTCue=window$1.VTTCue,nativeVTTRegion=window$1.VTTRegion;vttjs.shim=function(){window$1.VTTCue=cueShim,window$1.VTTRegion=regionShim};vttjs.restore=function(){window$1.VTTCue=nativeVTTCue,window$1.VTTRegion=nativeVTTRegion};window$1.VTTCue||vttjs.shim();var browserIndexExports=browserIndex.exports;const vtt=getDefaultExportFromCjs(browserIndexExports);function _isNativeReflectConstruct$1(){try{var l=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!l})()}function _construct$1(l,a,o){if(_isNativeReflectConstruct$1())return Reflect.construct.apply(null,arguments);var u=[null];u.push.apply(u,a);var s=new(l.bind.apply(l,u));return o&&_setPrototypeOf$1(s,o.prototype),s}function _inherits$1(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),a&&_setPrototypeOf$1(l,a)}var urlToolkit={exports:{}};(function(l,a){(function(o){var u=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,c=/(?:\/|^)\.(?=\/)/g,d=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,f={buildAbsoluteURL:function(m,g,v){if(v=v||{},m=m.trim(),g=g.trim(),!g){if(!v.alwaysNormalize)return m;var y=f.parseURL(m);if(!y)throw new Error("Error trying to parse base URL.");return y.path=f.normalizePath(y.path),f.buildURLFromParts(y)}var _=f.parseURL(g);if(!_)throw new Error("Error trying to parse relative URL.");if(_.scheme)return v.alwaysNormalize?(_.path=f.normalizePath(_.path),f.buildURLFromParts(_)):g;var b=f.parseURL(m);if(!b)throw new Error("Error trying to parse base URL.");if(!b.netLoc&&b.path&&b.path[0]!=="/"){var x=s.exec(b.path);b.netLoc=x[1],b.path=x[2]}b.netLoc&&!b.path&&(b.path="/");var w={scheme:b.scheme,netLoc:_.netLoc,path:null,params:_.params,query:_.query,fragment:_.fragment};if(!_.netLoc&&(w.netLoc=b.netLoc,_.path[0]!=="/"))if(!_.path)w.path=b.path,_.params||(w.params=b.params,_.query||(w.query=b.query));else{var A=b.path,D=A.substring(0,A.lastIndexOf("/")+1)+_.path;w.path=f.normalizePath(D)}return w.path===null&&(w.path=v.alwaysNormalize?f.normalizePath(_.path):_.path),f.buildURLFromParts(w)},parseURL:function(m){var g=u.exec(m);return g?{scheme:g[1]||"",netLoc:g[2]||"",path:g[3]||"",params:g[4]||"",query:g[5]||"",fragment:g[6]||""}:null},normalizePath:function(m){for(m=m.split("").reverse().join("").replace(c,"");m.length!==(m=m.replace(d,"")).length;);return m.split("").reverse().join("")},buildURLFromParts:function(m){return m.scheme+m.netLoc+m.path+m.params+m.query+m.fragment}};l.exports=f})()})(urlToolkit);var urlToolkitExports=urlToolkit.exports;const URLToolkit=getDefaultExportFromCjs(urlToolkitExports);var DEFAULT_LOCATION="http://example.com",resolveUrl$1=function(a,o){if(/^[a-z]+:/i.test(o))return o;/^data:/.test(a)&&(a=window$1$1.location&&window$1$1.location.href||"");var u=typeof window$1$1.URL=="function",s=/^\/\//.test(a),c=!window$1$1.location&&!/\/\//i.test(a);if(u?a=new window$1$1.URL(a,window$1$1.location||DEFAULT_LOCATION):/\/\//i.test(a)||(a=URLToolkit.buildAbsoluteURL(window$1$1.location&&window$1$1.location.href||"",a)),u){var d=new URL(o,a);return c?d.href.slice(DEFAULT_LOCATION.length):s?d.href.slice(d.protocol.length):d.href}return URLToolkit.buildAbsoluteURL(a,o)},Stream=function(){function l(){this.listeners={}}var a=l.prototype;return a.on=function(u,s){this.listeners[u]||(this.listeners[u]=[]),this.listeners[u].push(s)},a.off=function(u,s){if(!this.listeners[u])return!1;var c=this.listeners[u].indexOf(s);return this.listeners[u]=this.listeners[u].slice(0),this.listeners[u].splice(c,1),c>-1},a.trigger=function(u){var s=this.listeners[u];if(s)if(arguments.length===2)for(var c=s.length,d=0;d<c;++d)s[d].call(this,arguments[1]);else for(var f=Array.prototype.slice.call(arguments,1),m=s.length,g=0;g<m;++g)s[g].apply(this,f)},a.dispose=function(){this.listeners={}},a.pipe=function(u){this.on("data",function(s){u.push(s)})},l}(),atob=function(a){return window$1$1.atob?window$1$1.atob(a):Buffer.from(a,"base64").toString("binary")};function decodeB64ToUint8Array(l){for(var a=atob(l),o=new Uint8Array(a.length),u=0;u<a.length;u++)o[u]=a.charCodeAt(u);return o}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var LineStream=function(l){_inheritsLoose(a,l);function a(){var u;return u=l.call(this)||this,u.buffer="",u}var o=a.prototype;return o.push=function(s){var c;for(this.buffer+=s,c=this.buffer.indexOf(`
`);c>-1;c=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,c)),this.buffer=this.buffer.substring(c+1)},a}(Stream),TAB="	",parseByterange=function(a){var o=/([0-9.]*)?@?([0-9.]*)?/.exec(a||""),u={};return o[1]&&(u.length=parseInt(o[1],10)),o[2]&&(u.offset=parseInt(o[2],10)),u},attributeSeparator=function(){var a="[^=]*",o='"[^"]*"|[^,]*',u="(?:"+a+")=(?:"+o+")";return new RegExp("(?:^|,)("+u+")")},parseAttributes$1=function(a){for(var o=a.split(attributeSeparator()),u={},s=o.length,c;s--;)o[s]!==""&&(c=/([^=]*)=(.*)/.exec(o[s]).slice(1),c[0]=c[0].replace(/^\s+|\s+$/g,""),c[1]=c[1].replace(/^\s+|\s+$/g,""),c[1]=c[1].replace(/^['"](.*)['"]$/g,"$1"),u[c[0]]=c[1]);return u},ParseStream=function(l){_inheritsLoose(a,l);function a(){var u;return u=l.call(this)||this,u.customParsers=[],u.tagMappers=[],u}var o=a.prototype;return o.push=function(s){var c=this,d,f;if(s=s.trim(),s.length!==0){if(s[0]!=="#"){this.trigger("data",{type:"uri",uri:s});return}var m=this.tagMappers.reduce(function(g,v){var y=v(s);return y===s?g:g.concat([y])},[s]);m.forEach(function(g){for(var v=0;v<c.customParsers.length;v++)if(c.customParsers[v].call(c,g))return;if(g.indexOf("#EXT")!==0){c.trigger("data",{type:"comment",text:g.slice(1)});return}if(g=g.replace("\r",""),d=/^#EXTM3U/.exec(g),d){c.trigger("data",{type:"tag",tagType:"m3u"});return}if(d=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(g),d){f={type:"tag",tagType:"inf"},d[1]&&(f.duration=parseFloat(d[1])),d[2]&&(f.title=d[2]),c.trigger("data",f);return}if(d=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(g),d){f={type:"tag",tagType:"targetduration"},d[1]&&(f.duration=parseInt(d[1],10)),c.trigger("data",f);return}if(d=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(g),d){f={type:"tag",tagType:"version"},d[1]&&(f.version=parseInt(d[1],10)),c.trigger("data",f);return}if(d=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(g),d){f={type:"tag",tagType:"media-sequence"},d[1]&&(f.number=parseInt(d[1],10)),c.trigger("data",f);return}if(d=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(g),d){f={type:"tag",tagType:"discontinuity-sequence"},d[1]&&(f.number=parseInt(d[1],10)),c.trigger("data",f);return}if(d=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(g),d){f={type:"tag",tagType:"playlist-type"},d[1]&&(f.playlistType=d[1]),c.trigger("data",f);return}if(d=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(g),d){f=_extends$2(parseByterange(d[1]),{type:"tag",tagType:"byterange"}),c.trigger("data",f);return}if(d=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(g),d){f={type:"tag",tagType:"allow-cache"},d[1]&&(f.allowed=!/NO/.test(d[1])),c.trigger("data",f);return}if(d=/^#EXT-X-MAP:?(.*)$/.exec(g),d){if(f={type:"tag",tagType:"map"},d[1]){var y=parseAttributes$1(d[1]);y.URI&&(f.uri=y.URI),y.BYTERANGE&&(f.byterange=parseByterange(y.BYTERANGE))}c.trigger("data",f);return}if(d=/^#EXT-X-STREAM-INF:?(.*)$/.exec(g),d){if(f={type:"tag",tagType:"stream-inf"},d[1]){if(f.attributes=parseAttributes$1(d[1]),f.attributes.RESOLUTION){var _=f.attributes.RESOLUTION.split("x"),b={};_[0]&&(b.width=parseInt(_[0],10)),_[1]&&(b.height=parseInt(_[1],10)),f.attributes.RESOLUTION=b}f.attributes.BANDWIDTH&&(f.attributes.BANDWIDTH=parseInt(f.attributes.BANDWIDTH,10)),f.attributes["FRAME-RATE"]&&(f.attributes["FRAME-RATE"]=parseFloat(f.attributes["FRAME-RATE"])),f.attributes["PROGRAM-ID"]&&(f.attributes["PROGRAM-ID"]=parseInt(f.attributes["PROGRAM-ID"],10))}c.trigger("data",f);return}if(d=/^#EXT-X-MEDIA:?(.*)$/.exec(g),d){f={type:"tag",tagType:"media"},d[1]&&(f.attributes=parseAttributes$1(d[1])),c.trigger("data",f);return}if(d=/^#EXT-X-ENDLIST/.exec(g),d){c.trigger("data",{type:"tag",tagType:"endlist"});return}if(d=/^#EXT-X-DISCONTINUITY/.exec(g),d){c.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(d=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(g),d){f={type:"tag",tagType:"program-date-time"},d[1]&&(f.dateTimeString=d[1],f.dateTimeObject=new Date(d[1])),c.trigger("data",f);return}if(d=/^#EXT-X-KEY:?(.*)$/.exec(g),d){f={type:"tag",tagType:"key"},d[1]&&(f.attributes=parseAttributes$1(d[1]),f.attributes.IV&&(f.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(f.attributes.IV=f.attributes.IV.substring(2)),f.attributes.IV=f.attributes.IV.match(/.{8}/g),f.attributes.IV[0]=parseInt(f.attributes.IV[0],16),f.attributes.IV[1]=parseInt(f.attributes.IV[1],16),f.attributes.IV[2]=parseInt(f.attributes.IV[2],16),f.attributes.IV[3]=parseInt(f.attributes.IV[3],16),f.attributes.IV=new Uint32Array(f.attributes.IV))),c.trigger("data",f);return}if(d=/^#EXT-X-START:?(.*)$/.exec(g),d){f={type:"tag",tagType:"start"},d[1]&&(f.attributes=parseAttributes$1(d[1]),f.attributes["TIME-OFFSET"]=parseFloat(f.attributes["TIME-OFFSET"]),f.attributes.PRECISE=/YES/.test(f.attributes.PRECISE)),c.trigger("data",f);return}if(d=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(g),d){f={type:"tag",tagType:"cue-out-cont"},d[1]?f.data=d[1]:f.data="",c.trigger("data",f);return}if(d=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(g),d){f={type:"tag",tagType:"cue-out"},d[1]?f.data=d[1]:f.data="",c.trigger("data",f);return}if(d=/^#EXT-X-CUE-IN:?(.*)?$/.exec(g),d){f={type:"tag",tagType:"cue-in"},d[1]?f.data=d[1]:f.data="",c.trigger("data",f);return}if(d=/^#EXT-X-SKIP:(.*)$/.exec(g),d&&d[1]){f={type:"tag",tagType:"skip"},f.attributes=parseAttributes$1(d[1]),f.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(f.attributes["SKIPPED-SEGMENTS"]=parseInt(f.attributes["SKIPPED-SEGMENTS"],10)),f.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(f.attributes["RECENTLY-REMOVED-DATERANGES"]=f.attributes["RECENTLY-REMOVED-DATERANGES"].split(TAB)),c.trigger("data",f);return}if(d=/^#EXT-X-PART:(.*)$/.exec(g),d&&d[1]){f={type:"tag",tagType:"part"},f.attributes=parseAttributes$1(d[1]),["DURATION"].forEach(function(x){f.attributes.hasOwnProperty(x)&&(f.attributes[x]=parseFloat(f.attributes[x]))}),["INDEPENDENT","GAP"].forEach(function(x){f.attributes.hasOwnProperty(x)&&(f.attributes[x]=/YES/.test(f.attributes[x]))}),f.attributes.hasOwnProperty("BYTERANGE")&&(f.attributes.byterange=parseByterange(f.attributes.BYTERANGE)),c.trigger("data",f);return}if(d=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(g),d&&d[1]){f={type:"tag",tagType:"server-control"},f.attributes=parseAttributes$1(d[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(x){f.attributes.hasOwnProperty(x)&&(f.attributes[x]=parseFloat(f.attributes[x]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(x){f.attributes.hasOwnProperty(x)&&(f.attributes[x]=/YES/.test(f.attributes[x]))}),c.trigger("data",f);return}if(d=/^#EXT-X-PART-INF:(.*)$/.exec(g),d&&d[1]){f={type:"tag",tagType:"part-inf"},f.attributes=parseAttributes$1(d[1]),["PART-TARGET"].forEach(function(x){f.attributes.hasOwnProperty(x)&&(f.attributes[x]=parseFloat(f.attributes[x]))}),c.trigger("data",f);return}if(d=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(g),d&&d[1]){f={type:"tag",tagType:"preload-hint"},f.attributes=parseAttributes$1(d[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(x){if(f.attributes.hasOwnProperty(x)){f.attributes[x]=parseInt(f.attributes[x],10);var w=x==="BYTERANGE-LENGTH"?"length":"offset";f.attributes.byterange=f.attributes.byterange||{},f.attributes.byterange[w]=f.attributes[x],delete f.attributes[x]}}),c.trigger("data",f);return}if(d=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(g),d&&d[1]){f={type:"tag",tagType:"rendition-report"},f.attributes=parseAttributes$1(d[1]),["LAST-MSN","LAST-PART"].forEach(function(x){f.attributes.hasOwnProperty(x)&&(f.attributes[x]=parseInt(f.attributes[x],10))}),c.trigger("data",f);return}c.trigger("data",{type:"tag",data:g.slice(4)})})}},o.addParser=function(s){var c=this,d=s.expression,f=s.customType,m=s.dataParser,g=s.segment;typeof m!="function"&&(m=function(y){return y}),this.customParsers.push(function(v){var y=d.exec(v);if(y)return c.trigger("data",{type:"custom",data:m(v),customType:f,segment:g}),!0})},o.addTagMapper=function(s){var c=s.expression,d=s.map,f=function(g){return c.test(g)?d(g):g};this.tagMappers.push(f)},a}(Stream),camelCase=function(a){return a.toLowerCase().replace(/-(\w)/g,function(o){return o[1].toUpperCase()})},camelCaseKeys=function(a){var o={};return Object.keys(a).forEach(function(u){o[camelCase(u)]=a[u]}),o},setHoldBack=function(a){var o=a.serverControl,u=a.targetDuration,s=a.partTargetDuration;if(o){var c="#EXT-X-SERVER-CONTROL",d="holdBack",f="partHoldBack",m=u&&u*3,g=s&&s*2;u&&!o.hasOwnProperty(d)&&(o[d]=m,this.trigger("info",{message:c+" defaulting HOLD-BACK to targetDuration * 3 ("+m+")."})),m&&o[d]<m&&(this.trigger("warn",{message:c+" clamping HOLD-BACK ("+o[d]+") to targetDuration * 3 ("+m+")"}),o[d]=m),s&&!o.hasOwnProperty(f)&&(o[f]=s*3,this.trigger("info",{message:c+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+o[f]+")."})),s&&o[f]<g&&(this.trigger("warn",{message:c+" clamping PART-HOLD-BACK ("+o[f]+") to partTargetDuration * 2 ("+g+")."}),o[f]=g)}},Parser=function(l){_inheritsLoose(a,l);function a(){var u;u=l.call(this)||this,u.lineStream=new LineStream,u.parseStream=new ParseStream,u.lineStream.pipe(u.parseStream);var s=_assertThisInitialized$1(u),c=[],d={},f,m,g=!1,v=function(){},y={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},_="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",b=0;u.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var x=0,w=0;return u.on("end",function(){d.uri||!d.parts&&!d.preloadHints||(!d.map&&f&&(d.map=f),!d.key&&m&&(d.key=m),!d.timeline&&typeof b=="number"&&(d.timeline=b),u.manifest.preloadSegment=d)}),u.parseStream.on("data",function(A){var D,I;({tag:function(){({version:function(){A.version&&(this.manifest.version=A.version)},"allow-cache":function(){this.manifest.allowCache=A.allowed,"allowed"in A||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var B={};"length"in A&&(d.byterange=B,B.length=A.length,"offset"in A||(A.offset=x)),"offset"in A&&(d.byterange=B,B.offset=A.offset),x=B.offset+B.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),A.duration>0&&(d.duration=A.duration),A.duration===0&&(d.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=c},key:function(){if(!A.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(A.attributes.METHOD==="NONE"){m=null;return}if(!A.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(A.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:A.attributes};return}if(A.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:A.attributes.URI};return}if(A.attributes.KEYFORMAT===_){var B=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(B.indexOf(A.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(A.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),A.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(A.attributes.KEYID&&A.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:A.attributes.KEYFORMAT,keyId:A.attributes.KEYID.substring(2)},pssh:decodeB64ToUint8Array(A.attributes.URI.split(",")[1])};return}A.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),m={method:A.attributes.METHOD||"AES-128",uri:A.attributes.URI},typeof A.attributes.IV<"u"&&(m.iv=A.attributes.IV)},"media-sequence":function(){if(!isFinite(A.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+A.number});return}this.manifest.mediaSequence=A.number},"discontinuity-sequence":function(){if(!isFinite(A.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+A.number});return}this.manifest.discontinuitySequence=A.number,b=A.number},"playlist-type":function(){if(!/VOD|EVENT/.test(A.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+A.playlist});return}this.manifest.playlistType=A.playlistType},map:function(){f={},A.uri&&(f.uri=A.uri),A.byterange&&(f.byterange=A.byterange),m&&(f.key=m)},"stream-inf":function(){if(this.manifest.playlists=c,this.manifest.mediaGroups=this.manifest.mediaGroups||y,!A.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}d.attributes||(d.attributes={}),_extends$2(d.attributes,A.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||y,!(A.attributes&&A.attributes.TYPE&&A.attributes["GROUP-ID"]&&A.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var B=this.manifest.mediaGroups[A.attributes.TYPE];B[A.attributes["GROUP-ID"]]=B[A.attributes["GROUP-ID"]]||{},D=B[A.attributes["GROUP-ID"]],I={default:/yes/i.test(A.attributes.DEFAULT)},I.default?I.autoselect=!0:I.autoselect=/yes/i.test(A.attributes.AUTOSELECT),A.attributes.LANGUAGE&&(I.language=A.attributes.LANGUAGE),A.attributes.URI&&(I.uri=A.attributes.URI),A.attributes["INSTREAM-ID"]&&(I.instreamId=A.attributes["INSTREAM-ID"]),A.attributes.CHARACTERISTICS&&(I.characteristics=A.attributes.CHARACTERISTICS),A.attributes.FORCED&&(I.forced=/yes/i.test(A.attributes.FORCED)),D[A.attributes.NAME]=I},discontinuity:function(){b+=1,d.discontinuity=!0,this.manifest.discontinuityStarts.push(c.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=A.dateTimeString,this.manifest.dateTimeObject=A.dateTimeObject),d.dateTimeString=A.dateTimeString,d.dateTimeObject=A.dateTimeObject},targetduration:function(){if(!isFinite(A.duration)||A.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+A.duration});return}this.manifest.targetDuration=A.duration,setHoldBack.call(this,this.manifest)},start:function(){if(!A.attributes||isNaN(A.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:A.attributes["TIME-OFFSET"],precise:A.attributes.PRECISE}},"cue-out":function(){d.cueOut=A.data},"cue-out-cont":function(){d.cueOutCont=A.data},"cue-in":function(){d.cueIn=A.data},skip:function(){this.manifest.skip=camelCaseKeys(A.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",A.attributes,["SKIPPED-SEGMENTS"])},part:function(){var B=this;g=!0;var M=this.manifest.segments.length,j=camelCaseKeys(A.attributes);d.parts=d.parts||[],d.parts.push(j),j.byterange&&(j.byterange.hasOwnProperty("offset")||(j.byterange.offset=w),w=j.byterange.offset+j.byterange.length);var L=d.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+L+" for segment #"+M,A.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(z,W){z.hasOwnProperty("lastPart")||B.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+W+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var B=this.manifest.serverControl=camelCaseKeys(A.attributes);B.hasOwnProperty("canBlockReload")||(B.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),setHoldBack.call(this,this.manifest),B.canSkipDateranges&&!B.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var B=this.manifest.segments.length,M=camelCaseKeys(A.attributes),j=M.type&&M.type==="PART";d.preloadHints=d.preloadHints||[],d.preloadHints.push(M),M.byterange&&(M.byterange.hasOwnProperty("offset")||(M.byterange.offset=j?w:0,j&&(w=M.byterange.offset+M.byterange.length)));var L=d.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+L+" for segment #"+B,A.attributes,["TYPE","URI"]),!!M.type)for(var z=0;z<d.preloadHints.length-1;z++){var W=d.preloadHints[z];W.type&&W.type===M.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+L+" for segment #"+B+" has the same TYPE "+M.type+" as preload hint #"+z})}},"rendition-report":function(){var B=camelCaseKeys(A.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(B);var M=this.manifest.renditionReports.length-1,j=["LAST-MSN","URI"];g&&j.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+M,A.attributes,j)},"part-inf":function(){this.manifest.partInf=camelCaseKeys(A.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",A.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),setHoldBack.call(this,this.manifest)}}[A.tagType]||v).call(s)},uri:function(){d.uri=A.uri,c.push(d),this.manifest.targetDuration&&!("duration"in d)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),d.duration=this.manifest.targetDuration),m&&(d.key=m),d.timeline=b,f&&(d.map=f),w=0,d={}},comment:function(){},custom:function(){A.segment?(d.custom=d.custom||{},d.custom[A.customType]=A.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[A.customType]=A.data)}})[A.type].call(s)}),u}var o=a.prototype;return o.warnOnMissingAttributes_=function(s,c,d){var f=[];d.forEach(function(m){c.hasOwnProperty(m)||f.push(m)}),f.length&&this.trigger("warn",{message:s+" lacks required attribute(s): "+f.join(", ")})},o.push=function(s){this.lineStream.push(s)},o.end=function(){this.lineStream.push(`
`),this.trigger("end")},o.addParser=function(s){this.parseStream.addParser(s)},o.addTagMapper=function(s){this.parseStream.addTagMapper(s)},a}(Stream),regexs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},mediaTypes=["video","audio","text"],upperMediaTypes=["Video","Audio","Text"],translateLegacyCodec=function(a){return a&&a.replace(/avc1\.(\d+)\.(\d+)/i,function(o,u,s){var c=("00"+Number(u).toString(16)).slice(-2),d=("00"+Number(s).toString(16)).slice(-2);return"avc1."+c+"00"+d})},parseCodecs=function(a){a===void 0&&(a="");var o=a.split(","),u=[];return o.forEach(function(s){s=s.trim();var c;mediaTypes.forEach(function(d){var f=regexs[d].exec(s.toLowerCase());if(!(!f||f.length<=1)){c=d;var m=s.substring(0,f[1].length),g=s.replace(m,"");u.push({type:m,details:g,mediaType:d})}}),c||u.push({type:s,details:"",mediaType:"unknown"})}),u},codecsFromDefault=function(a,o){if(!a.mediaGroups.AUDIO||!o)return null;var u=a.mediaGroups.AUDIO[o];if(!u)return null;for(var s in u){var c=u[s];if(c.default&&c.playlists)return parseCodecs(c.playlists[0].attributes.CODECS)}return null},isAudioCodec=function(a){return a===void 0&&(a=""),regexs.audio.test(a.trim().toLowerCase())},isTextCodec=function(a){return a===void 0&&(a=""),regexs.text.test(a.trim().toLowerCase())},getMimeForCodec=function(a){if(!(!a||typeof a!="string")){var o=a.toLowerCase().split(",").map(function(c){return translateLegacyCodec(c.trim())}),u="video";o.length===1&&isAudioCodec(o[0])?u="audio":o.length===1&&isTextCodec(o[0])&&(u="application");var s="mp4";return o.every(function(c){return regexs.mp4.test(c)})?s="mp4":o.every(function(c){return regexs.webm.test(c)})?s="webm":o.every(function(c){return regexs.ogg.test(c)})&&(s="ogg"),u+"/"+s+';codecs="'+a+'"'}},browserSupportsCodec=function(a){return a===void 0&&(a=""),window$1$1.MediaSource&&window$1$1.MediaSource.isTypeSupported&&window$1$1.MediaSource.isTypeSupported(getMimeForCodec(a))||!1},muxerSupportsCodec=function(a){return a===void 0&&(a=""),a.toLowerCase().split(",").every(function(o){o=o.trim();for(var u=0;u<upperMediaTypes.length;u++){var s=upperMediaTypes[u];if(regexs["muxer"+s].test(o))return!0}return!1})},DEFAULT_AUDIO_CODEC="mp4a.40.2",DEFAULT_VIDEO_CODEC="avc1.4d400d",MPEGURL_REGEX=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,DASH_REGEX=/^application\/dash\+xml/i,simpleTypeFromSourceType=function(a){return MPEGURL_REGEX.test(a)?"hls":DASH_REGEX.test(a)?"dash":a==="application/vnd.videojs.vhs+json"?"vhs-json":null},countBits=function(a){return a.toString(2).length},countBytes=function(a){return Math.ceil(countBits(a)/8)},isArrayBufferView=function(a){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer},isTypedArray=function(a){return isArrayBufferView(a)},toUint8=function(a){return a instanceof Uint8Array?a:(!Array.isArray(a)&&!isTypedArray(a)&&!(a instanceof ArrayBuffer)&&(typeof a!="number"||typeof a=="number"&&a!==a?a=0:a=[a]),new Uint8Array(a&&a.buffer||a,a&&a.byteOffset||0,a&&a.byteLength||0))},BigInt=window$1$1.BigInt||Number,BYTE_TABLE=[BigInt("0x1"),BigInt("0x100"),BigInt("0x10000"),BigInt("0x1000000"),BigInt("0x100000000"),BigInt("0x10000000000"),BigInt("0x1000000000000"),BigInt("0x100000000000000"),BigInt("0x10000000000000000")];(function(){var l=new Uint16Array([65484]),a=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);return a[0]===255?"big":a[0]===204?"little":"unknown"})();var bytesToNumber=function(a,o){var u=o===void 0?{}:o,s=u.signed,c=s===void 0?!1:s,d=u.le,f=d===void 0?!1:d;a=toUint8(a);var m=f?"reduce":"reduceRight",g=a[m]?a[m]:Array.prototype[m],v=g.call(a,function(_,b,x){var w=f?x:Math.abs(x+1-a.length);return _+BigInt(b)*BYTE_TABLE[w]},BigInt(0));if(c){var y=BYTE_TABLE[a.length]/BigInt(2)-BigInt(1);v=BigInt(v),v>y&&(v-=y,v-=y,v-=BigInt(2))}return Number(v)},numberToBytes=function(a,o){var u={},s=u.le,c=s===void 0?!1:s;(typeof a!="bigint"&&typeof a!="number"||typeof a=="number"&&a!==a)&&(a=0),a=BigInt(a);for(var d=countBytes(a),f=new Uint8Array(new ArrayBuffer(d)),m=0;m<d;m++){var g=c?m:Math.abs(m+1-f.length);f[g]=Number(a/BYTE_TABLE[m]&BigInt(255)),a<0&&(f[g]=Math.abs(~f[g]),f[g]-=m===0?1:2)}return f},stringToBytes=function(a,o){if(typeof a!="string"&&a&&typeof a.toString=="function"&&(a=a.toString()),typeof a!="string")return new Uint8Array;o||(a=unescape(encodeURIComponent(a)));for(var u=new Uint8Array(a.length),s=0;s<a.length;s++)u[s]=a.charCodeAt(s);return u},concatTypedArrays=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(o=o.filter(function(f){return f&&(f.byteLength||f.length)&&typeof f!="string"}),o.length<=1)return toUint8(o[0]);var s=o.reduce(function(f,m,g){return f+(m.byteLength||m.length)},0),c=new Uint8Array(s),d=0;return o.forEach(function(f){f=toUint8(f),c.set(f,d),d+=f.byteLength}),c},bytesMatch=function(a,o,u){var s=u===void 0?{}:u,c=s.offset,d=c===void 0?0:c,f=s.mask,m=f===void 0?[]:f;a=toUint8(a),o=toUint8(o);var g=o.every?o.every:Array.prototype.every;return o.length&&a.length-d>=o.length&&g.call(o,function(v,y){var _=m[y]?m[y]&a[d+y]:a[d+y];return v===_})},forEachMediaGroup$1=function(a,o,u){o.forEach(function(s){for(var c in a.mediaGroups[s])for(var d in a.mediaGroups[s][c]){var f=a.mediaGroups[s][c][d];u(f,s,c,d)}})},dom$1={},conventions$2={};function find$1(l,a,o){if(o===void 0&&(o=Array.prototype),l&&typeof o.find=="function")return o.find.call(l,a);for(var u=0;u<l.length;u++)if(Object.prototype.hasOwnProperty.call(l,u)){var s=l[u];if(a.call(void 0,s,u,l))return s}}function freeze(l,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(l):l}function assign$1(l,a){if(l===null||typeof l!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=a[o]);return l}var MIME_TYPE=freeze({HTML:"text/html",isHTML:function(l){return l===MIME_TYPE.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),NAMESPACE$3=freeze({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(l){return l===NAMESPACE$3.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});conventions$2.assign=assign$1;conventions$2.find=find$1;conventions$2.freeze=freeze;conventions$2.MIME_TYPE=MIME_TYPE;conventions$2.NAMESPACE=NAMESPACE$3;var conventions$1=conventions$2,find=conventions$1.find,NAMESPACE$2=conventions$1.NAMESPACE;function notEmptyString(l){return l!==""}function splitOnASCIIWhitespace(l){return l?l.split(/[\t\n\f\r ]+/).filter(notEmptyString):[]}function orderedSetReducer(l,a){return l.hasOwnProperty(a)||(l[a]=!0),l}function toOrderedSet(l){if(!l)return[];var a=splitOnASCIIWhitespace(l);return Object.keys(a.reduce(orderedSetReducer,{}))}function arrayIncludes(l){return function(a){return l&&l.indexOf(a)!==-1}}function copy(l,a){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(a[o]=l[o])}function _extends(l,a){var o=l.prototype;if(!(o instanceof a)){let u=function(){};u.prototype=a.prototype,u=new u,copy(o,u),l.prototype=o=u}o.constructor!=l&&(typeof l!="function"&&console.error("unknown Class:"+l),o.constructor=l)}var NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={};ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1);ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2);var HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3);ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4);ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5);ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6);ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7);var NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8);ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9);var INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10);ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11);ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12);ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13);ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14);ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);function DOMException(l,a){if(a instanceof Error)var o=a;else o=this,Error.call(this,ExceptionMessage[l]),this.message=ExceptionMessage[l],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return o.code=l,a&&(this.message=this.message+": "+a),o}DOMException.prototype=Error.prototype;copy(ExceptionCode,DOMException);function NodeList(){}NodeList.prototype={length:0,item:function(l){return l>=0&&l<this.length?this[l]:null},toString:function(l,a){for(var o=[],u=0;u<this.length;u++)serializeToString(this[u],o,l,a);return o.join("")},filter:function(l){return Array.prototype.filter.call(this,l)},indexOf:function(l){return Array.prototype.indexOf.call(this,l)}};function LiveNodeList(l,a){this._node=l,this._refresh=a,_updateLiveList(this)}function _updateLiveList(l){var a=l._node._inc||l._node.ownerDocument._inc;if(l._inc!==a){var o=l._refresh(l._node);if(__set__(l,"length",o.length),!l.$$length||o.length<l.$$length)for(var u=o.length;u in l;u++)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];copy(o,l),l._inc=a}}LiveNodeList.prototype.item=function(l){return _updateLiveList(this),this[l]||null};_extends(LiveNodeList,NodeList);function NamedNodeMap(){}function _findNodeIndex(l,a){for(var o=l.length;o--;)if(l[o]===a)return o}function _addNamedNode(l,a,o,u){if(u?a[_findNodeIndex(a,u)]=o:a[a.length++]=o,l){o.ownerElement=l;var s=l.ownerDocument;s&&(u&&_onRemoveAttribute(s,l,u),_onAddAttribute(s,l,o))}}function _removeNamedNode(l,a,o){var u=_findNodeIndex(a,o);if(u>=0){for(var s=a.length-1;u<s;)a[u]=a[++u];if(a.length=s,l){var c=l.ownerDocument;c&&(_onRemoveAttribute(c,l,o),o.ownerElement=null)}}else throw new DOMException(NOT_FOUND_ERR,new Error(l.tagName+"@"+o))}NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(l){for(var a=this.length;a--;){var o=this[a];if(o.nodeName==l)return o}},setNamedItem:function(l){var a=l.ownerElement;if(a&&a!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);var o=this.getNamedItem(l.nodeName);return _addNamedNode(this._ownerElement,this,l,o),o},setNamedItemNS:function(l){var a=l.ownerElement,o;if(a&&a!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return o=this.getNamedItemNS(l.namespaceURI,l.localName),_addNamedNode(this._ownerElement,this,l,o),o},removeNamedItem:function(l){var a=this.getNamedItem(l);return _removeNamedNode(this._ownerElement,this,a),a},removeNamedItemNS:function(l,a){var o=this.getNamedItemNS(l,a);return _removeNamedNode(this._ownerElement,this,o),o},getNamedItemNS:function(l,a){for(var o=this.length;o--;){var u=this[o];if(u.localName==a&&u.namespaceURI==l)return u}return null}};function DOMImplementation$1(){}DOMImplementation$1.prototype={hasFeature:function(l,a){return!0},createDocument:function(l,a,o){var u=new Document;if(u.implementation=this,u.childNodes=new NodeList,u.doctype=o||null,o&&u.appendChild(o),a){var s=u.createElementNS(l,a);u.appendChild(s)}return u},createDocumentType:function(l,a,o){var u=new DocumentType;return u.name=l,u.nodeName=l,u.publicId=a||"",u.systemId=o||"",u}};function Node(){}Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(l,a){return _insertBefore(this,l,a)},replaceChild:function(l,a){_insertBefore(this,l,a,assertPreReplacementValidityInDocument),a&&this.removeChild(a)},removeChild:function(l){return _removeChild(this,l)},appendChild:function(l){return this.insertBefore(l,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(l){return cloneNode(this.ownerDocument||this,this,l)},normalize:function(){for(var l=this.firstChild;l;){var a=l.nextSibling;a&&a.nodeType==TEXT_NODE&&l.nodeType==TEXT_NODE?(this.removeChild(a),l.appendData(a.data)):(l.normalize(),l=a)}},isSupported:function(l,a){return this.ownerDocument.implementation.hasFeature(l,a)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(l){for(var a=this;a;){var o=a._nsMap;if(o){for(var u in o)if(Object.prototype.hasOwnProperty.call(o,u)&&o[u]===l)return u}a=a.nodeType==ATTRIBUTE_NODE?a.ownerDocument:a.parentNode}return null},lookupNamespaceURI:function(l){for(var a=this;a;){var o=a._nsMap;if(o&&Object.prototype.hasOwnProperty.call(o,l))return o[l];a=a.nodeType==ATTRIBUTE_NODE?a.ownerDocument:a.parentNode}return null},isDefaultNamespace:function(l){var a=this.lookupPrefix(l);return a==null}};function _xmlEncoder(l){return l=="<"&&"&lt;"||l==">"&&"&gt;"||l=="&"&&"&amp;"||l=='"'&&"&quot;"||"&#"+l.charCodeAt()+";"}copy(NodeType,Node);copy(NodeType,Node.prototype);function _visitNode(l,a){if(a(l))return!0;if(l=l.firstChild)do if(_visitNode(l,a))return!0;while(l=l.nextSibling)}function Document(){this.ownerDocument=this}function _onAddAttribute(l,a,o){l&&l._inc++;var u=o.namespaceURI;u===NAMESPACE$2.XMLNS&&(a._nsMap[o.prefix?o.localName:""]=o.value)}function _onRemoveAttribute(l,a,o,u){l&&l._inc++;var s=o.namespaceURI;s===NAMESPACE$2.XMLNS&&delete a._nsMap[o.prefix?o.localName:""]}function _onUpdateChild(l,a,o){if(l&&l._inc){l._inc++;var u=a.childNodes;if(o)u[u.length++]=o;else{for(var s=a.firstChild,c=0;s;)u[c++]=s,s=s.nextSibling;u.length=c,delete u[u.length]}}}function _removeChild(l,a){var o=a.previousSibling,u=a.nextSibling;return o?o.nextSibling=u:l.firstChild=u,u?u.previousSibling=o:l.lastChild=o,a.parentNode=null,a.previousSibling=null,a.nextSibling=null,_onUpdateChild(l.ownerDocument,l),a}function hasValidParentNodeType(l){return l&&(l.nodeType===Node.DOCUMENT_NODE||l.nodeType===Node.DOCUMENT_FRAGMENT_NODE||l.nodeType===Node.ELEMENT_NODE)}function hasInsertableNodeType(l){return l&&(isElementNode(l)||isTextNode$1(l)||isDocTypeNode(l)||l.nodeType===Node.DOCUMENT_FRAGMENT_NODE||l.nodeType===Node.COMMENT_NODE||l.nodeType===Node.PROCESSING_INSTRUCTION_NODE)}function isDocTypeNode(l){return l&&l.nodeType===Node.DOCUMENT_TYPE_NODE}function isElementNode(l){return l&&l.nodeType===Node.ELEMENT_NODE}function isTextNode$1(l){return l&&l.nodeType===Node.TEXT_NODE}function isElementInsertionPossible(l,a){var o=l.childNodes||[];if(find(o,isElementNode)||isDocTypeNode(a))return!1;var u=find(o,isDocTypeNode);return!(a&&u&&o.indexOf(u)>o.indexOf(a))}function isElementReplacementPossible(l,a){var o=l.childNodes||[];function u(c){return isElementNode(c)&&c!==a}if(find(o,u))return!1;var s=find(o,isDocTypeNode);return!(a&&s&&o.indexOf(s)>o.indexOf(a))}function assertPreInsertionValidity1to5(l,a,o){if(!hasValidParentNodeType(l))throw new DOMException(HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+l.nodeType);if(o&&o.parentNode!==l)throw new DOMException(NOT_FOUND_ERR,"child not in parent");if(!hasInsertableNodeType(a)||isDocTypeNode(a)&&l.nodeType!==Node.DOCUMENT_NODE)throw new DOMException(HIERARCHY_REQUEST_ERR,"Unexpected node type "+a.nodeType+" for parent node type "+l.nodeType)}function assertPreInsertionValidityInDocument(l,a,o){var u=l.childNodes||[],s=a.childNodes||[];if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var c=s.filter(isElementNode);if(c.length>1||find(s,isTextNode$1))throw new DOMException(HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(c.length===1&&!isElementInsertionPossible(l,o))throw new DOMException(HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(isElementNode(a)&&!isElementInsertionPossible(l,o))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(isDocTypeNode(a)){if(find(u,isDocTypeNode))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var d=find(u,isElementNode);if(o&&u.indexOf(d)<u.indexOf(o))throw new DOMException(HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!o&&d)throw new DOMException(HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function assertPreReplacementValidityInDocument(l,a,o){var u=l.childNodes||[],s=a.childNodes||[];if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var c=s.filter(isElementNode);if(c.length>1||find(s,isTextNode$1))throw new DOMException(HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(c.length===1&&!isElementReplacementPossible(l,o))throw new DOMException(HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(isElementNode(a)&&!isElementReplacementPossible(l,o))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(isDocTypeNode(a)){if(find(u,function(m){return isDocTypeNode(m)&&m!==o}))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var d=find(u,isElementNode);if(o&&u.indexOf(d)<u.indexOf(o))throw new DOMException(HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function _insertBefore(l,a,o,u){assertPreInsertionValidity1to5(l,a,o),l.nodeType===Node.DOCUMENT_NODE&&(u||assertPreInsertionValidityInDocument)(l,a,o);var s=a.parentNode;if(s&&s.removeChild(a),a.nodeType===DOCUMENT_FRAGMENT_NODE){var c=a.firstChild;if(c==null)return a;var d=a.lastChild}else c=d=a;var f=o?o.previousSibling:l.lastChild;c.previousSibling=f,d.nextSibling=o,f?f.nextSibling=c:l.firstChild=c,o==null?l.lastChild=d:o.previousSibling=d;do c.parentNode=l;while(c!==d&&(c=c.nextSibling));return _onUpdateChild(l.ownerDocument||l,l),a.nodeType==DOCUMENT_FRAGMENT_NODE&&(a.firstChild=a.lastChild=null),a}function _appendSingleChild(l,a){return a.parentNode&&a.parentNode.removeChild(a),a.parentNode=l,a.previousSibling=l.lastChild,a.nextSibling=null,a.previousSibling?a.previousSibling.nextSibling=a:l.firstChild=a,l.lastChild=a,_onUpdateChild(l.ownerDocument,l,a),a}Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(l,a){if(l.nodeType==DOCUMENT_FRAGMENT_NODE){for(var o=l.firstChild;o;){var u=o.nextSibling;this.insertBefore(o,a),o=u}return l}return _insertBefore(this,l,a),l.ownerDocument=this,this.documentElement===null&&l.nodeType===ELEMENT_NODE&&(this.documentElement=l),l},removeChild:function(l){return this.documentElement==l&&(this.documentElement=null),_removeChild(this,l)},replaceChild:function(l,a){_insertBefore(this,l,a,assertPreReplacementValidityInDocument),l.ownerDocument=this,a&&this.removeChild(a),isElementNode(l)&&(this.documentElement=l)},importNode:function(l,a){return importNode(this,l,a)},getElementById:function(l){var a=null;return _visitNode(this.documentElement,function(o){if(o.nodeType==ELEMENT_NODE&&o.getAttribute("id")==l)return a=o,!0}),a},getElementsByClassName:function(l){var a=toOrderedSet(l);return new LiveNodeList(this,function(o){var u=[];return a.length>0&&_visitNode(o.documentElement,function(s){if(s!==o&&s.nodeType===ELEMENT_NODE){var c=s.getAttribute("class");if(c){var d=l===c;if(!d){var f=toOrderedSet(c);d=a.every(arrayIncludes(f))}d&&u.push(s)}}}),u})},createElement:function(l){var a=new Element$1;a.ownerDocument=this,a.nodeName=l,a.tagName=l,a.localName=l,a.childNodes=new NodeList;var o=a.attributes=new NamedNodeMap;return o._ownerElement=a,a},createDocumentFragment:function(){var l=new DocumentFragment;return l.ownerDocument=this,l.childNodes=new NodeList,l},createTextNode:function(l){var a=new Text;return a.ownerDocument=this,a.appendData(l),a},createComment:function(l){var a=new Comment;return a.ownerDocument=this,a.appendData(l),a},createCDATASection:function(l){var a=new CDATASection;return a.ownerDocument=this,a.appendData(l),a},createProcessingInstruction:function(l,a){var o=new ProcessingInstruction;return o.ownerDocument=this,o.tagName=o.nodeName=o.target=l,o.nodeValue=o.data=a,o},createAttribute:function(l){var a=new Attr;return a.ownerDocument=this,a.name=l,a.nodeName=l,a.localName=l,a.specified=!0,a},createEntityReference:function(l){var a=new EntityReference;return a.ownerDocument=this,a.nodeName=l,a},createElementNS:function(l,a){var o=new Element$1,u=a.split(":"),s=o.attributes=new NamedNodeMap;return o.childNodes=new NodeList,o.ownerDocument=this,o.nodeName=a,o.tagName=a,o.namespaceURI=l,u.length==2?(o.prefix=u[0],o.localName=u[1]):o.localName=a,s._ownerElement=o,o},createAttributeNS:function(l,a){var o=new Attr,u=a.split(":");return o.ownerDocument=this,o.nodeName=a,o.name=a,o.namespaceURI=l,o.specified=!0,u.length==2?(o.prefix=u[0],o.localName=u[1]):o.localName=a,o}};_extends(Document,Node);function Element$1(){this._nsMap={}}Element$1.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(l){return this.getAttributeNode(l)!=null},getAttribute:function(l){var a=this.getAttributeNode(l);return a&&a.value||""},getAttributeNode:function(l){return this.attributes.getNamedItem(l)},setAttribute:function(l,a){var o=this.ownerDocument.createAttribute(l);o.value=o.nodeValue=""+a,this.setAttributeNode(o)},removeAttribute:function(l){var a=this.getAttributeNode(l);a&&this.removeAttributeNode(a)},appendChild:function(l){return l.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(l,null):_appendSingleChild(this,l)},setAttributeNode:function(l){return this.attributes.setNamedItem(l)},setAttributeNodeNS:function(l){return this.attributes.setNamedItemNS(l)},removeAttributeNode:function(l){return this.attributes.removeNamedItem(l.nodeName)},removeAttributeNS:function(l,a){var o=this.getAttributeNodeNS(l,a);o&&this.removeAttributeNode(o)},hasAttributeNS:function(l,a){return this.getAttributeNodeNS(l,a)!=null},getAttributeNS:function(l,a){var o=this.getAttributeNodeNS(l,a);return o&&o.value||""},setAttributeNS:function(l,a,o){var u=this.ownerDocument.createAttributeNS(l,a);u.value=u.nodeValue=""+o,this.setAttributeNode(u)},getAttributeNodeNS:function(l,a){return this.attributes.getNamedItemNS(l,a)},getElementsByTagName:function(l){return new LiveNodeList(this,function(a){var o=[];return _visitNode(a,function(u){u!==a&&u.nodeType==ELEMENT_NODE&&(l==="*"||u.tagName==l)&&o.push(u)}),o})},getElementsByTagNameNS:function(l,a){return new LiveNodeList(this,function(o){var u=[];return _visitNode(o,function(s){s!==o&&s.nodeType===ELEMENT_NODE&&(l==="*"||s.namespaceURI===l)&&(a==="*"||s.localName==a)&&u.push(s)}),u})}};Document.prototype.getElementsByTagName=Element$1.prototype.getElementsByTagName;Document.prototype.getElementsByTagNameNS=Element$1.prototype.getElementsByTagNameNS;_extends(Element$1,Node);function Attr(){}Attr.prototype.nodeType=ATTRIBUTE_NODE;_extends(Attr,Node);function CharacterData(){}CharacterData.prototype={data:"",substringData:function(l,a){return this.data.substring(l,l+a)},appendData:function(l){l=this.data+l,this.nodeValue=this.data=l,this.length=l.length},insertData:function(l,a){this.replaceData(l,0,a)},appendChild:function(l){throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])},deleteData:function(l,a){this.replaceData(l,a,"")},replaceData:function(l,a,o){var u=this.data.substring(0,l),s=this.data.substring(l+a);o=u+o+s,this.nodeValue=this.data=o,this.length=o.length}};_extends(CharacterData,Node);function Text(){}Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(l){var a=this.data,o=a.substring(l);a=a.substring(0,l),this.data=this.nodeValue=a,this.length=a.length;var u=this.ownerDocument.createTextNode(o);return this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling),u}};_extends(Text,CharacterData);function Comment(){}Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE};_extends(Comment,CharacterData);function CDATASection(){}CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE};_extends(CDATASection,CharacterData);function DocumentType(){}DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE;_extends(DocumentType,Node);function Notation(){}Notation.prototype.nodeType=NOTATION_NODE;_extends(Notation,Node);function Entity(){}Entity.prototype.nodeType=ENTITY_NODE;_extends(Entity,Node);function EntityReference(){}EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE;_extends(EntityReference,Node);function DocumentFragment(){}DocumentFragment.prototype.nodeName="#document-fragment";DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE;_extends(DocumentFragment,Node);function ProcessingInstruction(){}ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE;_extends(ProcessingInstruction,Node);function XMLSerializer(){}XMLSerializer.prototype.serializeToString=function(l,a,o){return nodeSerializeToString.call(l,a,o)};Node.prototype.toString=nodeSerializeToString;function nodeSerializeToString(l,a){var o=[],u=this.nodeType==9&&this.documentElement||this,s=u.prefix,c=u.namespaceURI;if(c&&s==null){var s=u.lookupPrefix(c);if(s==null)var d=[{namespace:c,prefix:null}]}return serializeToString(this,o,l,a,d),o.join("")}function needNamespaceDefine(l,a,o){var u=l.prefix||"",s=l.namespaceURI;if(!s||u==="xml"&&s===NAMESPACE$2.XML||s===NAMESPACE$2.XMLNS)return!1;for(var c=o.length;c--;){var d=o[c];if(d.prefix===u)return d.namespace!==s}return!0}function addSerializedAttribute(l,a,o){l.push(" ",a,'="',o.replace(/[<>&"\t\n\r]/g,_xmlEncoder),'"')}function serializeToString(l,a,o,u,s){if(s||(s=[]),u)if(l=u(l),l){if(typeof l=="string"){a.push(l);return}}else return;switch(l.nodeType){case ELEMENT_NODE:var c=l.attributes,d=c.length,D=l.firstChild,f=l.tagName;o=NAMESPACE$2.isHTML(l.namespaceURI)||o;var m=f;if(!o&&!l.prefix&&l.namespaceURI){for(var g,v=0;v<c.length;v++)if(c.item(v).name==="xmlns"){g=c.item(v).value;break}if(!g)for(var y=s.length-1;y>=0;y--){var _=s[y];if(_.prefix===""&&_.namespace===l.namespaceURI){g=_.namespace;break}}if(g!==l.namespaceURI)for(var y=s.length-1;y>=0;y--){var _=s[y];if(_.namespace===l.namespaceURI){_.prefix&&(m=_.prefix+":"+f);break}}}a.push("<",m);for(var b=0;b<d;b++){var x=c.item(b);x.prefix=="xmlns"?s.push({prefix:x.localName,namespace:x.value}):x.nodeName=="xmlns"&&s.push({prefix:"",namespace:x.value})}for(var b=0;b<d;b++){var x=c.item(b);if(needNamespaceDefine(x,o,s)){var w=x.prefix||"",A=x.namespaceURI;addSerializedAttribute(a,w?"xmlns:"+w:"xmlns",A),s.push({prefix:w,namespace:A})}serializeToString(x,a,o,u,s)}if(f===m&&needNamespaceDefine(l,o,s)){var w=l.prefix||"",A=l.namespaceURI;addSerializedAttribute(a,w?"xmlns:"+w:"xmlns",A),s.push({prefix:w,namespace:A})}if(D||o&&!/^(?:meta|link|img|br|hr|input)$/i.test(f)){if(a.push(">"),o&&/^script$/i.test(f))for(;D;)D.data?a.push(D.data):serializeToString(D,a,o,u,s.slice()),D=D.nextSibling;else for(;D;)serializeToString(D,a,o,u,s.slice()),D=D.nextSibling;a.push("</",m,">")}else a.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(var D=l.firstChild;D;)serializeToString(D,a,o,u,s.slice()),D=D.nextSibling;return;case ATTRIBUTE_NODE:return addSerializedAttribute(a,l.name,l.value);case TEXT_NODE:return a.push(l.data.replace(/[<&>]/g,_xmlEncoder));case CDATA_SECTION_NODE:return a.push("<![CDATA[",l.data,"]]>");case COMMENT_NODE:return a.push("<!--",l.data,"-->");case DOCUMENT_TYPE_NODE:var I=l.publicId,N=l.systemId;if(a.push("<!DOCTYPE ",l.name),I)a.push(" PUBLIC ",I),N&&N!="."&&a.push(" ",N),a.push(">");else if(N&&N!=".")a.push(" SYSTEM ",N,">");else{var O=l.internalSubset;O&&a.push(" [",O,"]"),a.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return a.push("<?",l.target," ",l.data,"?>");case ENTITY_REFERENCE_NODE:return a.push("&",l.nodeName,";");default:a.push("??",l.nodeName)}}function importNode(l,a,o){var u;switch(a.nodeType){case ELEMENT_NODE:u=a.cloneNode(!1),u.ownerDocument=l;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:o=!0;break}if(u||(u=a.cloneNode(!1)),u.ownerDocument=l,u.parentNode=null,o)for(var s=a.firstChild;s;)u.appendChild(importNode(l,s,o)),s=s.nextSibling;return u}function cloneNode(l,a,o){var u=new a.constructor;for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){var c=a[s];typeof c!="object"&&c!=u[s]&&(u[s]=c)}switch(a.childNodes&&(u.childNodes=new NodeList),u.ownerDocument=l,u.nodeType){case ELEMENT_NODE:var d=a.attributes,f=u.attributes=new NamedNodeMap,m=d.length;f._ownerElement=u;for(var g=0;g<m;g++)u.setAttributeNode(cloneNode(l,d.item(g),!0));break;case ATTRIBUTE_NODE:o=!0}if(o)for(var v=a.firstChild;v;)u.appendChild(cloneNode(l,v,o)),v=v.nextSibling;return u}function __set__(l,a,o){l[a]=o}try{if(Object.defineProperty){let l=function(a){switch(a.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:var o=[];for(a=a.firstChild;a;)a.nodeType!==7&&a.nodeType!==8&&o.push(l(a)),a=a.nextSibling;return o.join("");default:return a.nodeValue}};Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return l(this)},set:function(a){switch(this.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);(a||String(a))&&this.appendChild(this.ownerDocument.createTextNode(a));break;default:this.data=a,this.value=a,this.nodeValue=a}}}),__set__=function(a,o,u){a["$$"+o]=u}}}catch{}dom$1.DocumentType=DocumentType;dom$1.DOMException=DOMException;dom$1.DOMImplementation=DOMImplementation$1;dom$1.Element=Element$1;dom$1.Node=Node;dom$1.NodeList=NodeList;dom$1.XMLSerializer=XMLSerializer;var domParser={},entities$1={};(function(l){var a=conventions$2.freeze;l.XML_ENTITIES=a({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),l.HTML_ENTITIES=a({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),l.entityMap=l.HTML_ENTITIES})(entities$1);var sax$1={},NAMESPACE$1=conventions$2.NAMESPACE,nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),tagNamePattern=new RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_SPACE=2,S_EQ=3,S_ATTR_NOQUOT_VALUE=4,S_ATTR_END=5,S_TAG_SPACE=6,S_TAG_CLOSE=7;function ParseError$1(l,a){this.message=l,this.locator=a,Error.captureStackTrace&&Error.captureStackTrace(this,ParseError$1)}ParseError$1.prototype=new Error;ParseError$1.prototype.name=ParseError$1.name;function XMLReader$1(){}XMLReader$1.prototype={parse:function(l,a,o){var u=this.domBuilder;u.startDocument(),_copy(a,a={}),parse$1(l,a,o,u,this.errorHandler),u.endDocument()}};function parse$1(l,a,o,u,s){function c(ee){if(ee>65535){ee-=65536;var se=55296+(ee>>10),ge=56320+(ee&1023);return String.fromCharCode(se,ge)}else return String.fromCharCode(ee)}function d(ee){var se=ee.slice(1,-1);return Object.hasOwnProperty.call(o,se)?o[se]:se.charAt(0)==="#"?c(parseInt(se.substr(1).replace("x","0x"))):(s.error("entity not found:"+ee),ee)}function f(ee){if(ee>w){var se=l.substring(w,ee).replace(/&#?\w+;/g,d);_&&m(w),u.characters(se,0,ee-w),w=ee}}function m(ee,se){for(;ee>=v&&(se=y.exec(l));)g=se.index,v=g+se[0].length,_.lineNumber++;_.columnNumber=ee-g+1}for(var g=0,v=0,y=/.*(?:\r\n?|\n)|.*$/g,_=u.locator,b=[{currentNSMap:a}],x={},w=0;;){try{var A=l.indexOf("<",w);if(A<0){if(!l.substr(w).match(/^\s*$/)){var D=u.doc,I=D.createTextNode(l.substr(w));D.appendChild(I),u.currentElement=I}return}switch(A>w&&f(A),l.charAt(A+1)){case"/":var ne=l.indexOf(">",A+3),N=l.substring(A+2,ne).replace(/[ \t\n\r]+$/g,""),O=b.pop();ne<0?(N=l.substring(A+2).replace(/[\s<].*/,""),s.error("end tag name: "+N+" is not complete:"+O.tagName),ne=A+1+N.length):N.match(/\s</)&&(N=N.replace(/[\s<].*/,""),s.error("end tag name: "+N+" maybe not complete"),ne=A+1+N.length);var B=O.localNSMap,M=O.tagName==N,j=M||O.tagName&&O.tagName.toLowerCase()==N.toLowerCase();if(j){if(u.endElement(O.uri,O.localName,N),B)for(var L in B)Object.prototype.hasOwnProperty.call(B,L)&&u.endPrefixMapping(L);M||s.fatalError("end tag name: "+N+" is not match the current start tagName:"+O.tagName)}else b.push(O);ne++;break;case"?":_&&m(A),ne=parseInstruction(l,A,u);break;case"!":_&&m(A),ne=parseDCC(l,A,u,s);break;default:_&&m(A);var z=new ElementAttributes,W=b[b.length-1].currentNSMap,ne=parseElementStartPart(l,A,z,W,d,s),V=z.length;if(!z.closed&&fixSelfClosed(l,ne,z.tagName,x)&&(z.closed=!0,o.nbsp||s.warning("unclosed xml attribute")),_&&V){for(var Y=copyLocator(_,{}),Z=0;Z<V;Z++){var pe=z[Z];m(pe.offset),pe.locator=copyLocator(_,{})}u.locator=Y,appendElement$1(z,u,W)&&b.push(z),u.locator=_}else appendElement$1(z,u,W)&&b.push(z);NAMESPACE$1.isHTML(z.uri)&&!z.closed?ne=parseHtmlSpecialContent(l,ne,z.tagName,d,u):ne++}}catch(ee){if(ee instanceof ParseError$1)throw ee;s.error("element parse error: "+ee),ne=-1}ne>w?w=ne:f(Math.max(A,w)+1)}}function copyLocator(l,a){return a.lineNumber=l.lineNumber,a.columnNumber=l.columnNumber,a}function parseElementStartPart(l,a,o,u,s,c){function d(_,b,x){o.attributeNames.hasOwnProperty(_)&&c.fatalError("Attribute "+_+" redefined"),o.addValue(_,b.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),x)}for(var f,m,g=++a,v=S_TAG;;){var y=l.charAt(g);switch(y){case"=":if(v===S_ATTR)f=l.slice(a,g),v=S_EQ;else if(v===S_ATTR_SPACE)v=S_EQ;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(v===S_EQ||v===S_ATTR)if(v===S_ATTR&&(c.warning('attribute value must after "="'),f=l.slice(a,g)),a=g+1,g=l.indexOf(y,a),g>0)m=l.slice(a,g),d(f,m,a-1),v=S_ATTR_END;else throw new Error("attribute value no end '"+y+"' match");else if(v==S_ATTR_NOQUOT_VALUE)m=l.slice(a,g),d(f,m,a),c.warning('attribute "'+f+'" missed start quot('+y+")!!"),a=g+1,v=S_ATTR_END;else throw new Error('attribute value must after "="');break;case"/":switch(v){case S_TAG:o.setTagName(l.slice(a,g));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:v=S_TAG_CLOSE,o.closed=!0;case S_ATTR_NOQUOT_VALUE:case S_ATTR:break;case S_ATTR_SPACE:o.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return c.error("unexpected end of input"),v==S_TAG&&o.setTagName(l.slice(a,g)),g;case">":switch(v){case S_TAG:o.setTagName(l.slice(a,g));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:break;case S_ATTR_NOQUOT_VALUE:case S_ATTR:m=l.slice(a,g),m.slice(-1)==="/"&&(o.closed=!0,m=m.slice(0,-1));case S_ATTR_SPACE:v===S_ATTR_SPACE&&(m=f),v==S_ATTR_NOQUOT_VALUE?(c.warning('attribute "'+m+'" missed quot(")!'),d(f,m,a)):((!NAMESPACE$1.isHTML(u[""])||!m.match(/^(?:disabled|checked|selected)$/i))&&c.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!'),d(m,m,a));break;case S_EQ:throw new Error("attribute value missed!!")}return g;case"":y=" ";default:if(y<=" ")switch(v){case S_TAG:o.setTagName(l.slice(a,g)),v=S_TAG_SPACE;break;case S_ATTR:f=l.slice(a,g),v=S_ATTR_SPACE;break;case S_ATTR_NOQUOT_VALUE:var m=l.slice(a,g);c.warning('attribute "'+m+'" missed quot(")!!'),d(f,m,a);case S_ATTR_END:v=S_TAG_SPACE;break}else switch(v){case S_ATTR_SPACE:o.tagName,(!NAMESPACE$1.isHTML(u[""])||!f.match(/^(?:disabled|checked|selected)$/i))&&c.warning('attribute "'+f+'" missed value!! "'+f+'" instead2!!'),d(f,f,a),a=g,v=S_ATTR;break;case S_ATTR_END:c.warning('attribute space is required"'+f+'"!!');case S_TAG_SPACE:v=S_ATTR,a=g;break;case S_EQ:v=S_ATTR_NOQUOT_VALUE,a=g;break;case S_TAG_CLOSE:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function appendElement$1(l,a,o){for(var u=l.tagName,s=null,y=l.length;y--;){var c=l[y],d=c.qName,f=c.value,_=d.indexOf(":");if(_>0)var m=c.prefix=d.slice(0,_),g=d.slice(_+1),v=m==="xmlns"&&g;else g=d,m=null,v=d==="xmlns"&&"";c.localName=g,v!==!1&&(s==null&&(s={},_copy(o,o={})),o[v]=s[v]=f,c.uri=NAMESPACE$1.XMLNS,a.startPrefixMapping(v,f))}for(var y=l.length;y--;){c=l[y];var m=c.prefix;m&&(m==="xml"&&(c.uri=NAMESPACE$1.XML),m!=="xmlns"&&(c.uri=o[m||""]))}var _=u.indexOf(":");_>0?(m=l.prefix=u.slice(0,_),g=l.localName=u.slice(_+1)):(m=null,g=l.localName=u);var b=l.uri=o[m||""];if(a.startElement(b,g,u,l),l.closed){if(a.endElement(b,g,u),s)for(m in s)Object.prototype.hasOwnProperty.call(s,m)&&a.endPrefixMapping(m)}else return l.currentNSMap=o,l.localNSMap=s,!0}function parseHtmlSpecialContent(l,a,o,u,s){if(/^(?:script|textarea)$/i.test(o)){var c=l.indexOf("</"+o+">",a),d=l.substring(a+1,c);if(/[&<]/.test(d))return/^script$/i.test(o)?(s.characters(d,0,d.length),c):(d=d.replace(/&#?\w+;/g,u),s.characters(d,0,d.length),c)}return a+1}function fixSelfClosed(l,a,o,u){var s=u[o];return s==null&&(s=l.lastIndexOf("</"+o+">"),s<a&&(s=l.lastIndexOf("</"+o)),u[o]=s),s<a}function _copy(l,a){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(a[o]=l[o])}function parseDCC(l,a,o,u){var s=l.charAt(a+2);switch(s){case"-":if(l.charAt(a+3)==="-"){var c=l.indexOf("-->",a+4);return c>a?(o.comment(l,a+4,c-a-4),c+3):(u.error("Unclosed comment"),-1)}else return-1;default:if(l.substr(a+3,6)=="CDATA["){var c=l.indexOf("]]>",a+9);return o.startCDATA(),o.characters(l,a+9,c-a-9),o.endCDATA(),c+3}var d=split(l,a),f=d.length;if(f>1&&/!doctype/i.test(d[0][0])){var m=d[1][0],g=!1,v=!1;f>3&&(/^public$/i.test(d[2][0])?(g=d[3][0],v=f>4&&d[4][0]):/^system$/i.test(d[2][0])&&(v=d[3][0]));var y=d[f-1];return o.startDTD(m,g,v),o.endDTD(),y.index+y[0].length}}return-1}function parseInstruction(l,a,o){var u=l.indexOf("?>",a);if(u){var s=l.substring(a,u).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return s?(s[0].length,o.processingInstruction(s[1],s[2]),u+2):-1}return-1}function ElementAttributes(){this.attributeNames={}}ElementAttributes.prototype={setTagName:function(l){if(!tagNamePattern.test(l))throw new Error("invalid tagName:"+l);this.tagName=l},addValue:function(l,a,o){if(!tagNamePattern.test(l))throw new Error("invalid attribute:"+l);this.attributeNames[l]=this.length,this[this.length++]={qName:l,value:a,offset:o}},length:0,getLocalName:function(l){return this[l].localName},getLocator:function(l){return this[l].locator},getQName:function(l){return this[l].qName},getURI:function(l){return this[l].uri},getValue:function(l){return this[l].value}};function split(l,a){var o,u=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=a,s.exec(l);o=s.exec(l);)if(u.push(o),o[1])return u}sax$1.XMLReader=XMLReader$1;sax$1.ParseError=ParseError$1;var conventions=conventions$2,dom=dom$1,entities=entities$1,sax=sax$1,DOMImplementation=dom.DOMImplementation,NAMESPACE=conventions.NAMESPACE,ParseError=sax.ParseError,XMLReader=sax.XMLReader;function normalizeLineEndings(l){return l.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function DOMParser$2(l){this.options=l||{locator:{}}}DOMParser$2.prototype.parseFromString=function(l,a){var o=this.options,u=new XMLReader,s=o.domBuilder||new DOMHandler,c=o.errorHandler,d=o.locator,f=o.xmlns||{},m=/\/x?html?$/.test(a),g=m?entities.HTML_ENTITIES:entities.XML_ENTITIES;d&&s.setDocumentLocator(d),u.errorHandler=buildErrorHandler(c,s,d),u.domBuilder=o.domBuilder||s,m&&(f[""]=NAMESPACE.HTML),f.xml=f.xml||NAMESPACE.XML;var v=o.normalizeLineEndings||normalizeLineEndings;return l&&typeof l=="string"?u.parse(v(l),f,g):u.errorHandler.error("invalid doc source"),s.doc};function buildErrorHandler(l,a,o){if(!l){if(a instanceof DOMHandler)return a;l=a}var u={},s=l instanceof Function;o=o||{};function c(d){var f=l[d];!f&&s&&(f=l.length==2?function(m){l(d,m)}:l),u[d]=f&&function(m){f("[xmldom "+d+"]	"+m+_locator(o))}||function(){}}return c("warning"),c("error"),c("fatalError"),u}function DOMHandler(){this.cdata=!1}function position(l,a){a.lineNumber=l.lineNumber,a.columnNumber=l.columnNumber}DOMHandler.prototype={startDocument:function(){this.doc=new DOMImplementation().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(l,a,o,u){var s=this.doc,c=s.createElementNS(l,o||a),d=u.length;appendElement(this,c),this.currentElement=c,this.locator&&position(this.locator,c);for(var f=0;f<d;f++){var l=u.getURI(f),m=u.getValue(f),o=u.getQName(f),g=s.createAttributeNS(l,o);this.locator&&position(u.getLocator(f),g),g.value=g.nodeValue=m,c.setAttributeNode(g)}},endElement:function(l,a,o){var u=this.currentElement;u.tagName,this.currentElement=u.parentNode},startPrefixMapping:function(l,a){},endPrefixMapping:function(l){},processingInstruction:function(l,a){var o=this.doc.createProcessingInstruction(l,a);this.locator&&position(this.locator,o),appendElement(this,o)},ignorableWhitespace:function(l,a,o){},characters:function(l,a,o){if(l=_toString.apply(this,arguments),l){if(this.cdata)var u=this.doc.createCDATASection(l);else var u=this.doc.createTextNode(l);this.currentElement?this.currentElement.appendChild(u):/^\s*$/.test(l)&&this.doc.appendChild(u),this.locator&&position(this.locator,u)}},skippedEntity:function(l){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(l){(this.locator=l)&&(l.lineNumber=0)},comment:function(l,a,o){l=_toString.apply(this,arguments);var u=this.doc.createComment(l);this.locator&&position(this.locator,u),appendElement(this,u)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(l,a,o){var u=this.doc.implementation;if(u&&u.createDocumentType){var s=u.createDocumentType(l,a,o);this.locator&&position(this.locator,s),appendElement(this,s),this.doc.doctype=s}},warning:function(l){console.warn("[xmldom warning]	"+l,_locator(this.locator))},error:function(l){console.error("[xmldom error]	"+l,_locator(this.locator))},fatalError:function(l){throw new ParseError(l,this.locator)}};function _locator(l){if(l)return`
@`+(l.systemId||"")+"#[line:"+l.lineNumber+",col:"+l.columnNumber+"]"}function _toString(l,a,o){return typeof l=="string"?l.substr(a,o):l.length>=a+o||a?new java.lang.String(l,a,o)+"":l}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(l){DOMHandler.prototype[l]=function(){return null}});function appendElement(l,a){l.currentElement?l.currentElement.appendChild(a):l.doc.appendChild(a)}domParser.__DOMHandler=DOMHandler;domParser.normalizeLineEndings=normalizeLineEndings;domParser.DOMParser=DOMParser$2;var DOMParser$1=domParser.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var isObject$1=function(a){return!!a&&typeof a=="object"},merge=function l(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return o.reduce(function(s,c){return typeof c!="object"||Object.keys(c).forEach(function(d){Array.isArray(s[d])&&Array.isArray(c[d])?s[d]=s[d].concat(c[d]):isObject$1(s[d])&&isObject$1(c[d])?s[d]=l(s[d],c[d]):s[d]=c[d]}),s},{})},values=function(a){return Object.keys(a).map(function(o){return a[o]})},range=function(a,o){for(var u=[],s=a;s<o;s++)u.push(s);return u},flatten=function(a){return a.reduce(function(o,u){return o.concat(u)},[])},from=function(a){if(!a.length)return[];for(var o=[],u=0;u<a.length;u++)o.push(a[u]);return o},findIndexes=function(a,o){return a.reduce(function(u,s,c){return s[o]&&u.push(c),u},[])},findIndex=function(a,o){for(var u=0;u<a.length;u++)if(o(a[u]))return u;return-1},union=function(a,o){return values(a.reduce(function(u,s){return s.forEach(function(c){u[o(c)]=c}),u},{}))},errors={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},urlTypeToSegment=function(a){var o=a.baseUrl,u=o===void 0?"":o,s=a.source,c=s===void 0?"":s,d=a.range,f=d===void 0?"":d,m=a.indexRange,g=m===void 0?"":m,v={uri:c,resolvedUri:resolveUrl$1(u||"",c)};if(f||g){var y=f||g,_=y.split("-"),b=window$1$1.BigInt?window$1$1.BigInt(_[0]):parseInt(_[0],10),x=window$1$1.BigInt?window$1$1.BigInt(_[1]):parseInt(_[1],10);b<Number.MAX_SAFE_INTEGER&&typeof b=="bigint"&&(b=Number(b)),x<Number.MAX_SAFE_INTEGER&&typeof x=="bigint"&&(x=Number(x));var w;typeof x=="bigint"||typeof b=="bigint"?w=window$1$1.BigInt(x)-window$1$1.BigInt(b)+window$1$1.BigInt(1):w=x-b+1,typeof w=="bigint"&&w<Number.MAX_SAFE_INTEGER&&(w=Number(w)),v.byterange={length:w,offset:b}}return v},byteRangeToString=function(a){var o;return typeof a.offset=="bigint"||typeof a.length=="bigint"?o=window$1$1.BigInt(a.offset)+window$1$1.BigInt(a.length)-window$1$1.BigInt(1):o=a.offset+a.length-1,a.offset+"-"+o},parseEndNumber=function(a){return a&&typeof a!="number"&&(a=parseInt(a,10)),isNaN(a)?null:a},segmentRange={static:function(a){var o=a.duration,u=a.timescale,s=u===void 0?1:u,c=a.sourceDuration,d=a.periodDuration,f=parseEndNumber(a.endNumber),m=o/s;return typeof f=="number"?{start:0,end:f}:typeof d=="number"?{start:0,end:d/m}:{start:0,end:c/m}},dynamic:function(a){var o=a.NOW,u=a.clientOffset,s=a.availabilityStartTime,c=a.timescale,d=c===void 0?1:c,f=a.duration,m=a.periodStart,g=m===void 0?0:m,v=a.minimumUpdatePeriod,y=v===void 0?0:v,_=a.timeShiftBufferDepth,b=_===void 0?1/0:_,x=parseEndNumber(a.endNumber),w=(o+u)/1e3,A=s+g,D=w+y,I=D-A,N=Math.ceil(I*d/f),O=Math.floor((w-A-b)*d/f),B=Math.floor((w-A)*d/f);return{start:Math.max(0,O),end:typeof x=="number"?x:Math.min(N,B)}}},toSegments=function(a){return function(o){var u=a.duration,s=a.timescale,c=s===void 0?1:s,d=a.periodStart,f=a.startNumber,m=f===void 0?1:f;return{number:m+o,duration:u/c,timeline:d,time:o*u}}},parseByDuration=function(a){var o=a.type,u=a.duration,s=a.timescale,c=s===void 0?1:s,d=a.periodDuration,f=a.sourceDuration,m=segmentRange[o](a),g=m.start,v=m.end,y=range(g,v).map(toSegments(a));if(o==="static"){var _=y.length-1,b=typeof d=="number"?d:f;y[_].duration=b-u/c*_}return y},segmentsFromBase=function(a){var o=a.baseUrl,u=a.initialization,s=u===void 0?{}:u,c=a.sourceDuration,d=a.indexRange,f=d===void 0?"":d,m=a.periodStart,g=a.presentationTime,v=a.number,y=v===void 0?0:v,_=a.duration;if(!o)throw new Error(errors.NO_BASE_URL);var b=urlTypeToSegment({baseUrl:o,source:s.sourceURL,range:s.range}),x=urlTypeToSegment({baseUrl:o,source:o,indexRange:f});if(x.map=b,_){var w=parseByDuration(a);w.length&&(x.duration=w[0].duration,x.timeline=w[0].timeline)}else c&&(x.duration=c,x.timeline=m);return x.presentationTime=g||m,x.number=y,[x]},addSidxSegmentsToPlaylist$1=function(a,o,u){var s=a.sidx.map?a.sidx.map:null,c=a.sidx.duration,d=a.timeline||0,f=a.sidx.byterange,m=f.offset+f.length,g=o.timescale,v=o.references.filter(function(z){return z.referenceType!==1}),y=[],_=a.endList?"static":"dynamic",b=a.sidx.timeline,x=b,w=a.mediaSequence||0,A;typeof o.firstOffset=="bigint"?A=window$1$1.BigInt(m)+o.firstOffset:A=m+o.firstOffset;for(var D=0;D<v.length;D++){var I=o.references[D],N=I.referencedSize,O=I.subsegmentDuration,B=void 0;typeof A=="bigint"?B=A+window$1$1.BigInt(N)-window$1$1.BigInt(1):B=A+N-1;var M=A+"-"+B,j={baseUrl:u,timescale:g,timeline:d,periodStart:b,presentationTime:x,number:w,duration:O,sourceDuration:c,indexRange:M,type:_},L=segmentsFromBase(j)[0];s&&(L.map=s),y.push(L),typeof A=="bigint"?A+=window$1$1.BigInt(N):A+=N,x+=O/g,w++}return a.segments=y,a},SUPPORTED_MEDIA_TYPES=["AUDIO","SUBTITLES"],TIME_FUDGE=1/60,getUniqueTimelineStarts=function(a){return union(a,function(o){var u=o.timeline;return u}).sort(function(o,u){return o.timeline>u.timeline?1:-1})},findPlaylistWithName=function(a,o){for(var u=0;u<a.length;u++)if(a[u].attributes.NAME===o)return a[u];return null},getMediaGroupPlaylists=function(a){var o=[];return forEachMediaGroup$1(a,SUPPORTED_MEDIA_TYPES,function(u,s,c,d){o=o.concat(u.playlists||[])}),o},updateMediaSequenceForPlaylist=function(a){var o=a.playlist,u=a.mediaSequence;o.mediaSequence=u,o.segments.forEach(function(s,c){s.number=o.mediaSequence+c})},updateSequenceNumbers=function(a){var o=a.oldPlaylists,u=a.newPlaylists,s=a.timelineStarts;u.forEach(function(c){c.discontinuitySequence=findIndex(s,function(v){var y=v.timeline;return y===c.timeline});var d=findPlaylistWithName(o,c.attributes.NAME);if(d&&!c.sidx){var f=c.segments[0],m=findIndex(d.segments,function(v){return Math.abs(v.presentationTime-f.presentationTime)<TIME_FUDGE});if(m===-1){updateMediaSequenceForPlaylist({playlist:c,mediaSequence:d.mediaSequence+d.segments.length}),c.segments[0].discontinuity=!0,c.discontinuityStarts.unshift(0),(!d.segments.length&&c.timeline>d.timeline||d.segments.length&&c.timeline>d.segments[d.segments.length-1].timeline)&&c.discontinuitySequence--;return}var g=d.segments[m];g.discontinuity&&!f.discontinuity&&(f.discontinuity=!0,c.discontinuityStarts.unshift(0),c.discontinuitySequence--),updateMediaSequenceForPlaylist({playlist:c,mediaSequence:d.segments[m].number})}})},positionManifestOnTimeline=function(a){var o=a.oldManifest,u=a.newManifest,s=o.playlists.concat(getMediaGroupPlaylists(o)),c=u.playlists.concat(getMediaGroupPlaylists(u));return u.timelineStarts=getUniqueTimelineStarts([o.timelineStarts,u.timelineStarts]),updateSequenceNumbers({oldPlaylists:s,newPlaylists:c,timelineStarts:u.timelineStarts}),u},generateSidxKey=function(a){return a&&a.uri+"-"+byteRangeToString(a.byterange)},mergeDiscontiguousPlaylists=function(a){var o=values(a.reduce(function(u,s){var c=s.attributes.id+(s.attributes.lang||"");if(!u[c])u[c]=s,u[c].attributes.timelineStarts=[];else{if(s.segments){var d;s.segments[0]&&(s.segments[0].discontinuity=!0),(d=u[c].segments).push.apply(d,s.segments)}s.attributes.contentProtection&&(u[c].attributes.contentProtection=s.attributes.contentProtection)}return u[c].attributes.timelineStarts.push({start:s.attributes.periodStart,timeline:s.attributes.periodStart}),u},{}));return o.map(function(u){return u.discontinuityStarts=findIndexes(u.segments||[],"discontinuity"),u})},addSidxSegmentsToPlaylist=function(a,o){var u=generateSidxKey(a.sidx),s=u&&o[u]&&o[u].sidx;return s&&addSidxSegmentsToPlaylist$1(a,s,a.sidx.resolvedUri),a},addSidxSegmentsToPlaylists=function(a,o){if(o===void 0&&(o={}),!Object.keys(o).length)return a;for(var u in a)a[u]=addSidxSegmentsToPlaylist(a[u],o);return a},formatAudioPlaylist=function(a,o){var u,s=a.attributes,c=a.segments,d=a.sidx,f=a.mediaSequence,m=a.discontinuitySequence,g=a.discontinuityStarts,v={attributes:(u={NAME:s.id,BANDWIDTH:s.bandwidth,CODECS:s.codecs},u["PROGRAM-ID"]=1,u),uri:"",endList:s.type==="static",timeline:s.periodStart,resolvedUri:"",targetDuration:s.duration,discontinuitySequence:m,discontinuityStarts:g,timelineStarts:s.timelineStarts,mediaSequence:f,segments:c};return s.contentProtection&&(v.contentProtection=s.contentProtection),d&&(v.sidx=d),o&&(v.attributes.AUDIO="audio",v.attributes.SUBTITLES="subs"),v},formatVttPlaylist=function(a){var o,u=a.attributes,s=a.segments,c=a.mediaSequence,d=a.discontinuityStarts,f=a.discontinuitySequence;typeof s>"u"&&(s=[{uri:u.baseUrl,timeline:u.periodStart,resolvedUri:u.baseUrl||"",duration:u.sourceDuration,number:0}],u.duration=u.sourceDuration);var m=(o={NAME:u.id,BANDWIDTH:u.bandwidth},o["PROGRAM-ID"]=1,o);return u.codecs&&(m.CODECS=u.codecs),{attributes:m,uri:"",endList:u.type==="static",timeline:u.periodStart,resolvedUri:u.baseUrl||"",targetDuration:u.duration,timelineStarts:u.timelineStarts,discontinuityStarts:d,discontinuitySequence:f,mediaSequence:c,segments:s}},organizeAudioPlaylists=function(a,o,u){o===void 0&&(o={}),u===void 0&&(u=!1);var s,c=a.reduce(function(f,m){var g=m.attributes.role&&m.attributes.role.value||"",v=m.attributes.lang||"",y=m.attributes.label||"main";if(v&&!m.attributes.label){var _=g?" ("+g+")":"";y=""+m.attributes.lang+_}f[y]||(f[y]={language:v,autoselect:!0,default:g==="main",playlists:[],uri:""});var b=addSidxSegmentsToPlaylist(formatAudioPlaylist(m,u),o);return f[y].playlists.push(b),typeof s>"u"&&g==="main"&&(s=m,s.default=!0),f},{});if(!s){var d=Object.keys(c)[0];c[d].default=!0}return c},organizeVttPlaylists=function(a,o){return o===void 0&&(o={}),a.reduce(function(u,s){var c=s.attributes.lang||"text";return u[c]||(u[c]={language:c,default:!1,autoselect:!1,playlists:[],uri:""}),u[c].playlists.push(addSidxSegmentsToPlaylist(formatVttPlaylist(s),o)),u},{})},organizeCaptionServices=function(a){return a.reduce(function(o,u){return u&&u.forEach(function(s){var c=s.channel,d=s.language;o[d]={autoselect:!1,default:!1,instreamId:c,language:d},s.hasOwnProperty("aspectRatio")&&(o[d].aspectRatio=s.aspectRatio),s.hasOwnProperty("easyReader")&&(o[d].easyReader=s.easyReader),s.hasOwnProperty("3D")&&(o[d]["3D"]=s["3D"])}),o},{})},formatVideoPlaylist=function(a){var o,u=a.attributes,s=a.segments,c=a.sidx,d=a.discontinuityStarts,f={attributes:(o={NAME:u.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:u.width,height:u.height},CODECS:u.codecs,BANDWIDTH:u.bandwidth},o["PROGRAM-ID"]=1,o),uri:"",endList:u.type==="static",timeline:u.periodStart,resolvedUri:"",targetDuration:u.duration,discontinuityStarts:d,timelineStarts:u.timelineStarts,segments:s};return u.frameRate&&(f.attributes["FRAME-RATE"]=u.frameRate),u.contentProtection&&(f.contentProtection=u.contentProtection),c&&(f.sidx=c),f},videoOnly=function(a){var o=a.attributes;return o.mimeType==="video/mp4"||o.mimeType==="video/webm"||o.contentType==="video"},audioOnly=function(a){var o=a.attributes;return o.mimeType==="audio/mp4"||o.mimeType==="audio/webm"||o.contentType==="audio"},vttOnly=function(a){var o=a.attributes;return o.mimeType==="text/vtt"||o.contentType==="text"},addMediaSequenceValues=function(a,o){a.forEach(function(u){u.mediaSequence=0,u.discontinuitySequence=findIndex(o,function(s){var c=s.timeline;return c===u.timeline}),u.segments&&u.segments.forEach(function(s,c){s.number=c})})},flattenMediaGroupPlaylists=function(a){return a?Object.keys(a).reduce(function(o,u){var s=a[u];return o.concat(s.playlists)},[]):[]},toM3u8=function(a){var o,u=a.dashPlaylists,s=a.locations,c=a.sidxMapping,d=c===void 0?{}:c,f=a.previousManifest;if(!u.length)return{};var m=u[0].attributes,g=m.sourceDuration,v=m.type,y=m.suggestedPresentationDelay,_=m.minimumUpdatePeriod,b=mergeDiscontiguousPlaylists(u.filter(videoOnly)).map(formatVideoPlaylist),x=mergeDiscontiguousPlaylists(u.filter(audioOnly)),w=mergeDiscontiguousPlaylists(u.filter(vttOnly)),A=u.map(function(j){return j.attributes.captionServices}).filter(Boolean),D={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(o={AUDIO:{},VIDEO:{}},o["CLOSED-CAPTIONS"]={},o.SUBTITLES={},o),uri:"",duration:g,playlists:addSidxSegmentsToPlaylists(b,d)};_>=0&&(D.minimumUpdatePeriod=_*1e3),s&&(D.locations=s),v==="dynamic"&&(D.suggestedPresentationDelay=y);var I=D.playlists.length===0,N=x.length?organizeAudioPlaylists(x,d,I):null,O=w.length?organizeVttPlaylists(w,d):null,B=b.concat(flattenMediaGroupPlaylists(N),flattenMediaGroupPlaylists(O)),M=B.map(function(j){var L=j.timelineStarts;return L});return D.timelineStarts=getUniqueTimelineStarts(M),addMediaSequenceValues(B,D.timelineStarts),N&&(D.mediaGroups.AUDIO.audio=N),O&&(D.mediaGroups.SUBTITLES.subs=O),A.length&&(D.mediaGroups["CLOSED-CAPTIONS"].cc=organizeCaptionServices(A)),f?positionManifestOnTimeline({oldManifest:f,newManifest:D}):D},getLiveRValue=function(a,o,u){var s=a.NOW,c=a.clientOffset,d=a.availabilityStartTime,f=a.timescale,m=f===void 0?1:f,g=a.periodStart,v=g===void 0?0:g,y=a.minimumUpdatePeriod,_=y===void 0?0:y,b=(s+c)/1e3,x=d+v,w=b+_,A=w-x;return Math.ceil((A*m-o)/u)},parseByTimeline=function(a,o){for(var u=a.type,s=a.minimumUpdatePeriod,c=s===void 0?0:s,d=a.media,f=d===void 0?"":d,m=a.sourceDuration,g=a.timescale,v=g===void 0?1:g,y=a.startNumber,_=y===void 0?1:y,b=a.periodStart,x=[],w=-1,A=0;A<o.length;A++){var D=o[A],I=D.d,N=D.r||0,O=D.t||0;w<0&&(w=O),O&&O>w&&(w=O);var B=void 0;if(N<0){var M=A+1;M===o.length?u==="dynamic"&&c>0&&f.indexOf("$Number$")>0?B=getLiveRValue(a,w,I):B=(m*v-w)/I:B=(o[M].t-w)/I}else B=N+1;for(var j=_+x.length+B,L=_+x.length;L<j;)x.push({number:L,duration:I/v,time:w,timeline:b}),w+=I,L++}return x},identifierPattern=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,identifierReplacement=function(a){return function(o,u,s,c){if(o==="$$")return"$";if(typeof a[u]>"u")return o;var d=""+a[u];return u==="RepresentationID"||(s?c=parseInt(c,10):c=1,d.length>=c)?d:""+new Array(c-d.length+1).join("0")+d}},constructTemplateUrl=function(a,o){return a.replace(identifierPattern,identifierReplacement(o))},parseTemplateInfo=function(a,o){return!a.duration&&!o?[{number:a.startNumber||1,duration:a.sourceDuration,time:0,timeline:a.periodStart}]:a.duration?parseByDuration(a):parseByTimeline(a,o)},segmentsFromTemplate=function(a,o){var u={RepresentationID:a.id,Bandwidth:a.bandwidth||0},s=a.initialization,c=s===void 0?{sourceURL:"",range:""}:s,d=urlTypeToSegment({baseUrl:a.baseUrl,source:constructTemplateUrl(c.sourceURL,u),range:c.range}),f=parseTemplateInfo(a,o);return f.map(function(m){u.Number=m.number,u.Time=m.time;var g=constructTemplateUrl(a.media||"",u),v=a.timescale||1,y=a.presentationTimeOffset||0,_=a.periodStart+(m.time-y)/v,b={uri:g,timeline:m.timeline,duration:m.duration,resolvedUri:resolveUrl$1(a.baseUrl||"",g),map:d,number:m.number,presentationTime:_};return b})},SegmentURLToSegmentObject=function(a,o){var u=a.baseUrl,s=a.initialization,c=s===void 0?{}:s,d=urlTypeToSegment({baseUrl:u,source:c.sourceURL,range:c.range}),f=urlTypeToSegment({baseUrl:u,source:o.media,range:o.mediaRange});return f.map=d,f},segmentsFromList=function(a,o){var u=a.duration,s=a.segmentUrls,c=s===void 0?[]:s,d=a.periodStart;if(!u&&!o||u&&o)throw new Error(errors.SEGMENT_TIME_UNSPECIFIED);var f=c.map(function(v){return SegmentURLToSegmentObject(a,v)}),m;u&&(m=parseByDuration(a)),o&&(m=parseByTimeline(a,o));var g=m.map(function(v,y){if(f[y]){var _=f[y],b=a.timescale||1,x=a.presentationTimeOffset||0;return _.timeline=v.timeline,_.duration=v.duration,_.number=v.number,_.presentationTime=d+(v.time-x)/b,_}}).filter(function(v){return v});return g},generateSegments=function(a){var o=a.attributes,u=a.segmentInfo,s,c;u.template?(c=segmentsFromTemplate,s=merge(o,u.template)):u.base?(c=segmentsFromBase,s=merge(o,u.base)):u.list&&(c=segmentsFromList,s=merge(o,u.list));var d={attributes:o};if(!c)return d;var f=c(s,u.segmentTimeline);if(s.duration){var m=s,g=m.duration,v=m.timescale,y=v===void 0?1:v;s.duration=g/y}else f.length?s.duration=f.reduce(function(_,b){return Math.max(_,Math.ceil(b.duration))},0):s.duration=0;return d.attributes=s,d.segments=f,u.base&&s.indexRange&&(d.sidx=f[0],d.segments=[]),d},toPlaylists=function(a){return a.map(generateSegments)},findChildren=function(a,o){return from(a.childNodes).filter(function(u){var s=u.tagName;return s===o})},getContent=function(a){return a.textContent.trim()},parseDivisionValue=function(a){return parseFloat(a.split("/").reduce(function(o,u){return o/u}))},parseDuration=function(a){var o=31536e3,u=30*24*60*60,s=24*60*60,c=60*60,d=60,f=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,m=f.exec(a);if(!m)return 0;var g=m.slice(1),v=g[0],y=g[1],_=g[2],b=g[3],x=g[4],w=g[5];return parseFloat(v||0)*o+parseFloat(y||0)*u+parseFloat(_||0)*s+parseFloat(b||0)*c+parseFloat(x||0)*d+parseFloat(w||0)},parseDate=function(a){var o=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return o.test(a)&&(a+="Z"),Date.parse(a)},parsers={mediaPresentationDuration:function(a){return parseDuration(a)},availabilityStartTime:function(a){return parseDate(a)/1e3},minimumUpdatePeriod:function(a){return parseDuration(a)},suggestedPresentationDelay:function(a){return parseDuration(a)},type:function(a){return a},timeShiftBufferDepth:function(a){return parseDuration(a)},start:function(a){return parseDuration(a)},width:function(a){return parseInt(a,10)},height:function(a){return parseInt(a,10)},bandwidth:function(a){return parseInt(a,10)},frameRate:function(a){return parseDivisionValue(a)},startNumber:function(a){return parseInt(a,10)},timescale:function(a){return parseInt(a,10)},presentationTimeOffset:function(a){return parseInt(a,10)},duration:function(a){var o=parseInt(a,10);return isNaN(o)?parseDuration(a):o},d:function(a){return parseInt(a,10)},t:function(a){return parseInt(a,10)},r:function(a){return parseInt(a,10)},DEFAULT:function(a){return a}},parseAttributes=function(a){return a&&a.attributes?from(a.attributes).reduce(function(o,u){var s=parsers[u.name]||parsers.DEFAULT;return o[u.name]=s(u.value),o},{}):{}},keySystemsMap={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},buildBaseUrls=function(a,o){return o.length?flatten(a.map(function(u){return o.map(function(s){return resolveUrl$1(u,getContent(s))})})):a},getSegmentInformation=function(a){var o=findChildren(a,"SegmentTemplate")[0],u=findChildren(a,"SegmentList")[0],s=u&&findChildren(u,"SegmentURL").map(function(_){return merge({tag:"SegmentURL"},parseAttributes(_))}),c=findChildren(a,"SegmentBase")[0],d=u||o,f=d&&findChildren(d,"SegmentTimeline")[0],m=u||c||o,g=m&&findChildren(m,"Initialization")[0],v=o&&parseAttributes(o);v&&g?v.initialization=g&&parseAttributes(g):v&&v.initialization&&(v.initialization={sourceURL:v.initialization});var y={template:v,segmentTimeline:f&&findChildren(f,"S").map(function(_){return parseAttributes(_)}),list:u&&merge(parseAttributes(u),{segmentUrls:s,initialization:parseAttributes(g)}),base:c&&merge(parseAttributes(c),{initialization:parseAttributes(g)})};return Object.keys(y).forEach(function(_){y[_]||delete y[_]}),y},inheritBaseUrls=function(a,o,u){return function(s){var c=findChildren(s,"BaseURL"),d=buildBaseUrls(o,c),f=merge(a,parseAttributes(s)),m=getSegmentInformation(s);return d.map(function(g){return{segmentInfo:merge(u,m),attributes:merge(f,{baseUrl:g})}})}},generateKeySystemInformation=function(a){return a.reduce(function(o,u){var s=parseAttributes(u);s.schemeIdUri&&(s.schemeIdUri=s.schemeIdUri.toLowerCase());var c=keySystemsMap[s.schemeIdUri];if(c){o[c]={attributes:s};var d=findChildren(u,"cenc:pssh")[0];if(d){var f=getContent(d);o[c].pssh=f&&decodeB64ToUint8Array(f)}}return o},{})},parseCaptionServiceMetadata=function(a){if(a.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var o=typeof a.value!="string"?[]:a.value.split(";");return o.map(function(s){var c,d;if(d=s,/^CC\d=/.test(s)){var f=s.split("=");c=f[0],d=f[1]}else/^CC\d$/.test(s)&&(c=s);return{channel:c,language:d}})}else if(a.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var u=typeof a.value!="string"?[]:a.value.split(";");return u.map(function(s){var c={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(s)){var d=s.split("="),f=d[0],m=d[1],g=m===void 0?"":m;c.channel=f,c.language=s,g.split(",").forEach(function(v){var y=v.split(":"),_=y[0],b=y[1];_==="lang"?c.language=b:_==="er"?c.easyReader=Number(b):_==="war"?c.aspectRatio=Number(b):_==="3D"&&(c["3D"]=Number(b))})}else c.language=s;return c.channel&&(c.channel="SERVICE"+c.channel),c})}},toRepresentations=function(a,o,u){return function(s){var c=parseAttributes(s),d=buildBaseUrls(o,findChildren(s,"BaseURL")),f=findChildren(s,"Role")[0],m={role:parseAttributes(f)},g=merge(a,c,m),v=findChildren(s,"Accessibility")[0],y=parseCaptionServiceMetadata(parseAttributes(v));y&&(g=merge(g,{captionServices:y}));var _=findChildren(s,"Label")[0];if(_&&_.childNodes.length){var b=_.childNodes[0].nodeValue.trim();g=merge(g,{label:b})}var x=generateKeySystemInformation(findChildren(s,"ContentProtection"));Object.keys(x).length&&(g=merge(g,{contentProtection:x}));var w=getSegmentInformation(s),A=findChildren(s,"Representation"),D=merge(u,w);return flatten(A.map(inheritBaseUrls(g,d,D)))}},toAdaptationSets=function(a,o){return function(u,s){var c=buildBaseUrls(o,findChildren(u.node,"BaseURL")),d=merge(a,{periodStart:u.attributes.start});typeof u.attributes.duration=="number"&&(d.periodDuration=u.attributes.duration);var f=findChildren(u.node,"AdaptationSet"),m=getSegmentInformation(u.node);return flatten(f.map(toRepresentations(d,c,m)))}},getPeriodStart=function(a){var o=a.attributes,u=a.priorPeriodAttributes,s=a.mpdType;return typeof o.start=="number"?o.start:u&&typeof u.start=="number"&&typeof u.duration=="number"?u.start+u.duration:!u&&s==="static"?0:null},inheritAttributes=function(a,o){o===void 0&&(o={});var u=o,s=u.manifestUri,c=s===void 0?"":s,d=u.NOW,f=d===void 0?Date.now():d,m=u.clientOffset,g=m===void 0?0:m,v=findChildren(a,"Period");if(!v.length)throw new Error(errors.INVALID_NUMBER_OF_PERIOD);var y=findChildren(a,"Location"),_=parseAttributes(a),b=buildBaseUrls([c],findChildren(a,"BaseURL"));_.type=_.type||"static",_.sourceDuration=_.mediaPresentationDuration||0,_.NOW=f,_.clientOffset=g,y.length&&(_.locations=y.map(getContent));var x=[];return v.forEach(function(w,A){var D=parseAttributes(w),I=x[A-1];D.start=getPeriodStart({attributes:D,priorPeriodAttributes:I?I.attributes:null,mpdType:_.type}),x.push({node:w,attributes:D})}),{locations:_.locations,representationInfo:flatten(x.map(toAdaptationSets(_,b)))}},stringToMpdXml=function(a){if(a==="")throw new Error(errors.DASH_EMPTY_MANIFEST);var o=new DOMParser$1,u,s;try{u=o.parseFromString(a,"application/xml"),s=u&&u.documentElement.tagName==="MPD"?u.documentElement:null}catch{}if(!s||s&&s.getElementsByTagName("parsererror").length>0)throw new Error(errors.DASH_INVALID_XML);return s},parseUTCTimingScheme=function(a){var o=findChildren(a,"UTCTiming")[0];if(!o)return null;var u=parseAttributes(o);switch(u.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":u.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":u.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":u.method="DIRECT",u.value=Date.parse(u.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(errors.UNSUPPORTED_UTC_TIMING_SCHEME)}return u},parse=function(a,o){o===void 0&&(o={});var u=inheritAttributes(stringToMpdXml(a),o),s=toPlaylists(u.representationInfo);return toM3u8({dashPlaylists:s,locations:u.locations,sidxMapping:o.sidxMapping,previousManifest:o.previousManifest})},parseUTCTiming=function(a){return parseUTCTimingScheme(stringToMpdXml(a))},MAX_UINT32=Math.pow(2,32),getUint64$1=function(l){var a=new DataView(l.buffer,l.byteOffset,l.byteLength),o;return a.getBigUint64?(o=a.getBigUint64(0),o<Number.MAX_SAFE_INTEGER?Number(o):o):a.getUint32(0)*MAX_UINT32+a.getUint32(4)},numbers={getUint64:getUint64$1,MAX_UINT32},getUint64=numbers.getUint64,parseSidx=function(l){var a=new DataView(l.buffer,l.byteOffset,l.byteLength),o={version:l[0],flags:new Uint8Array(l.subarray(1,4)),references:[],referenceId:a.getUint32(4),timescale:a.getUint32(8)},u=12;o.version===0?(o.earliestPresentationTime=a.getUint32(u),o.firstOffset=a.getUint32(u+4),u+=8):(o.earliestPresentationTime=getUint64(l.subarray(u)),o.firstOffset=getUint64(l.subarray(u+8)),u+=16),u+=2;var s=a.getUint16(u);for(u+=2;s>0;u+=12,s--)o.references.push({referenceType:(l[u]&128)>>>7,referencedSize:a.getUint32(u)&2147483647,subsegmentDuration:a.getUint32(u+4),startsWithSap:!!(l[u+8]&128),sapType:(l[u+8]&112)>>>4,sapDeltaTime:a.getUint32(u+8)&268435455});return o},parseSidx_1=parseSidx;const parseSidx$1=getDefaultExportFromCjs(parseSidx_1);var ID3=toUint8([73,68,51]),getId3Size=function(a,o){o===void 0&&(o=0),a=toUint8(a);var u=a[o+5],s=a[o+6]<<21|a[o+7]<<14|a[o+8]<<7|a[o+9],c=(u&16)>>4;return c?s+20:s+10},getId3Offset=function l(a,o){return o===void 0&&(o=0),a=toUint8(a),a.length-o<10||!bytesMatch(a,ID3,{offset:o})?o:(o+=getId3Size(a,o),l(a,o))},normalizePath$1=function(a){return typeof a=="string"?stringToBytes(a):a},normalizePaths$1=function(a){return Array.isArray(a)?a.map(function(o){return normalizePath$1(o)}):[normalizePath$1(a)]},findBox=function l(a,o,u){u===void 0&&(u=!1),o=normalizePaths$1(o),a=toUint8(a);var s=[];if(!o.length)return s;for(var c=0;c<a.length;){var d=(a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3])>>>0,f=a.subarray(c+4,c+8);if(d===0)break;var m=c+d;if(m>a.length){if(u)break;m=a.length}var g=a.subarray(c+8,m);bytesMatch(f,o[0])&&(o.length===1?s.push(g):s.push.apply(s,l(g,o.slice(1),u))),c=m}return s},EBML_TAGS={EBML:toUint8([26,69,223,163]),DocType:toUint8([66,130]),Segment:toUint8([24,83,128,103]),SegmentInfo:toUint8([21,73,169,102]),Tracks:toUint8([22,84,174,107]),Track:toUint8([174]),TrackNumber:toUint8([215]),DefaultDuration:toUint8([35,227,131]),TrackEntry:toUint8([174]),TrackType:toUint8([131]),FlagDefault:toUint8([136]),CodecID:toUint8([134]),CodecPrivate:toUint8([99,162]),VideoTrack:toUint8([224]),AudioTrack:toUint8([225]),Cluster:toUint8([31,67,182,117]),Timestamp:toUint8([231]),TimestampScale:toUint8([42,215,177]),BlockGroup:toUint8([160]),BlockDuration:toUint8([155]),Block:toUint8([161]),SimpleBlock:toUint8([163])},LENGTH_TABLE=[128,64,32,16,8,4,2,1],getLength=function(a){for(var o=1,u=0;u<LENGTH_TABLE.length&&!(a&LENGTH_TABLE[u]);u++)o++;return o},getvint=function(a,o,u,s){u===void 0&&(u=!0),s===void 0&&(s=!1);var c=getLength(a[o]),d=a.subarray(o,o+c);return u&&(d=Array.prototype.slice.call(a,o,o+c),d[0]^=LENGTH_TABLE[c-1]),{length:c,value:bytesToNumber(d,{signed:s}),bytes:d}},normalizePath=function l(a){return typeof a=="string"?a.match(/.{1,2}/g).map(function(o){return l(o)}):typeof a=="number"?numberToBytes(a):a},normalizePaths=function(a){return Array.isArray(a)?a.map(function(o){return normalizePath(o)}):[normalizePath(a)]},getInfinityDataSize=function l(a,o,u){if(u>=o.length)return o.length;var s=getvint(o,u,!1);if(bytesMatch(a.bytes,s.bytes))return u;var c=getvint(o,u+s.length);return l(a,o,u+c.length+c.value+s.length)},findEbml=function l(a,o){o=normalizePaths(o),a=toUint8(a);var u=[];if(!o.length)return u;for(var s=0;s<a.length;){var c=getvint(a,s,!1),d=getvint(a,s+c.length),f=s+c.length+d.length;d.value===127&&(d.value=getInfinityDataSize(c,a,f),d.value!==a.length&&(d.value-=f));var m=f+d.value>a.length?a.length:f+d.value,g=a.subarray(f,m);bytesMatch(o[0],c.bytes)&&(o.length===1?u.push(g):u=u.concat(l(g,o.slice(1))));var v=c.length+d.length+g.length;s+=v}return u},NAL_TYPE_ONE=toUint8([0,0,0,1]),NAL_TYPE_TWO=toUint8([0,0,1]),EMULATION_PREVENTION=toUint8([0,0,3]),discardEmulationPreventionBytes=function(a){for(var o=[],u=1;u<a.length-2;)bytesMatch(a.subarray(u,u+3),EMULATION_PREVENTION)&&(o.push(u+2),u++),u++;if(o.length===0)return a;var s=a.length-o.length,c=new Uint8Array(s),d=0;for(u=0;u<s;d++,u++)d===o[0]&&(d++,o.shift()),c[u]=a[d];return c},findNal=function(a,o,u,s){a=toUint8(a),u=[].concat(u);for(var c=0,d,f=0;c<a.length&&(f<s||d);){var m=void 0;if(bytesMatch(a.subarray(c),NAL_TYPE_ONE)?m=4:bytesMatch(a.subarray(c),NAL_TYPE_TWO)&&(m=3),!m){c++;continue}if(f++,d)return discardEmulationPreventionBytes(a.subarray(d,c));var g=void 0;o==="h264"?g=a[c+m]&31:o==="h265"&&(g=a[c+m]>>1&63),u.indexOf(g)!==-1&&(d=c+m),c+=m+(o==="h264"?1:2)}return a.subarray(0,0)},findH264Nal=function(a,o,u){return findNal(a,"h264",o,u)},findH265Nal=function(a,o,u){return findNal(a,"h265",o,u)},CONSTANTS={webm:toUint8([119,101,98,109]),matroska:toUint8([109,97,116,114,111,115,107,97]),flac:toUint8([102,76,97,67]),ogg:toUint8([79,103,103,83]),ac3:toUint8([11,119]),riff:toUint8([82,73,70,70]),avi:toUint8([65,86,73]),wav:toUint8([87,65,86,69]),"3gp":toUint8([102,116,121,112,51,103]),mp4:toUint8([102,116,121,112]),fmp4:toUint8([115,116,121,112]),mov:toUint8([102,116,121,112,113,116]),moov:toUint8([109,111,111,118]),moof:toUint8([109,111,111,102])},_isLikely={aac:function(a){var o=getId3Offset(a);return bytesMatch(a,[255,16],{offset:o,mask:[255,22]})},mp3:function(a){var o=getId3Offset(a);return bytesMatch(a,[255,2],{offset:o,mask:[255,6]})},webm:function(a){var o=findEbml(a,[EBML_TAGS.EBML,EBML_TAGS.DocType])[0];return bytesMatch(o,CONSTANTS.webm)},mkv:function(a){var o=findEbml(a,[EBML_TAGS.EBML,EBML_TAGS.DocType])[0];return bytesMatch(o,CONSTANTS.matroska)},mp4:function(a){if(_isLikely["3gp"](a)||_isLikely.mov(a))return!1;if(bytesMatch(a,CONSTANTS.mp4,{offset:4})||bytesMatch(a,CONSTANTS.fmp4,{offset:4})||bytesMatch(a,CONSTANTS.moof,{offset:4})||bytesMatch(a,CONSTANTS.moov,{offset:4}))return!0},mov:function(a){return bytesMatch(a,CONSTANTS.mov,{offset:4})},"3gp":function(a){return bytesMatch(a,CONSTANTS["3gp"],{offset:4})},ac3:function(a){var o=getId3Offset(a);return bytesMatch(a,CONSTANTS.ac3,{offset:o})},ts:function(a){if(a.length<189&&a.length>=1)return a[0]===71;for(var o=0;o+188<a.length&&o<188;){if(a[o]===71&&a[o+188]===71)return!0;o+=1}return!1},flac:function(a){var o=getId3Offset(a);return bytesMatch(a,CONSTANTS.flac,{offset:o})},ogg:function(a){return bytesMatch(a,CONSTANTS.ogg)},avi:function(a){return bytesMatch(a,CONSTANTS.riff)&&bytesMatch(a,CONSTANTS.avi,{offset:8})},wav:function(a){return bytesMatch(a,CONSTANTS.riff)&&bytesMatch(a,CONSTANTS.wav,{offset:8})},h264:function(a){return findH264Nal(a,7,3).length},h265:function(a){return findH265Nal(a,[32,33],3).length}},isLikelyTypes=Object.keys(_isLikely).filter(function(l){return l!=="ts"&&l!=="h264"&&l!=="h265"}).concat(["ts","h264","h265"]);isLikelyTypes.forEach(function(l){var a=_isLikely[l];_isLikely[l]=function(o){return a(toUint8(o))}});var isLikely=_isLikely,detectContainerForBytes=function(a){a=toUint8(a);for(var o=0;o<isLikelyTypes.length;o++){var u=isLikelyTypes[o];if(isLikely[u](a))return u}return""},isLikelyFmp4MediaSegment=function(a){return findBox(a,["moof"]).length>0},ONE_SECOND_IN_TS=9e4,secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs,metadataTsToSeconds;secondsToVideoTs=function(l){return l*ONE_SECOND_IN_TS};secondsToAudioTs=function(l,a){return l*a};videoTsToSeconds=function(l){return l/ONE_SECOND_IN_TS};audioTsToSeconds=function(l,a){return l/a};audioTsToVideoTs=function(l,a){return secondsToVideoTs(audioTsToSeconds(l,a))};videoTsToAudioTs=function(l,a){return secondsToAudioTs(videoTsToSeconds(l),a)};metadataTsToSeconds=function(l,a,o){return videoTsToSeconds(o?l:l-a)};var clock={ONE_SECOND_IN_TS,secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs,metadataTsToSeconds};function _getPrototypeOf$1(l){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf$1(l)}function _isNativeFunction$1(l){try{return Function.toString.call(l).indexOf("[native code]")!==-1}catch{return typeof l=="function"}}function _wrapNativeSuper$1(l){var a=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper$1=function(u){if(u===null||!_isNativeFunction$1(u))return u;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(a!==void 0){if(a.has(u))return a.get(u);a.set(u,s)}function s(){return _construct$1(u,arguments,_getPrototypeOf$1(this).constructor)}return s.prototype=Object.create(u.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf$1(s,u)},_wrapNativeSuper$1(l)}/**
 * @license
 * Video.js 7.21.6 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var version$5="7.21.6",hooks_={},hooks=function(a,o){return hooks_[a]=hooks_[a]||[],o&&(hooks_[a]=hooks_[a].concat(o)),hooks_[a]},hook=function(a,o){hooks(a,o)},removeHook=function(a,o){var u=hooks(a).indexOf(o);return u<=-1?!1:(hooks_[a]=hooks_[a].slice(),hooks_[a].splice(u,1),!0)},hookOnce=function(a,o){hooks(a,[].concat(o).map(function(u){var s=function c(){return removeHook(a,c),u.apply(void 0,arguments)};return s}))},FullscreenApi={prefixed:!0},apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],specApi=apiMap[0],browserApi;for(var i=0;i<apiMap.length;i++)if(apiMap[i][1]in document$2){browserApi=apiMap[i];break}if(browserApi){for(var _i=0;_i<browserApi.length;_i++)FullscreenApi[specApi[_i]]=browserApi[_i];FullscreenApi.prefixed=browserApi[0]!==specApi[0]}var history$1=[],LogByTypeFactory=function(a,o){return function(u,s,c){var d=o.levels[s],f=new RegExp("^("+d+")$");if(u!=="log"&&c.unshift(u.toUpperCase()+":"),c.unshift(a+":"),history$1){history$1.push([].concat(c));var m=history$1.length-1e3;history$1.splice(0,m>0?m:0)}if(window$1$1.console){var g=window$1$1.console[u];!g&&u==="debug"&&(g=window$1$1.console.info||window$1$1.console.log),!(!g||!d||!f.test(u))&&g[Array.isArray(c)?"apply":"call"](window$1$1.console,c)}}};function createLogger$1(l){var a="info",o,u=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];o("log",a,d)};return o=LogByTypeFactory(l,u),u.createLogger=function(s){return createLogger$1(l+": "+s)},u.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:a},u.level=function(s){if(typeof s=="string"){if(!u.levels.hasOwnProperty(s))throw new Error('"'+s+'" in not a valid log level');a=s}return a},u.history=function(){return history$1?[].concat(history$1):[]},u.history.filter=function(s){return(history$1||[]).filter(function(c){return new RegExp(".*"+s+".*").test(c[0])})},u.history.clear=function(){history$1&&(history$1.length=0)},u.history.disable=function(){history$1!==null&&(history$1.length=0,history$1=null)},u.history.enable=function(){history$1===null&&(history$1=[])},u.error=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return o("error",a,c)},u.warn=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return o("warn",a,c)},u.debug=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return o("debug",a,c)},u}var log$1=createLogger$1("VIDEOJS"),createLogger=log$1.createLogger,toString=Object.prototype.toString,keys=function(a){return isObject(a)?Object.keys(a):[]};function each(l,a){keys(l).forEach(function(o){return a(l[o],o)})}function reduce(l,a,o){return o===void 0&&(o=0),keys(l).reduce(function(u,s){return a(u,l[s],s)},o)}function assign(l){for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];return Object.assign?_extends$2.apply(void 0,[l].concat(o)):(o.forEach(function(s){s&&each(s,function(c,d){l[d]=c})}),l)}function isObject(l){return!!l&&typeof l=="object"}function isPlain(l){return isObject(l)&&toString.call(l)==="[object Object]"&&l.constructor===Object}function computedStyle(l,a){if(!l||!a)return"";if(typeof window$1$1.getComputedStyle=="function"){var o;try{o=window$1$1.getComputedStyle(l)}catch{return""}return o?o.getPropertyValue(a)||o[a]:""}return""}var USER_AGENT=window$1$1.navigator&&window$1$1.navigator.userAgent||"",webkitVersionMap=/AppleWebKit\/([\d.]+)/i.exec(USER_AGENT),appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null,IS_IPOD=/iPod/i.test(USER_AGENT),IOS_VERSION=function(){var l=USER_AGENT.match(/OS (\d+)_/i);return l&&l[1]?l[1]:null}(),IS_ANDROID=/Android/i.test(USER_AGENT),ANDROID_VERSION=function(){var l=USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!l)return null;var a=l[1]&&parseFloat(l[1]),o=l[2]&&parseFloat(l[2]);return a&&o?parseFloat(l[1]+"."+l[2]):a||null}(),IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537,IS_FIREFOX=/Firefox/i.test(USER_AGENT),IS_EDGE=/Edg/i.test(USER_AGENT),IS_CHROME=!IS_EDGE&&(/Chrome/i.test(USER_AGENT)||/CriOS/i.test(USER_AGENT)),CHROME_VERSION=function(){var l=USER_AGENT.match(/(Chrome|CriOS)\/(\d+)/);return l&&l[2]?parseFloat(l[2]):null}(),IE_VERSION=function(){var l=/MSIE\s(\d+)\.\d/.exec(USER_AGENT),a=l&&parseFloat(l[1]);return!a&&/Trident\/7.0/i.test(USER_AGENT)&&/rv:11.0/.test(USER_AGENT)&&(a=11),a}(),IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE,IS_WINDOWS=/Windows/i.test(USER_AGENT),TOUCH_ENABLED=!!(isReal()&&("ontouchstart"in window$1$1||window$1$1.navigator.maxTouchPoints||window$1$1.DocumentTouch&&window$1$1.document instanceof window$1$1.DocumentTouch)),IS_IPAD=/iPad/i.test(USER_AGENT)||IS_SAFARI&&TOUCH_ENABLED&&!/iPhone/i.test(USER_AGENT),IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD,IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD,IS_ANY_SAFARI=(IS_SAFARI||IS_IOS)&&!IS_CHROME,browser=Object.freeze({__proto__:null,IS_IPOD,IOS_VERSION,IS_ANDROID,ANDROID_VERSION,IS_NATIVE_ANDROID,IS_FIREFOX,IS_EDGE,IS_CHROME,CHROME_VERSION,IE_VERSION,IS_SAFARI,IS_WINDOWS,TOUCH_ENABLED,IS_IPAD,IS_IPHONE,IS_IOS,IS_ANY_SAFARI});function isNonBlankString(l){return typeof l=="string"&&!!l.trim()}function throwIfWhitespace(l){if(l.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function classRegExp(l){return new RegExp("(^|\\s)"+l+"($|\\s)")}function isReal(){return document$2===window$1$1.document}function isEl(l){return isObject(l)&&l.nodeType===1}function isInFrame(){try{return window$1$1.parent!==window$1$1.self}catch{return!0}}function createQuerier(l){return function(a,o){if(!isNonBlankString(a))return document$2[l](null);isNonBlankString(o)&&(o=document$2.querySelector(o));var u=isEl(o)?o:document$2;return u[l]&&u[l](a)}}function createEl(l,a,o,u){l===void 0&&(l="div"),a===void 0&&(a={}),o===void 0&&(o={});var s=document$2.createElement(l);return Object.getOwnPropertyNames(a).forEach(function(c){var d=a[c];c.indexOf("aria-")!==-1||c==="role"||c==="type"?(log$1.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+c+" to "+d+".")),s.setAttribute(c,d)):c==="textContent"?textContent(s,d):(s[c]!==d||c==="tabIndex")&&(s[c]=d)}),Object.getOwnPropertyNames(o).forEach(function(c){s.setAttribute(c,o[c])}),u&&appendContent(s,u),s}function textContent(l,a){return typeof l.textContent>"u"?l.innerText=a:l.textContent=a,l}function prependTo(l,a){a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l)}function hasClass(l,a){return throwIfWhitespace(a),l.classList?l.classList.contains(a):classRegExp(a).test(l.className)}function addClass(l,a){return l.classList?l.classList.add(a):hasClass(l,a)||(l.className=(l.className+" "+a).trim()),l}function removeClass(l,a){return l?(l.classList?l.classList.remove(a):(throwIfWhitespace(a),l.className=l.className.split(/\s+/).filter(function(o){return o!==a}).join(" ")),l):(log$1.warn("removeClass was called with an element that doesn't exist"),null)}function toggleClass(l,a,o){var u=hasClass(l,a);if(typeof o=="function"&&(o=o(l,a)),typeof o!="boolean"&&(o=!u),o!==u)return o?addClass(l,a):removeClass(l,a),l}function setAttributes(l,a){Object.getOwnPropertyNames(a).forEach(function(o){var u=a[o];u===null||typeof u>"u"||u===!1?l.removeAttribute(o):l.setAttribute(o,u===!0?"":u)})}function getAttributes(l){var a={},o=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(l&&l.attributes&&l.attributes.length>0)for(var u=l.attributes,s=u.length-1;s>=0;s--){var c=u[s].name,d=u[s].value;(typeof l[c]=="boolean"||o.indexOf(","+c+",")!==-1)&&(d=d!==null),a[c]=d}return a}function getAttribute(l,a){return l.getAttribute(a)}function setAttribute(l,a,o){l.setAttribute(a,o)}function removeAttribute(l,a){l.removeAttribute(a)}function blockTextSelection(){document$2.body.focus(),document$2.onselectstart=function(){return!1}}function unblockTextSelection(){document$2.onselectstart=function(){return!0}}function getBoundingClientRect(l){if(l&&l.getBoundingClientRect&&l.parentNode){var a=l.getBoundingClientRect(),o={};return["bottom","height","left","right","top","width"].forEach(function(u){a[u]!==void 0&&(o[u]=a[u])}),o.height||(o.height=parseFloat(computedStyle(l,"height"))),o.width||(o.width=parseFloat(computedStyle(l,"width"))),o}}function findPosition(l){if(!l||l&&!l.offsetParent)return{left:0,top:0,width:0,height:0};for(var a=l.offsetWidth,o=l.offsetHeight,u=0,s=0;l.offsetParent&&l!==document$2[FullscreenApi.fullscreenElement];)u+=l.offsetLeft,s+=l.offsetTop,l=l.offsetParent;return{left:u,top:s,width:a,height:o}}function getPointerPosition(l,a){var o={x:0,y:0};if(IS_IOS)for(var u=l;u&&u.nodeName.toLowerCase()!=="html";){var s=computedStyle(u,"transform");if(/^matrix/.test(s)){var c=s.slice(7,-1).split(/,\s/).map(Number);o.x+=c[4],o.y+=c[5]}else if(/^matrix3d/.test(s)){var d=s.slice(9,-1).split(/,\s/).map(Number);o.x+=d[12],o.y+=d[13]}u=u.parentNode}var f={},m=findPosition(a.target),g=findPosition(l),v=g.width,y=g.height,_=a.offsetY-(g.top-m.top),b=a.offsetX-(g.left-m.left);return a.changedTouches&&(b=a.changedTouches[0].pageX-g.left,_=a.changedTouches[0].pageY+g.top,IS_IOS&&(b-=o.x,_-=o.y)),f.y=1-Math.max(0,Math.min(1,_/y)),f.x=Math.max(0,Math.min(1,b/v)),f}function isTextNode(l){return isObject(l)&&l.nodeType===3}function emptyEl(l){for(;l.firstChild;)l.removeChild(l.firstChild);return l}function normalizeContent(l){return typeof l=="function"&&(l=l()),(Array.isArray(l)?l:[l]).map(function(a){if(typeof a=="function"&&(a=a()),isEl(a)||isTextNode(a))return a;if(typeof a=="string"&&/\S/.test(a))return document$2.createTextNode(a)}).filter(function(a){return a})}function appendContent(l,a){return normalizeContent(a).forEach(function(o){return l.appendChild(o)}),l}function insertContent(l,a){return appendContent(emptyEl(l),a)}function isSingleLeftClick(l){return l.button===void 0&&l.buttons===void 0||l.button===0&&l.buttons===void 0||l.type==="mouseup"&&l.button===0&&l.buttons===0?!0:!(l.button!==0||l.buttons!==1)}var $=createQuerier("querySelector"),$$=createQuerier("querySelectorAll"),Dom=Object.freeze({__proto__:null,isReal,isEl,isInFrame,createEl,textContent,prependTo,hasClass,addClass,removeClass,toggleClass,setAttributes,getAttributes,getAttribute,setAttribute,removeAttribute,blockTextSelection,unblockTextSelection,getBoundingClientRect,findPosition,getPointerPosition,isTextNode,emptyEl,normalizeContent,appendContent,insertContent,isSingleLeftClick,$,$$}),_windowLoaded=!1,videojs$1,autoSetup=function(){if(videojs$1.options.autoSetup!==!1){var a=Array.prototype.slice.call(document$2.getElementsByTagName("video")),o=Array.prototype.slice.call(document$2.getElementsByTagName("audio")),u=Array.prototype.slice.call(document$2.getElementsByTagName("video-js")),s=a.concat(o,u);if(s&&s.length>0)for(var c=0,d=s.length;c<d;c++){var f=s[c];if(f&&f.getAttribute){if(f.player===void 0){var m=f.getAttribute("data-setup");m!==null&&videojs$1(f)}}else{autoSetupTimeout(1);break}}else _windowLoaded||autoSetupTimeout(1)}};function autoSetupTimeout(l,a){isReal()&&(a&&(videojs$1=a),window$1$1.setTimeout(autoSetup,l))}function setWindowLoaded(){_windowLoaded=!0,window$1$1.removeEventListener("load",setWindowLoaded)}isReal()&&(document$2.readyState==="complete"?setWindowLoaded():window$1$1.addEventListener("load",setWindowLoaded));var createStyleElement=function(a){var o=document$2.createElement("style");return o.className=a,o},setTextContent=function(a,o){a.styleSheet?a.styleSheet.cssText=o:a.textContent=o},_initialGuid=3,_guid=_initialGuid;function newGUID(){return _guid++}var FakeWeakMap;window$1$1.WeakMap||(FakeWeakMap=function(){function l(){this.vdata="vdata"+Math.floor(window$1$1.performance&&window$1$1.performance.now()||Date.now()),this.data={}}var a=l.prototype;return a.set=function(u,s){var c=u[this.vdata]||newGUID();return u[this.vdata]||(u[this.vdata]=c),this.data[c]=s,this},a.get=function(u){var s=u[this.vdata];if(s)return this.data[s];log$1("We have no data for this element",u)},a.has=function(u){var s=u[this.vdata];return s in this.data},a.delete=function(u){var s=u[this.vdata];s&&(delete this.data[s],delete u[this.vdata])},l}());var DomData=window$1$1.WeakMap?new WeakMap:new FakeWeakMap;function _cleanUpEvents(l,a){if(DomData.has(l)){var o=DomData.get(l);o.handlers[a].length===0&&(delete o.handlers[a],l.removeEventListener?l.removeEventListener(a,o.dispatcher,!1):l.detachEvent&&l.detachEvent("on"+a,o.dispatcher)),Object.getOwnPropertyNames(o.handlers).length<=0&&(delete o.handlers,delete o.dispatcher,delete o.disabled),Object.getOwnPropertyNames(o).length===0&&DomData.delete(l)}}function _handleMultipleEvents(l,a,o,u){o.forEach(function(s){l(a,s,u)})}function fixEvent(l){if(l.fixed_)return l;function a(){return!0}function o(){return!1}if(!l||!l.isPropagationStopped||!l.isImmediatePropagationStopped){var u=l||window$1$1.event;l={};for(var s in u)s!=="layerX"&&s!=="layerY"&&s!=="keyLocation"&&s!=="webkitMovementX"&&s!=="webkitMovementY"&&s!=="path"&&(s==="returnValue"&&u.preventDefault||(l[s]=u[s]));if(l.target||(l.target=l.srcElement||document$2),l.relatedTarget||(l.relatedTarget=l.fromElement===l.target?l.toElement:l.fromElement),l.preventDefault=function(){u.preventDefault&&u.preventDefault(),l.returnValue=!1,u.returnValue=!1,l.defaultPrevented=!0},l.defaultPrevented=!1,l.stopPropagation=function(){u.stopPropagation&&u.stopPropagation(),l.cancelBubble=!0,u.cancelBubble=!0,l.isPropagationStopped=a},l.isPropagationStopped=o,l.stopImmediatePropagation=function(){u.stopImmediatePropagation&&u.stopImmediatePropagation(),l.isImmediatePropagationStopped=a,l.stopPropagation()},l.isImmediatePropagationStopped=o,l.clientX!==null&&l.clientX!==void 0){var c=document$2.documentElement,d=document$2.body;l.pageX=l.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),l.pageY=l.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0)}l.which=l.charCode||l.keyCode,l.button!==null&&l.button!==void 0&&(l.button=l.button&1?0:l.button&4?1:l.button&2?2:0)}return l.fixed_=!0,l}var _supportsPassive,supportsPassive=function(){if(typeof _supportsPassive!="boolean"){_supportsPassive=!1;try{var a=Object.defineProperty({},"passive",{get:function(){_supportsPassive=!0}});window$1$1.addEventListener("test",null,a),window$1$1.removeEventListener("test",null,a)}catch{}}return _supportsPassive},passiveEvents=["touchstart","touchmove"];function on(l,a,o){if(Array.isArray(a))return _handleMultipleEvents(on,l,a,o);DomData.has(l)||DomData.set(l,{});var u=DomData.get(l);if(u.handlers||(u.handlers={}),u.handlers[a]||(u.handlers[a]=[]),o.guid||(o.guid=newGUID()),u.handlers[a].push(o),u.dispatcher||(u.disabled=!1,u.dispatcher=function(c,d){if(!u.disabled){c=fixEvent(c);var f=u.handlers[c.type];if(f)for(var m=f.slice(0),g=0,v=m.length;g<v&&!c.isImmediatePropagationStopped();g++)try{m[g].call(l,c,d)}catch(y){log$1.error(y)}}}),u.handlers[a].length===1)if(l.addEventListener){var s=!1;supportsPassive()&&passiveEvents.indexOf(a)>-1&&(s={passive:!0}),l.addEventListener(a,u.dispatcher,s)}else l.attachEvent&&l.attachEvent("on"+a,u.dispatcher)}function off(l,a,o){if(DomData.has(l)){var u=DomData.get(l);if(u.handlers){if(Array.isArray(a))return _handleMultipleEvents(off,l,a,o);var s=function(g,v){u.handlers[v]=[],_cleanUpEvents(g,v)};if(a===void 0){for(var c in u.handlers)Object.prototype.hasOwnProperty.call(u.handlers||{},c)&&s(l,c);return}var d=u.handlers[a];if(d){if(!o){s(l,a);return}if(o.guid)for(var f=0;f<d.length;f++)d[f].guid===o.guid&&d.splice(f--,1);_cleanUpEvents(l,a)}}}}function trigger(l,a,o){var u=DomData.has(l)?DomData.get(l):{},s=l.parentNode||l.ownerDocument;if(typeof a=="string"?a={type:a,target:l}:a.target||(a.target=l),a=fixEvent(a),u.dispatcher&&u.dispatcher.call(l,a,o),s&&!a.isPropagationStopped()&&a.bubbles===!0)trigger.call(null,s,a,o);else if(!s&&!a.defaultPrevented&&a.target&&a.target[a.type]){DomData.has(a.target)||DomData.set(a.target,{});var c=DomData.get(a.target);a.target[a.type]&&(c.disabled=!0,typeof a.target[a.type]=="function"&&a.target[a.type](),c.disabled=!1)}return!a.defaultPrevented}function one(l,a,o){if(Array.isArray(a))return _handleMultipleEvents(one,l,a,o);var u=function s(){off(l,a,s),o.apply(this,arguments)};u.guid=o.guid=o.guid||newGUID(),on(l,a,u)}function any(l,a,o){var u=function s(){off(l,a,s),o.apply(this,arguments)};u.guid=o.guid=o.guid||newGUID(),on(l,a,u)}var Events=Object.freeze({__proto__:null,fixEvent,on,off,trigger,one,any}),UPDATE_REFRESH_INTERVAL=30,bind=function(a,o,u){o.guid||(o.guid=newGUID());var s=o.bind(a);return s.guid=u?u+"_"+o.guid:o.guid,s},throttle=function(a,o){var u=window$1$1.performance.now(),s=function(){var d=window$1$1.performance.now();d-u>=o&&(a.apply(void 0,arguments),u=d)};return s},debounce=function(a,o,u,s){s===void 0&&(s=window$1$1);var c,d=function(){s.clearTimeout(c),c=null},f=function(){var g=this,v=arguments,y=function(){c=null,y=null,a.apply(g,v)};!c&&u&&a.apply(g,v),s.clearTimeout(c),c=s.setTimeout(y,o)};return f.cancel=d,f},EventTarget$2=function(){};EventTarget$2.prototype.allowedEvents_={};EventTarget$2.prototype.on=function(l,a){var o=this.addEventListener;this.addEventListener=function(){},on(this,l,a),this.addEventListener=o};EventTarget$2.prototype.addEventListener=EventTarget$2.prototype.on;EventTarget$2.prototype.off=function(l,a){off(this,l,a)};EventTarget$2.prototype.removeEventListener=EventTarget$2.prototype.off;EventTarget$2.prototype.one=function(l,a){var o=this.addEventListener;this.addEventListener=function(){},one(this,l,a),this.addEventListener=o};EventTarget$2.prototype.any=function(l,a){var o=this.addEventListener;this.addEventListener=function(){},any(this,l,a),this.addEventListener=o};EventTarget$2.prototype.trigger=function(l){var a=l.type||l;typeof l=="string"&&(l={type:a}),l=fixEvent(l),this.allowedEvents_[a]&&this["on"+a]&&this["on"+a](l),trigger(this,l)};EventTarget$2.prototype.dispatchEvent=EventTarget$2.prototype.trigger;var EVENT_MAP;EventTarget$2.prototype.queueTrigger=function(l){var a=this;EVENT_MAP||(EVENT_MAP=new Map);var o=l.type||l,u=EVENT_MAP.get(this);u||(u=new Map,EVENT_MAP.set(this,u));var s=u.get(o);u.delete(o),window$1$1.clearTimeout(s);var c=window$1$1.setTimeout(function(){u.delete(o),u.size===0&&(u=null,EVENT_MAP.delete(a)),a.trigger(l)},0);u.set(o,c)};var objName=function(a){return typeof a.name=="function"?a.name():typeof a.name=="string"?a.name:a.name_?a.name_:a.constructor&&a.constructor.name?a.constructor.name:typeof a},isEvented=function(a){return a instanceof EventTarget$2||!!a.eventBusEl_&&["on","one","off","trigger"].every(function(o){return typeof a[o]=="function"})},addEventedCallback=function(a,o){isEvented(a)?o():(a.eventedCallbacks||(a.eventedCallbacks=[]),a.eventedCallbacks.push(o))},isValidEventType=function(a){return typeof a=="string"&&/\S/.test(a)||Array.isArray(a)&&!!a.length},validateTarget=function(a,o,u){if(!a||!a.nodeName&&!isEvented(a))throw new Error("Invalid target for "+objName(o)+"#"+u+"; must be a DOM node or evented object.")},validateEventType=function(a,o,u){if(!isValidEventType(a))throw new Error("Invalid event type for "+objName(o)+"#"+u+"; must be a non-empty string or array.")},validateListener=function(a,o,u){if(typeof a!="function")throw new Error("Invalid listener for "+objName(o)+"#"+u+"; must be a function.")},normalizeListenArgs=function(a,o,u){var s=o.length<3||o[0]===a||o[0]===a.eventBusEl_,c,d,f;return s?(c=a.eventBusEl_,o.length>=3&&o.shift(),d=o[0],f=o[1]):(c=o[0],d=o[1],f=o[2]),validateTarget(c,a,u),validateEventType(d,a,u),validateListener(f,a,u),f=bind(a,f),{isTargetingSelf:s,target:c,type:d,listener:f}},listen=function(a,o,u,s){validateTarget(a,a,o),a.nodeName?Events[o](a,u,s):a[o](u,s)},EventedMixin={on:function(){for(var a=this,o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];var c=normalizeListenArgs(this,u,"on"),d=c.isTargetingSelf,f=c.target,m=c.type,g=c.listener;if(listen(f,"on",m,g),!d){var v=function(){return a.off(f,m,g)};v.guid=g.guid;var y=function(){return a.off("dispose",v)};y.guid=g.guid,listen(this,"on","dispose",v),listen(f,"on","dispose",y)}},one:function(){for(var a=this,o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];var c=normalizeListenArgs(this,u,"one"),d=c.isTargetingSelf,f=c.target,m=c.type,g=c.listener;if(d)listen(f,"one",m,g);else{var v=function y(){a.off(f,m,y);for(var _=arguments.length,b=new Array(_),x=0;x<_;x++)b[x]=arguments[x];g.apply(null,b)};v.guid=g.guid,listen(f,"one",m,v)}},any:function(){for(var a=this,o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];var c=normalizeListenArgs(this,u,"any"),d=c.isTargetingSelf,f=c.target,m=c.type,g=c.listener;if(d)listen(f,"any",m,g);else{var v=function y(){a.off(f,m,y);for(var _=arguments.length,b=new Array(_),x=0;x<_;x++)b[x]=arguments[x];g.apply(null,b)};v.guid=g.guid,listen(f,"any",m,v)}},off:function(a,o,u){if(!a||isValidEventType(a))off(this.eventBusEl_,a,o);else{var s=a,c=o;validateTarget(s,this,"off"),validateEventType(c,this,"off"),validateListener(u,this,"off"),u=bind(this,u),this.off("dispose",u),s.nodeName?(off(s,c,u),off(s,"dispose",u)):isEvented(s)&&(s.off(c,u),s.off("dispose",u))}},trigger:function(a,o){validateTarget(this.eventBusEl_,this,"trigger");var u=a&&typeof a!="string"?a.type:a;if(!isValidEventType(u)){var s="Invalid event type for "+objName(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(a)(this.log||log$1).error(s);else throw new Error(s)}return trigger(this.eventBusEl_,a,o)}};function evented(l,a){a===void 0&&(a={});var o=a,u=o.eventBusKey;if(u){if(!l[u].nodeName)throw new Error('The eventBusKey "'+u+'" does not refer to an element.');l.eventBusEl_=l[u]}else l.eventBusEl_=createEl("span",{className:"vjs-event-bus"});return assign(l,EventedMixin),l.eventedCallbacks&&l.eventedCallbacks.forEach(function(s){s()}),l.on("dispose",function(){l.off(),[l,l.el_,l.eventBusEl_].forEach(function(s){s&&DomData.has(s)&&DomData.delete(s)}),window$1$1.setTimeout(function(){l.eventBusEl_=null},0)}),l}var StatefulMixin={state:{},setState:function(a){var o=this;typeof a=="function"&&(a=a());var u;return each(a,function(s,c){o.state[c]!==s&&(u=u||{},u[c]={from:o.state[c],to:s}),o.state[c]=s}),u&&isEvented(this)&&this.trigger({changes:u,type:"statechanged"}),u}};function stateful(l,a){return assign(l,StatefulMixin),l.state=assign({},l.state,a),typeof l.handleStateChanged=="function"&&isEvented(l)&&l.on("statechanged",l.handleStateChanged),l}var toLowerCase=function(a){return typeof a!="string"?a:a.replace(/./,function(o){return o.toLowerCase()})},toTitleCase$1=function(a){return typeof a!="string"?a:a.replace(/./,function(o){return o.toUpperCase()})},titleCaseEquals=function(a,o){return toTitleCase$1(a)===toTitleCase$1(o)};function mergeOptions$3(){for(var l={},a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return o.forEach(function(s){s&&each(s,function(c,d){if(!isPlain(c)){l[d]=c;return}isPlain(l[d])||(l[d]={}),l[d]=mergeOptions$3(l[d],c)})}),l}var MapSham=function(){function l(){this.map_={}}var a=l.prototype;return a.has=function(u){return u in this.map_},a.delete=function(u){var s=this.has(u);return delete this.map_[u],s},a.set=function(u,s){return this.map_[u]=s,this},a.forEach=function(u,s){for(var c in this.map_)u.call(s,this.map_[c],c,this)},l}(),Map$1=window$1$1.Map?window$1$1.Map:MapSham,SetSham=function(){function l(){this.set_={}}var a=l.prototype;return a.has=function(u){return u in this.set_},a.delete=function(u){var s=this.has(u);return delete this.set_[u],s},a.add=function(u){return this.set_[u]=1,this},a.forEach=function(u,s){for(var c in this.set_)u.call(s,c,c,this)},l}(),Set$1=window$1$1.Set?window$1$1.Set:SetSham,Component$1=function(){function l(o,u,s){var c=this;if(!o&&this.play?this.player_=o=this:this.player_=o,this.isDisposed_=!1,this.parentComponent_=null,this.options_=mergeOptions$3({},this.options_),u=this.options_=mergeOptions$3(this.options_,u),this.id_=u.id||u.el&&u.el.id,!this.id_){var d=o&&o.id&&o.id()||"no_player";this.id_=d+"_component_"+newGUID()}this.name_=u.name||null,u.el?this.el_=u.el:u.createEl!==!1&&(this.el_=this.createEl()),u.className&&this.el_&&u.className.split(" ").forEach(function(f){return c.addClass(f)}),u.evented!==!1&&(evented(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),stateful(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set$1,this.setIntervalIds_=new Set$1,this.rafIds_=new Set$1,this.namedRafs_=new Map$1,this.clearingTimersOnDispose_=!1,u.initChildren!==!1&&this.initChildren(),this.ready(s),u.reportTouchActivity!==!1&&this.enableTouchActivity()}var a=l.prototype;return a.dispose=function(u){if(u===void 0&&(u={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var s=this.children_.length-1;s>=0;s--)this.children_[s].dispose&&this.children_[s].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(u.restoreEl?this.el_.parentNode.replaceChild(u.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},a.isDisposed=function(){return!!this.isDisposed_},a.player=function(){return this.player_},a.options=function(u){return u?(this.options_=mergeOptions$3(this.options_,u),this.options_):this.options_},a.el=function(){return this.el_},a.createEl=function(u,s,c){return createEl(u,s,c)},a.localize=function(u,s,c){c===void 0&&(c=u);var d=this.player_.language&&this.player_.language(),f=this.player_.languages&&this.player_.languages(),m=f&&f[d],g=d&&d.split("-")[0],v=f&&f[g],y=c;return m&&m[u]?y=m[u]:v&&v[u]&&(y=v[u]),s&&(y=y.replace(/\{(\d+)\}/g,function(_,b){var x=s[b-1],w=x;return typeof x>"u"&&(w=_),w})),y},a.handleLanguagechange=function(){},a.contentEl=function(){return this.contentEl_||this.el_},a.id=function(){return this.id_},a.name=function(){return this.name_},a.children=function(){return this.children_},a.getChildById=function(u){return this.childIndex_[u]},a.getChild=function(u){if(u)return this.childNameIndex_[u]},a.getDescendant=function(){for(var u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];s=s.reduce(function(m,g){return m.concat(g)},[]);for(var d=this,f=0;f<s.length;f++)if(d=d.getChild(s[f]),!d||!d.getChild)return;return d},a.addChild=function(u,s,c){s===void 0&&(s={}),c===void 0&&(c=this.children_.length);var d,f;if(typeof u=="string"){f=toTitleCase$1(u);var m=s.componentClass||f;s.name=f;var g=l.getComponent(m);if(!g)throw new Error("Component "+m+" does not exist");if(typeof g!="function")return null;d=new g(this.player_||this,s)}else d=u;if(d.parentComponent_&&d.parentComponent_.removeChild(d),this.children_.splice(c,0,d),d.parentComponent_=this,typeof d.id=="function"&&(this.childIndex_[d.id()]=d),f=f||d.name&&toTitleCase$1(d.name()),f&&(this.childNameIndex_[f]=d,this.childNameIndex_[toLowerCase(f)]=d),typeof d.el=="function"&&d.el()){var v=null;this.children_[c+1]&&(this.children_[c+1].el_?v=this.children_[c+1].el_:isEl(this.children_[c+1])&&(v=this.children_[c+1])),this.contentEl().insertBefore(d.el(),v)}return d},a.removeChild=function(u){if(typeof u=="string"&&(u=this.getChild(u)),!(!u||!this.children_)){for(var s=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===u){s=!0,this.children_.splice(c,1);break}if(s){u.parentComponent_=null,this.childIndex_[u.id()]=null,this.childNameIndex_[toTitleCase$1(u.name())]=null,this.childNameIndex_[toLowerCase(u.name())]=null;var d=u.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(u.el())}}},a.initChildren=function(){var u=this,s=this.options_.children;if(s){var c=this.options_,d=function(v){var y=v.name,_=v.opts;if(c[y]!==void 0&&(_=c[y]),_!==!1){_===!0&&(_={}),_.playerOptions=u.options_.playerOptions;var b=u.addChild(y,_);b&&(u[y]=b)}},f,m=l.getComponent("Tech");Array.isArray(s)?f=s:f=Object.keys(s),f.concat(Object.keys(this.options_).filter(function(g){return!f.some(function(v){return typeof v=="string"?g===v:g===v.name})})).map(function(g){var v,y;return typeof g=="string"?(v=g,y=s[v]||u.options_[v]||{}):(v=g.name,y=g),{name:v,opts:y}}).filter(function(g){var v=l.getComponent(g.opts.componentClass||toTitleCase$1(g.name));return v&&!m.isTech(v)}).forEach(d)}},a.buildCSSClass=function(){return""},a.ready=function(u,s){if(s===void 0&&(s=!1),!!u){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(u);return}s?u.call(this):this.setTimeout(u,1)}},a.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var u=this.readyQueue_;this.readyQueue_=[],u&&u.length>0&&u.forEach(function(s){s.call(this)},this),this.trigger("ready")},1)},a.$=function(u,s){return $(u,s||this.contentEl())},a.$$=function(u,s){return $$(u,s||this.contentEl())},a.hasClass=function(u){return hasClass(this.el_,u)},a.addClass=function(u){addClass(this.el_,u)},a.removeClass=function(u){removeClass(this.el_,u)},a.toggleClass=function(u,s){toggleClass(this.el_,u,s)},a.show=function(){this.removeClass("vjs-hidden")},a.hide=function(){this.addClass("vjs-hidden")},a.lockShowing=function(){this.addClass("vjs-lock-showing")},a.unlockShowing=function(){this.removeClass("vjs-lock-showing")},a.getAttribute=function(u){return getAttribute(this.el_,u)},a.setAttribute=function(u,s){setAttribute(this.el_,u,s)},a.removeAttribute=function(u){removeAttribute(this.el_,u)},a.width=function(u,s){return this.dimension("width",u,s)},a.height=function(u,s){return this.dimension("height",u,s)},a.dimensions=function(u,s){this.width(u,!0),this.height(s)},a.dimension=function(u,s,c){if(s!==void 0){(s===null||s!==s)&&(s=0),(""+s).indexOf("%")!==-1||(""+s).indexOf("px")!==-1?this.el_.style[u]=s:s==="auto"?this.el_.style[u]="":this.el_.style[u]=s+"px",c||this.trigger("componentresize");return}if(!this.el_)return 0;var d=this.el_.style[u],f=d.indexOf("px");return parseInt(f!==-1?d.slice(0,f):this.el_["offset"+toTitleCase$1(u)],10)},a.currentDimension=function(u){var s=0;if(u!=="width"&&u!=="height")throw new Error("currentDimension only accepts width or height value");if(s=computedStyle(this.el_,u),s=parseFloat(s),s===0||isNaN(s)){var c="offset"+toTitleCase$1(u);s=this.el_[c]}return s},a.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},a.currentWidth=function(){return this.currentDimension("width")},a.currentHeight=function(){return this.currentDimension("height")},a.focus=function(){this.el_.focus()},a.blur=function(){this.el_.blur()},a.handleKeyDown=function(u){this.player_&&(keycode.isEventKey(u,"Tab")||u.stopPropagation(),this.player_.handleKeyDown(u))},a.handleKeyPress=function(u){this.handleKeyDown(u)},a.emitTapEvents=function(){var u=0,s=null,c=10,d=200,f;this.on("touchstart",function(g){g.touches.length===1&&(s={pageX:g.touches[0].pageX,pageY:g.touches[0].pageY},u=window$1$1.performance.now(),f=!0)}),this.on("touchmove",function(g){if(g.touches.length>1)f=!1;else if(s){var v=g.touches[0].pageX-s.pageX,y=g.touches[0].pageY-s.pageY,_=Math.sqrt(v*v+y*y);_>c&&(f=!1)}});var m=function(){f=!1};this.on("touchleave",m),this.on("touchcancel",m),this.on("touchend",function(g){if(s=null,f===!0){var v=window$1$1.performance.now()-u;v<d&&(g.preventDefault(),this.trigger("tap"))}})},a.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var u=bind(this.player(),this.player().reportUserActivity),s;this.on("touchstart",function(){u(),this.clearInterval(s),s=this.setInterval(u,250)});var c=function(f){u(),this.clearInterval(s)};this.on("touchmove",u),this.on("touchend",c),this.on("touchcancel",c)}},a.setTimeout=function(u,s){var c=this,d;return u=bind(this,u),this.clearTimersOnDispose_(),d=window$1$1.setTimeout(function(){c.setTimeoutIds_.has(d)&&c.setTimeoutIds_.delete(d),u()},s),this.setTimeoutIds_.add(d),d},a.clearTimeout=function(u){return this.setTimeoutIds_.has(u)&&(this.setTimeoutIds_.delete(u),window$1$1.clearTimeout(u)),u},a.setInterval=function(u,s){u=bind(this,u),this.clearTimersOnDispose_();var c=window$1$1.setInterval(u,s);return this.setIntervalIds_.add(c),c},a.clearInterval=function(u){return this.setIntervalIds_.has(u)&&(this.setIntervalIds_.delete(u),window$1$1.clearInterval(u)),u},a.requestAnimationFrame=function(u){var s=this;if(!this.supportsRaf_)return this.setTimeout(u,1e3/60);this.clearTimersOnDispose_();var c;return u=bind(this,u),c=window$1$1.requestAnimationFrame(function(){s.rafIds_.has(c)&&s.rafIds_.delete(c),u()}),this.rafIds_.add(c),c},a.requestNamedAnimationFrame=function(u,s){var c=this;if(!this.namedRafs_.has(u)){this.clearTimersOnDispose_(),s=bind(this,s);var d=this.requestAnimationFrame(function(){s(),c.namedRafs_.has(u)&&c.namedRafs_.delete(u)});return this.namedRafs_.set(u,d),u}},a.cancelNamedAnimationFrame=function(u){this.namedRafs_.has(u)&&(this.cancelAnimationFrame(this.namedRafs_.get(u)),this.namedRafs_.delete(u))},a.cancelAnimationFrame=function(u){return this.supportsRaf_?(this.rafIds_.has(u)&&(this.rafIds_.delete(u),window$1$1.cancelAnimationFrame(u)),u):this.clearTimeout(u)},a.clearTimersOnDispose_=function(){var u=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(s){var c=s[0],d=s[1];u[c].forEach(function(f,m){return u[d](m)})}),u.clearingTimersOnDispose_=!1}))},l.registerComponent=function(u,s){if(typeof u!="string"||!u)throw new Error('Illegal component name, "'+u+'"; must be a non-empty string.');var c=l.getComponent("Tech"),d=c&&c.isTech(s),f=l===s||l.prototype.isPrototypeOf(s.prototype);if(d||!f){var m;throw d?m="techs must be registered using Tech.registerTech()":m="must be a Component subclass",new Error('Illegal component, "'+u+'"; '+m+".")}u=toTitleCase$1(u),l.components_||(l.components_={});var g=l.getComponent("Player");if(u==="Player"&&g&&g.players){var v=g.players,y=Object.keys(v);if(v&&y.length>0&&y.map(function(_){return v[_]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return l.components_[u]=s,l.components_[toLowerCase(u)]=s,s},l.getComponent=function(u){if(!(!u||!l.components_))return l.components_[u]},l}();Component$1.prototype.supportsRaf_=typeof window$1$1.requestAnimationFrame=="function"&&typeof window$1$1.cancelAnimationFrame=="function";Component$1.registerComponent("Component",Component$1);function rangeCheck(l,a,o){if(typeof a!="number"||a<0||a>o)throw new Error("Failed to execute '"+l+"' on 'TimeRanges': The index provided ("+a+") is non-numeric or out of bounds (0-"+o+").")}function getRange(l,a,o,u){return rangeCheck(l,u,o.length-1),o[u][a]}function createTimeRangesObj(l){var a;return l===void 0||l.length===0?a={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:a={length:l.length,start:getRange.bind(null,"start",0,l),end:getRange.bind(null,"end",1,l)},window$1$1.Symbol&&window$1$1.Symbol.iterator&&(a[window$1$1.Symbol.iterator]=function(){return(l||[]).values()}),a}function createTimeRanges(l,a){return Array.isArray(l)?createTimeRangesObj(l):l===void 0||a===void 0?createTimeRangesObj():createTimeRangesObj([[l,a]])}function bufferedPercent(l,a){var o=0,u,s;if(!a)return 0;(!l||!l.length)&&(l=createTimeRanges(0,0));for(var c=0;c<l.length;c++)u=l.start(c),s=l.end(c),s>a&&(s=a),o+=s-u;return o/a}function MediaError(l){if(l instanceof MediaError)return l;typeof l=="number"?this.code=l:typeof l=="string"?this.message=l:isObject(l)&&(typeof l.code=="number"&&(this.code=l.code),assign(this,l)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}MediaError.prototype.code=0;MediaError.prototype.message="";MediaError.prototype.status=null;MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++)MediaError[MediaError.errorTypes[errNum]]=errNum,MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;function isPromise(l){return l!=null&&typeof l.then=="function"}function silencePromise(l){isPromise(l)&&l.then(null,function(a){})}var trackToJson_=function(a){var o=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(u,s,c){return a[s]&&(u[s]=a[s]),u},{cues:a.cues&&Array.prototype.map.call(a.cues,function(u){return{startTime:u.startTime,endTime:u.endTime,text:u.text,id:u.id}})});return o},textTracksToJson=function(a){var o=a.$$("track"),u=Array.prototype.map.call(o,function(c){return c.track}),s=Array.prototype.map.call(o,function(c){var d=trackToJson_(c.track);return c.src&&(d.src=c.src),d});return s.concat(Array.prototype.filter.call(a.textTracks(),function(c){return u.indexOf(c)===-1}).map(trackToJson_))},jsonToTextTracks=function(a,o){return a.forEach(function(u){var s=o.addRemoteTextTrack(u).track;!u.src&&u.cues&&u.cues.forEach(function(c){return s.addCue(c)})}),o.textTracks()},textTrackConverter={textTracksToJson,jsonToTextTracks,trackToJson_},MODAL_CLASS_NAME="vjs-modal-dialog",ModalDialog=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.handleKeyDown_=function(d){return c.handleKeyDown(d)},c.close_=function(d){return c.close(d)},c.opened_=c.hasBeenOpened_=c.hasBeenFilled_=!1,c.closeable(!c.options_.uncloseable),c.content(c.options_.content),c.contentEl_=createEl("div",{className:MODAL_CLASS_NAME+"-content"},{role:"document"}),c.descEl_=createEl("p",{className:MODAL_CLASS_NAME+"-description vjs-control-text",id:c.el().getAttribute("aria-describedby")}),textContent(c.descEl_,c.description()),c.el_.appendChild(c.descEl_),c.el_.appendChild(c.contentEl_),c}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},o.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,l.prototype.dispose.call(this)},o.buildCSSClass=function(){return MODAL_CLASS_NAME+" vjs-hidden "+l.prototype.buildCSSClass.call(this)},o.label=function(){return this.localize(this.options_.label||"Modal Window")},o.description=function(){var s=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(s+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),s},o.open=function(){if(!this.opened_){var s=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!s.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&s.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=s.controls(),s.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},o.opened=function(s){return typeof s=="boolean"&&this[s?"open":"close"](),this.opened_},o.close=function(){if(this.opened_){var s=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&s.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&s.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},o.closeable=function(s){if(typeof s=="boolean"){var c=this.closeable_=!!s,d=this.getChild("closeButton");if(c&&!d){var f=this.contentEl_;this.contentEl_=this.el_,d=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=f,this.on(d,"close",this.close_)}!c&&d&&(this.off(d,"close",this.close_),this.removeChild(d),d.dispose())}return this.closeable_},o.fill=function(){this.fillWith(this.content())},o.fillWith=function(s){var c=this.contentEl(),d=c.parentNode,f=c.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,d.removeChild(c),this.empty(),insertContent(c,s),this.trigger("modalfill"),f?d.insertBefore(c,f):d.appendChild(c);var m=this.getChild("closeButton");m&&d.appendChild(m.el_)},o.empty=function(){this.trigger("beforemodalempty"),emptyEl(this.contentEl()),this.trigger("modalempty")},o.content=function(s){return typeof s<"u"&&(this.content_=s),this.content_},o.conditionalFocus_=function(){var s=document$2.activeElement,c=this.player_.el_;this.previouslyActiveEl_=null,(c.contains(s)||c===s)&&(this.previouslyActiveEl_=s,this.focus())},o.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},o.handleKeyDown=function(s){if(s.stopPropagation(),keycode.isEventKey(s,"Escape")&&this.closeable()){s.preventDefault(),this.close();return}if(keycode.isEventKey(s,"Tab")){for(var c=this.focusableEls_(),d=this.el_.querySelector(":focus"),f,m=0;m<c.length;m++)if(d===c[m]){f=m;break}document$2.activeElement===this.el_&&(f=0),s.shiftKey&&f===0?(c[c.length-1].focus(),s.preventDefault()):!s.shiftKey&&f===c.length-1&&(c[0].focus(),s.preventDefault())}},o.focusableEls_=function(){var s=this.el_.querySelectorAll("*");return Array.prototype.filter.call(s,function(c){return(c instanceof window$1$1.HTMLAnchorElement||c instanceof window$1$1.HTMLAreaElement)&&c.hasAttribute("href")||(c instanceof window$1$1.HTMLInputElement||c instanceof window$1$1.HTMLSelectElement||c instanceof window$1$1.HTMLTextAreaElement||c instanceof window$1$1.HTMLButtonElement)&&!c.hasAttribute("disabled")||c instanceof window$1$1.HTMLIFrameElement||c instanceof window$1$1.HTMLObjectElement||c instanceof window$1$1.HTMLEmbedElement||c.hasAttribute("tabindex")&&c.getAttribute("tabindex")!==-1||c.hasAttribute("contenteditable")})},a}(Component$1);ModalDialog.prototype.options_={pauseOnOpen:!0,temporary:!0};Component$1.registerComponent("ModalDialog",ModalDialog);var TrackList=function(l){_inheritsLoose(a,l);function a(u){var s;u===void 0&&(u=[]),s=l.call(this)||this,s.tracks_=[],Object.defineProperty(_assertThisInitialized$1(s),"length",{get:function(){return this.tracks_.length}});for(var c=0;c<u.length;c++)s.addTrack(u[c]);return s}var o=a.prototype;return o.addTrack=function(s){var c=this,d=this.tracks_.length;""+d in this||Object.defineProperty(this,d,{get:function(){return this.tracks_[d]}}),this.tracks_.indexOf(s)===-1&&(this.tracks_.push(s),this.trigger({track:s,type:"addtrack",target:this})),s.labelchange_=function(){c.trigger({track:s,type:"labelchange",target:c})},isEvented(s)&&s.addEventListener("labelchange",s.labelchange_)},o.removeTrack=function(s){for(var c,d=0,f=this.length;d<f;d++)if(this[d]===s){c=this[d],c.off&&c.off(),this.tracks_.splice(d,1);break}c&&this.trigger({track:c,type:"removetrack",target:this})},o.getTrackById=function(s){for(var c=null,d=0,f=this.length;d<f;d++){var m=this[d];if(m.id===s){c=m;break}}return c},a}(EventTarget$2);TrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var event in TrackList.prototype.allowedEvents_)TrackList.prototype["on"+event]=null;var disableOthers$1=function(a,o){for(var u=0;u<a.length;u++)!Object.keys(a[u]).length||o.id===a[u].id||(a[u].enabled=!1)},AudioTrackList=function(l){_inheritsLoose(a,l);function a(u){var s;u===void 0&&(u=[]);for(var c=u.length-1;c>=0;c--)if(u[c].enabled){disableOthers$1(u,u[c]);break}return s=l.call(this,u)||this,s.changing_=!1,s}var o=a.prototype;return o.addTrack=function(s){var c=this;s.enabled&&disableOthers$1(this,s),l.prototype.addTrack.call(this,s),s.addEventListener&&(s.enabledChange_=function(){c.changing_||(c.changing_=!0,disableOthers$1(c,s),c.changing_=!1,c.trigger("change"))},s.addEventListener("enabledchange",s.enabledChange_))},o.removeTrack=function(s){l.prototype.removeTrack.call(this,s),s.removeEventListener&&s.enabledChange_&&(s.removeEventListener("enabledchange",s.enabledChange_),s.enabledChange_=null)},a}(TrackList),disableOthers=function(a,o){for(var u=0;u<a.length;u++)!Object.keys(a[u]).length||o.id===a[u].id||(a[u].selected=!1)},VideoTrackList=function(l){_inheritsLoose(a,l);function a(u){var s;u===void 0&&(u=[]);for(var c=u.length-1;c>=0;c--)if(u[c].selected){disableOthers(u,u[c]);break}return s=l.call(this,u)||this,s.changing_=!1,Object.defineProperty(_assertThisInitialized$1(s),"selectedIndex",{get:function(){for(var f=0;f<this.length;f++)if(this[f].selected)return f;return-1},set:function(){}}),s}var o=a.prototype;return o.addTrack=function(s){var c=this;s.selected&&disableOthers(this,s),l.prototype.addTrack.call(this,s),s.addEventListener&&(s.selectedChange_=function(){c.changing_||(c.changing_=!0,disableOthers(c,s),c.changing_=!1,c.trigger("change"))},s.addEventListener("selectedchange",s.selectedChange_))},o.removeTrack=function(s){l.prototype.removeTrack.call(this,s),s.removeEventListener&&s.selectedChange_&&(s.removeEventListener("selectedchange",s.selectedChange_),s.selectedChange_=null)},a}(TrackList),TextTrackList=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.addTrack=function(s){var c=this;l.prototype.addTrack.call(this,s),this.queueChange_||(this.queueChange_=function(){return c.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return c.trigger("selectedlanguagechange")}),s.addEventListener("modechange",this.queueChange_);var d=["metadata","chapters"];d.indexOf(s.kind)===-1&&s.addEventListener("modechange",this.triggerSelectedlanguagechange_)},o.removeTrack=function(s){l.prototype.removeTrack.call(this,s),s.removeEventListener&&(this.queueChange_&&s.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&s.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},a}(TrackList),HtmlTrackElementList=function(){function l(o){o===void 0&&(o=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var u=0,s=o.length;u<s;u++)this.addTrackElement_(o[u])}var a=l.prototype;return a.addTrackElement_=function(u){var s=this.trackElements_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.trackElements_[s]}}),this.trackElements_.indexOf(u)===-1&&this.trackElements_.push(u)},a.getTrackElementByTrack_=function(u){for(var s,c=0,d=this.trackElements_.length;c<d;c++)if(u===this.trackElements_[c].track){s=this.trackElements_[c];break}return s},a.removeTrackElement_=function(u){for(var s=0,c=this.trackElements_.length;s<c;s++)if(u===this.trackElements_[s]){this.trackElements_[s].track&&typeof this.trackElements_[s].track.off=="function"&&this.trackElements_[s].track.off(),typeof this.trackElements_[s].off=="function"&&this.trackElements_[s].off(),this.trackElements_.splice(s,1);break}},l}(),TextTrackCueList=function(){function l(o){l.prototype.setCues_.call(this,o),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var a=l.prototype;return a.setCues_=function(u){var s=this.length||0,c=0,d=u.length;this.cues_=u,this.length_=u.length;var f=function(g){""+g in this||Object.defineProperty(this,""+g,{get:function(){return this.cues_[g]}})};if(s<d)for(c=s;c<d;c++)f.call(this,c)},a.getCueById=function(u){for(var s=null,c=0,d=this.length;c<d;c++){var f=this[c];if(f.id===u){s=f;break}}return s},l}(),VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},Track=function(l){_inheritsLoose(a,l);function a(o){var u;o===void 0&&(o={}),u=l.call(this)||this;var s={id:o.id||"vjs_track_"+newGUID(),kind:o.kind||"",language:o.language||""},c=o.label||"",d=function(g){Object.defineProperty(_assertThisInitialized$1(u),g,{get:function(){return s[g]},set:function(){}})};for(var f in s)d(f);return Object.defineProperty(_assertThisInitialized$1(u),"label",{get:function(){return c},set:function(g){g!==c&&(c=g,this.trigger("labelchange"))}}),u}return a}(EventTarget$2),parseUrl=function(a){var o=["protocol","hostname","port","pathname","search","hash","host"],u=document$2.createElement("a");u.href=a;for(var s={},c=0;c<o.length;c++)s[o[c]]=u[o[c]];return s.protocol==="http:"&&(s.host=s.host.replace(/:80$/,"")),s.protocol==="https:"&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=window$1$1.location.protocol),s.host||(s.host=window$1$1.location.host),s},getAbsoluteURL=function(a){if(!a.match(/^https?:\/\//)){var o=document$2.createElement("a");o.href=a,a=o.href}return a},getFileExtension=function(a){if(typeof a=="string"){var o=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,u=o.exec(a);if(u)return u.pop().toLowerCase()}return""},isCrossOrigin=function(a,o){o===void 0&&(o=window$1$1.location);var u=parseUrl(a),s=u.protocol===":"?o.protocol:u.protocol,c=s+u.host!==o.protocol+o.host;return c},Url=Object.freeze({__proto__:null,parseUrl,getAbsoluteURL,getFileExtension,isCrossOrigin}),parseCues=function(a,o){var u=new window$1$1.WebVTT.Parser(window$1$1,window$1$1.vttjs,window$1$1.WebVTT.StringDecoder()),s=[];u.oncue=function(c){o.addCue(c)},u.onparsingerror=function(c){s.push(c)},u.onflush=function(){o.trigger({type:"loadeddata",target:o})},u.parse(a),s.length>0&&(window$1$1.console&&window$1$1.console.groupCollapsed&&window$1$1.console.groupCollapsed("Text Track parsing errors for "+o.src),s.forEach(function(c){return log$1.error(c)}),window$1$1.console&&window$1$1.console.groupEnd&&window$1$1.console.groupEnd()),u.flush()},loadTrack=function(a,o){var u={uri:a},s=isCrossOrigin(a);s&&(u.cors=s);var c=o.tech_.crossOrigin()==="use-credentials";c&&(u.withCredentials=c),XHR(u,bind(this,function(d,f,m){if(d)return log$1.error(d,f);o.loaded_=!0,typeof window$1$1.WebVTT!="function"?o.tech_&&o.tech_.any(["vttjsloaded","vttjserror"],function(g){if(g.type==="vttjserror"){log$1.error("vttjs failed to load, stopping trying to process "+o.src);return}return parseCues(m,o)}):parseCues(m,o)}))},TextTrack=function(l){_inheritsLoose(a,l);function a(u){var s;if(u===void 0&&(u={}),!u.tech)throw new Error("A tech was not provided.");var c=mergeOptions$3(u,{kind:TextTrackKind[u.kind]||"subtitles",language:u.language||u.srclang||""}),d=TextTrackMode[c.mode]||"disabled",f=c.default;(c.kind==="metadata"||c.kind==="chapters")&&(d="hidden"),s=l.call(this,c)||this,s.tech_=c.tech,s.cues_=[],s.activeCues_=[],s.preload_=s.tech_.preloadTextTracks!==!1;var m=new TextTrackCueList(s.cues_),g=new TextTrackCueList(s.activeCues_),v=!1;s.timeupdateHandler=bind(_assertThisInitialized$1(s),function(_){if(_===void 0&&(_={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){_.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,v&&(this.trigger("cuechange"),v=!1),_.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var y=function(){s.stopTracking()};return s.tech_.one("dispose",y),d!=="disabled"&&s.startTracking(),Object.defineProperties(_assertThisInitialized$1(s),{default:{get:function(){return f},set:function(){}},mode:{get:function(){return d},set:function(b){TextTrackMode[b]&&d!==b&&(d=b,!this.preload_&&d!=="disabled"&&this.cues.length===0&&loadTrack(this.src,this),this.stopTracking(),d!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?m:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return g;for(var b=this.tech_.currentTime(),x=[],w=0,A=this.cues.length;w<A;w++){var D=this.cues[w];(D.startTime<=b&&D.endTime>=b||D.startTime===D.endTime&&D.startTime<=b&&D.startTime+.5>=b)&&x.push(D)}if(v=!1,x.length!==this.activeCues_.length)v=!0;else for(var I=0;I<x.length;I++)this.activeCues_.indexOf(x[I])===-1&&(v=!0);return this.activeCues_=x,g.setCues_(this.activeCues_),g},set:function(){}}}),c.src?(s.src=c.src,s.preload_||(s.loaded_=!0),(s.preload_||c.kind!=="subtitles"&&c.kind!=="captions")&&loadTrack(s.src,_assertThisInitialized$1(s))):s.loaded_=!0,s}var o=a.prototype;return o.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},o.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},o.addCue=function(s){var c=s;if(c.constructor&&c.constructor.name!=="VTTCue"){c=new window$1$1.vttjs.VTTCue(s.startTime,s.endTime,s.text);for(var d in s)d in c||(c[d]=s[d]);c.id=s.id,c.originalCue_=s}for(var f=this.tech_.textTracks(),m=0;m<f.length;m++)f[m]!==this&&f[m].removeCue(c);this.cues_.push(c),this.cues.setCues_(this.cues_)},o.removeCue=function(s){for(var c=this.cues_.length;c--;){var d=this.cues_[c];if(d===s||d.originalCue_&&d.originalCue_===s){this.cues_.splice(c,1),this.cues.setCues_(this.cues_);break}}},a}(Track);TextTrack.prototype.allowedEvents_={cuechange:"cuechange"};var AudioTrack=function(l){_inheritsLoose(a,l);function a(o){var u;o===void 0&&(o={});var s=mergeOptions$3(o,{kind:AudioTrackKind[o.kind]||""});u=l.call(this,s)||this;var c=!1;return Object.defineProperty(_assertThisInitialized$1(u),"enabled",{get:function(){return c},set:function(f){typeof f!="boolean"||f===c||(c=f,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.loaded_=!0,u}return a}(Track),VideoTrack=function(l){_inheritsLoose(a,l);function a(o){var u;o===void 0&&(o={});var s=mergeOptions$3(o,{kind:VideoTrackKind[o.kind]||""});u=l.call(this,s)||this;var c=!1;return Object.defineProperty(_assertThisInitialized$1(u),"selected",{get:function(){return c},set:function(f){typeof f!="boolean"||f===c||(c=f,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),u}return a}(Track),NONE=0,LOADING=1,LOADED=2,ERROR=3,HTMLTrackElement=function(l){_inheritsLoose(a,l);function a(o){var u;o===void 0&&(o={}),u=l.call(this)||this;var s,c=new TextTrack(o);return u.kind=c.kind,u.src=c.src,u.srclang=c.language,u.label=c.label,u.default=c.default,Object.defineProperties(_assertThisInitialized$1(u),{readyState:{get:function(){return s}},track:{get:function(){return c}}}),s=NONE,c.addEventListener("loadeddata",function(){s=LOADED,u.trigger({type:"load",target:_assertThisInitialized$1(u)})}),u}return a}(EventTarget$2);HTMLTrackElement.prototype.allowedEvents_={load:"load"};HTMLTrackElement.NONE=NONE;HTMLTrackElement.LOADING=LOADING;HTMLTrackElement.LOADED=LOADED;HTMLTrackElement.ERROR=ERROR;var NORMAL={audio:{ListClass:AudioTrackList,TrackClass:AudioTrack,capitalName:"Audio"},video:{ListClass:VideoTrackList,TrackClass:VideoTrack,capitalName:"Video"},text:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"Text"}};Object.keys(NORMAL).forEach(function(l){NORMAL[l].getterName=l+"Tracks",NORMAL[l].privateName=l+"Tracks_"});var REMOTE={remoteText:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:HtmlTrackElementList,TrackClass:HTMLTrackElement,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ALL=_extends$2({},NORMAL,REMOTE);REMOTE.names=Object.keys(REMOTE);NORMAL.names=Object.keys(NORMAL);ALL.names=[].concat(REMOTE.names).concat(NORMAL.names);function createTrackHelper(l,a,o,u,s){s===void 0&&(s={});var c=l.textTracks();s.kind=a,o&&(s.label=o),u&&(s.language=u),s.tech=l;var d=new ALL.text.TrackClass(s);return c.addTrack(d),d}var Tech$1=function(l){_inheritsLoose(a,l);function a(u,s){var c;return u===void 0&&(u={}),s===void 0&&(s=function(){}),u.reportTouchActivity=!1,c=l.call(this,null,u,s)||this,c.onDurationChange_=function(d){return c.onDurationChange(d)},c.trackProgress_=function(d){return c.trackProgress(d)},c.trackCurrentTime_=function(d){return c.trackCurrentTime(d)},c.stopTrackingCurrentTime_=function(d){return c.stopTrackingCurrentTime(d)},c.disposeSourceHandler_=function(d){return c.disposeSourceHandler(d)},c.queuedHanders_=new Set,c.hasStarted_=!1,c.on("playing",function(){this.hasStarted_=!0}),c.on("loadstart",function(){this.hasStarted_=!1}),ALL.names.forEach(function(d){var f=ALL[d];u&&u[f.getterName]&&(c[f.privateName]=u[f.getterName])}),c.featuresProgressEvents||c.manualProgressOn(),c.featuresTimeupdateEvents||c.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(d){u["native"+d+"Tracks"]===!1&&(c["featuresNative"+d+"Tracks"]=!1)}),u.nativeCaptions===!1||u.nativeTextTracks===!1?c.featuresNativeTextTracks=!1:(u.nativeCaptions===!0||u.nativeTextTracks===!0)&&(c.featuresNativeTextTracks=!0),c.featuresNativeTextTracks||c.emulateTextTracks(),c.preloadTextTracks=u.preloadTextTracks!==!1,c.autoRemoteTextTracks_=new ALL.text.ListClass,c.initTrackListeners(),u.nativeControlsForTouch||c.emitTapEvents(),c.constructor&&(c.name_=c.constructor.name||"Unknown Tech"),c}var o=a.prototype;return o.triggerSourceset=function(s){var c=this;this.isReady_||this.one("ready",function(){return c.setTimeout(function(){return c.triggerSourceset(s)},1)}),this.trigger({src:s,type:"sourceset"})},o.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},o.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},o.trackProgress=function(s){this.stopTrackingProgress(),this.progressInterval=this.setInterval(bind(this,function(){var c=this.bufferedPercent();this.bufferedPercent_!==c&&this.trigger("progress"),this.bufferedPercent_=c,c===1&&this.stopTrackingProgress()}),500)},o.onDurationChange=function(s){this.duration_=this.duration()},o.buffered=function(){return createTimeRanges(0,0)},o.bufferedPercent=function(){return bufferedPercent(this.buffered(),this.duration_)},o.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},o.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},o.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},o.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.dispose=function(){this.clearTracks(NORMAL.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),l.prototype.dispose.call(this)},o.clearTracks=function(s){var c=this;s=[].concat(s),s.forEach(function(d){for(var f=c[d+"Tracks"]()||[],m=f.length;m--;){var g=f[m];d==="text"&&c.removeRemoteTextTrack(g),f.removeTrack(g)}})},o.cleanupAutoTextTracks=function(){for(var s=this.autoRemoteTextTracks_||[],c=s.length;c--;){var d=s[c];this.removeRemoteTextTrack(d)}},o.reset=function(){},o.crossOrigin=function(){},o.setCrossOrigin=function(){},o.error=function(s){return s!==void 0&&(this.error_=new MediaError(s),this.trigger("error")),this.error_},o.played=function(){return this.hasStarted_?createTimeRanges(0,0):createTimeRanges()},o.play=function(){},o.setScrubbing=function(){},o.scrubbing=function(){},o.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.initTrackListeners=function(){var s=this;NORMAL.names.forEach(function(c){var d=NORMAL[c],f=function(){s.trigger(c+"trackchange")},m=s[d.getterName]();m.addEventListener("removetrack",f),m.addEventListener("addtrack",f),s.on("dispose",function(){m.removeEventListener("removetrack",f),m.removeEventListener("addtrack",f)})})},o.addWebVttScript_=function(){var s=this;if(!window$1$1.WebVTT)if(document$2.body.contains(this.el())){if(!this.options_["vtt.js"]&&isPlain(vtt)&&Object.keys(vtt).length>0){this.trigger("vttjsloaded");return}var c=document$2.createElement("script");c.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",c.onload=function(){s.trigger("vttjsloaded")},c.onerror=function(){s.trigger("vttjserror")},this.on("dispose",function(){c.onload=null,c.onerror=null}),window$1$1.WebVTT=!0,this.el().parentNode.appendChild(c)}else this.ready(this.addWebVttScript_)},o.emulateTextTracks=function(){var s=this,c=this.textTracks(),d=this.remoteTextTracks(),f=function(_){return c.addTrack(_.track)},m=function(_){return c.removeTrack(_.track)};d.on("addtrack",f),d.on("removetrack",m),this.addWebVttScript_();var g=function(){return s.trigger("texttrackchange")},v=function(){g();for(var _=0;_<c.length;_++){var b=c[_];b.removeEventListener("cuechange",g),b.mode==="showing"&&b.addEventListener("cuechange",g)}};v(),c.addEventListener("change",v),c.addEventListener("addtrack",v),c.addEventListener("removetrack",v),this.on("dispose",function(){d.off("addtrack",f),d.off("removetrack",m),c.removeEventListener("change",v),c.removeEventListener("addtrack",v),c.removeEventListener("removetrack",v);for(var y=0;y<c.length;y++){var _=c[y];_.removeEventListener("cuechange",g)}})},o.addTextTrack=function(s,c,d){if(!s)throw new Error("TextTrack kind is required but was not provided");return createTrackHelper(this,s,c,d)},o.createRemoteTextTrack=function(s){var c=mergeOptions$3(s,{tech:this});return new REMOTE.remoteTextEl.TrackClass(c)},o.addRemoteTextTrack=function(s,c){var d=this;s===void 0&&(s={});var f=this.createRemoteTextTrack(s);return c!==!0&&c!==!1&&(log$1.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),c=!0),this.remoteTextTrackEls().addTrackElement_(f),this.remoteTextTracks().addTrack(f.track),c!==!0&&this.ready(function(){return d.autoRemoteTextTracks_.addTrack(f.track)}),f},o.removeRemoteTextTrack=function(s){var c=this.remoteTextTrackEls().getTrackElementByTrack_(s);this.remoteTextTrackEls().removeTrackElement_(c),this.remoteTextTracks().removeTrack(s),this.autoRemoteTextTracks_.removeTrack(s)},o.getVideoPlaybackQuality=function(){return{}},o.requestPictureInPicture=function(){var s=this.options_.Promise||window$1$1.Promise;if(s)return s.reject()},o.disablePictureInPicture=function(){return!0},o.setDisablePictureInPicture=function(){},o.requestVideoFrameCallback=function(s){var c=this,d=newGUID();return!this.isReady_||this.paused()?(this.queuedHanders_.add(d),this.one("playing",function(){c.queuedHanders_.has(d)&&(c.queuedHanders_.delete(d),s())})):this.requestNamedAnimationFrame(d,s),d},o.cancelVideoFrameCallback=function(s){this.queuedHanders_.has(s)?this.queuedHanders_.delete(s):this.cancelNamedAnimationFrame(s)},o.setPoster=function(){},o.playsinline=function(){},o.setPlaysinline=function(){},o.overrideNativeAudioTracks=function(){},o.overrideNativeVideoTracks=function(){},o.canPlayType=function(){return""},a.canPlayType=function(){return""},a.canPlaySource=function(s,c){return a.canPlayType(s.type)},a.isTech=function(s){return s.prototype instanceof a||s instanceof a||s===a},a.registerTech=function(s,c){if(a.techs_||(a.techs_={}),!a.isTech(c))throw new Error("Tech "+s+" must be a Tech");if(!a.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!a.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return s=toTitleCase$1(s),a.techs_[s]=c,a.techs_[toLowerCase(s)]=c,s!=="Tech"&&a.defaultTechOrder_.push(s),c},a.getTech=function(s){if(s){if(a.techs_&&a.techs_[s])return a.techs_[s];if(s=toTitleCase$1(s),window$1$1&&window$1$1.videojs&&window$1$1.videojs[s])return log$1.warn("The "+s+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),window$1$1.videojs[s]}},a}(Component$1);ALL.names.forEach(function(l){var a=ALL[l];Tech$1.prototype[a.getterName]=function(){return this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName]}});Tech$1.prototype.featuresVolumeControl=!0;Tech$1.prototype.featuresMuteControl=!0;Tech$1.prototype.featuresFullscreenResize=!1;Tech$1.prototype.featuresPlaybackRate=!1;Tech$1.prototype.featuresProgressEvents=!1;Tech$1.prototype.featuresSourceset=!1;Tech$1.prototype.featuresTimeupdateEvents=!1;Tech$1.prototype.featuresNativeTextTracks=!1;Tech$1.prototype.featuresVideoFrameCallback=!1;Tech$1.withSourceHandlers=function(l){l.registerSourceHandler=function(o,u){var s=l.sourceHandlers;s||(s=l.sourceHandlers=[]),u===void 0&&(u=s.length),s.splice(u,0,o)},l.canPlayType=function(o){for(var u=l.sourceHandlers||[],s,c=0;c<u.length;c++)if(s=u[c].canPlayType(o),s)return s;return""},l.selectSourceHandler=function(o,u){for(var s=l.sourceHandlers||[],c,d=0;d<s.length;d++)if(c=s[d].canHandleSource(o,u),c)return s[d];return null},l.canPlaySource=function(o,u){var s=l.selectSourceHandler(o,u);return s?s.canHandleSource(o,u):""};var a=["seekable","seeking","duration"];a.forEach(function(o){var u=this[o];typeof u=="function"&&(this[o]=function(){return this.sourceHandler_&&this.sourceHandler_[o]?this.sourceHandler_[o].apply(this.sourceHandler_,arguments):u.apply(this,arguments)})},l.prototype),l.prototype.setSource=function(o){var u=l.selectSourceHandler(o,this.options_);u||(l.nativeSourceHandler?u=l.nativeSourceHandler:log$1.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),u!==l.nativeSourceHandler&&(this.currentSource_=o),this.sourceHandler_=u.handleSource(o,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},l.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Component$1.registerComponent("Tech",Tech$1);Tech$1.registerTech("Tech",Tech$1);Tech$1.defaultTechOrder_=[];var middlewares={},middlewareInstances={},TERMINATOR={};function use(l,a){middlewares[l]=middlewares[l]||[],middlewares[l].push(a)}function setSource(l,a,o){l.setTimeout(function(){return setSourceHelper(a,middlewares[a.type],o,l)},1)}function setTech(l,a){l.forEach(function(o){return o.setTech&&o.setTech(a)})}function get(l,a,o){return l.reduceRight(middlewareIterator(o),a[o]())}function set(l,a,o,u){return a[o](l.reduce(middlewareIterator(o),u))}function mediate(l,a,o,u){u===void 0&&(u=null);var s="call"+toTitleCase$1(o),c=l.reduce(middlewareIterator(s),u),d=c===TERMINATOR,f=d?null:a[o](c);return executeRight(l,o,f,d),f}var allowedGetters={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},allowedSetters={setCurrentTime:1,setMuted:1,setVolume:1},allowedMediators={play:1,pause:1};function middlewareIterator(l){return function(a,o){return a===TERMINATOR?TERMINATOR:o[l]?o[l](a):a}}function executeRight(l,a,o,u){for(var s=l.length-1;s>=0;s--){var c=l[s];c[a]&&c[a](u,o)}}function clearCacheForPlayer(l){middlewareInstances[l.id()]=null}function getOrCreateFactory(l,a){var o=middlewareInstances[l.id()],u=null;if(o==null)return u=a(l),middlewareInstances[l.id()]=[[a,u]],u;for(var s=0;s<o.length;s++){var c=o[s],d=c[0],f=c[1];d===a&&(u=f)}return u===null&&(u=a(l),o.push([a,u])),u}function setSourceHelper(l,a,o,u,s,c){l===void 0&&(l={}),a===void 0&&(a=[]),s===void 0&&(s=[]),c===void 0&&(c=!1);var d=a,f=d[0],m=d.slice(1);if(typeof f=="string")setSourceHelper(l,middlewares[f],o,u,s,c);else if(f){var g=getOrCreateFactory(u,f);if(!g.setSource)return s.push(g),setSourceHelper(l,m,o,u,s,c);g.setSource(assign({},l),function(v,y){if(v)return setSourceHelper(l,m,o,u,s,c);s.push(g),setSourceHelper(y,l.type===y.type?m:middlewares[y.type],o,u,s,c)})}else m.length?setSourceHelper(l,m,o,u,s,c):c?o(l,s):setSourceHelper(l,middlewares["*"],o,u,s,!0)}var MimetypesKind={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},getMimetype=function(a){a===void 0&&(a="");var o=getFileExtension(a),u=MimetypesKind[o.toLowerCase()];return u||""},findMimetype=function(a,o){if(!o)return"";if(a.cache_.source.src===o&&a.cache_.source.type)return a.cache_.source.type;var u=a.cache_.sources.filter(function(f){return f.src===o});if(u.length)return u[0].type;for(var s=a.$$("source"),c=0;c<s.length;c++){var d=s[c];if(d.type&&d.src&&d.src===o)return d.type}return getMimetype(o)},filterSource=function l(a){if(Array.isArray(a)){var o=[];a.forEach(function(u){u=l(u),Array.isArray(u)?o=o.concat(u):isObject(u)&&o.push(u)}),a=o}else typeof a=="string"&&a.trim()?a=[fixSource({src:a})]:isObject(a)&&typeof a.src=="string"&&a.src&&a.src.trim()?a=[fixSource(a)]:a=[];return a};function fixSource(l){if(!l.type){var a=getMimetype(l.src);a&&(l.type=a)}return l}var MediaLoader=function(l){_inheritsLoose(a,l);function a(o,u,s){var c,d=mergeOptions$3({createEl:!1},u);if(c=l.call(this,o,d,s)||this,!u.playerOptions.sources||u.playerOptions.sources.length===0)for(var f=0,m=u.playerOptions.techOrder;f<m.length;f++){var g=toTitleCase$1(m[f]),v=Tech$1.getTech(g);if(g||(v=Component$1.getComponent(g)),v&&v.isSupported()){o.loadTech_(g);break}}else o.src(u.playerOptions.sources);return c}return a}(Component$1);Component$1.registerComponent("MediaLoader",MediaLoader);var ClickableComponent=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.options_.controlText&&c.controlText(c.options_.controlText),c.handleMouseOver_=function(d){return c.handleMouseOver(d)},c.handleMouseOut_=function(d){return c.handleMouseOut(d)},c.handleClick_=function(d){return c.handleClick(d)},c.handleKeyDown_=function(d){return c.handleKeyDown(d)},c.emitTapEvents(),c.enable(),c}var o=a.prototype;return o.createEl=function(s,c,d){s===void 0&&(s="div"),c===void 0&&(c={}),d===void 0&&(d={}),c=assign({className:this.buildCSSClass(),tabIndex:0},c),s==="button"&&log$1.error("Creating a ClickableComponent with an HTML element of "+s+" is not supported; use a Button instead."),d=assign({role:"button"},d),this.tabIndex_=c.tabIndex;var f=createEl(s,c,d);return f.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(f),f},o.dispose=function(){this.controlTextEl_=null,l.prototype.dispose.call(this)},o.createControlTextEl=function(s){return this.controlTextEl_=createEl("span",{className:"vjs-control-text"},{"aria-live":"polite"}),s&&s.appendChild(this.controlTextEl_),this.controlText(this.controlText_,s),this.controlTextEl_},o.controlText=function(s,c){if(c===void 0&&(c=this.el()),s===void 0)return this.controlText_||"Need Text";var d=this.localize(s);this.controlText_=s,textContent(this.controlTextEl_,d),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&c.setAttribute("title",d)},o.buildCSSClass=function(){return"vjs-control vjs-button "+l.prototype.buildCSSClass.call(this)},o.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},o.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},o.handleLanguagechange=function(){this.controlText(this.controlText_)},o.handleClick=function(s){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},o.handleKeyDown=function(s){keycode.isEventKey(s,"Space")||keycode.isEventKey(s,"Enter")?(s.preventDefault(),s.stopPropagation(),this.trigger("click")):l.prototype.handleKeyDown.call(this,s)},a}(Component$1);Component$1.registerComponent("ClickableComponent",ClickableComponent);var PosterImage=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.update(),c.update_=function(d){return c.update(d)},u.on("posterchange",c.update_),c}var o=a.prototype;return o.dispose=function(){this.player().off("posterchange",this.update_),l.prototype.dispose.call(this)},o.createEl=function(){var s=createEl("div",{className:"vjs-poster",tabIndex:-1});return s},o.update=function(s){var c=this.player().poster();this.setSrc(c),c?this.show():this.hide()},o.setSrc=function(s){var c="";s&&(c='url("'+s+'")'),this.el_.style.backgroundImage=c},o.handleClick=function(s){if(this.player_.controls()){var c=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((IE_VERSION||IS_EDGE)&&c)&&this.player_.tech(!0).focus(),this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()}},a}(ClickableComponent);Component$1.registerComponent("PosterImage",PosterImage);var darkGray="#222",lightGray="#ccc",fontMap={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function constructColor(l,a){var o;if(l.length===4)o=l[1]+l[1]+l[2]+l[2]+l[3]+l[3];else if(l.length===7)o=l.slice(1);else throw new Error("Invalid color code provided, "+l+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(o.slice(0,2),16)+","+parseInt(o.slice(2,4),16)+","+parseInt(o.slice(4,6),16)+","+a+")"}function tryUpdateStyle(l,a,o){try{l.style[a]=o}catch{return}}var TextTrackDisplay=function(l){_inheritsLoose(a,l);function a(u,s,c){var d;d=l.call(this,u,s,c)||this;var f=function(g){return d.updateDisplay(g)};return u.on("loadstart",function(m){return d.toggleDisplay(m)}),u.on("texttrackchange",f),u.on("loadedmetadata",function(m){return d.preselectTrack(m)}),u.ready(bind(_assertThisInitialized$1(d),function(){if(u.tech_&&u.tech_.featuresNativeTextTracks){this.hide();return}u.on("fullscreenchange",f),u.on("playerresize",f),window$1$1.addEventListener("orientationchange",f),u.on("dispose",function(){return window$1$1.removeEventListener("orientationchange",f)});for(var m=this.options_.playerOptions.tracks||[],g=0;g<m.length;g++)this.player_.addRemoteTextTrack(m[g],!0);this.preselectTrack()})),d}var o=a.prototype;return o.preselectTrack=function(){for(var s={captions:1,subtitles:1},c=this.player_.textTracks(),d=this.player_.cache_.selectedLanguage,f,m,g,v=0;v<c.length;v++){var y=c[v];d&&d.enabled&&d.language&&d.language===y.language&&y.kind in s?y.kind===d.kind?g=y:g||(g=y):d&&!d.enabled?(g=null,f=null,m=null):y.default&&(y.kind==="descriptions"&&!f?f=y:y.kind in s&&!m&&(m=y))}g?g.mode="showing":m?m.mode="showing":f&&(f.mode="showing")},o.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},o.clearDisplay=function(){typeof window$1$1.WebVTT=="function"&&window$1$1.WebVTT.processCues(window$1$1,[],this.el_)},o.updateDisplay=function(){var s=this.player_.textTracks(),c=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),c){for(var d=[],f=0;f<s.length;++f){var m=s[f];m.mode==="showing"&&d.push(m)}this.updateForTrack(d);return}for(var g=null,v=null,y=s.length;y--;){var _=s[y];_.mode==="showing"&&(_.kind==="descriptions"?g=_:v=_)}v?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(v)):g&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(g))},o.updateDisplayState=function(s){for(var c=this.player_.textTrackSettings.getValues(),d=s.activeCues,f=d.length;f--;){var m=d[f];if(m){var g=m.displayState;if(c.color&&(g.firstChild.style.color=c.color),c.textOpacity&&tryUpdateStyle(g.firstChild,"color",constructColor(c.color||"#fff",c.textOpacity)),c.backgroundColor&&(g.firstChild.style.backgroundColor=c.backgroundColor),c.backgroundOpacity&&tryUpdateStyle(g.firstChild,"backgroundColor",constructColor(c.backgroundColor||"#000",c.backgroundOpacity)),c.windowColor&&(c.windowOpacity?tryUpdateStyle(g,"backgroundColor",constructColor(c.windowColor,c.windowOpacity)):g.style.backgroundColor=c.windowColor),c.edgeStyle&&(c.edgeStyle==="dropshadow"?g.firstChild.style.textShadow="2px 2px 3px "+darkGray+", 2px 2px 4px "+darkGray+", 2px 2px 5px "+darkGray:c.edgeStyle==="raised"?g.firstChild.style.textShadow="1px 1px "+darkGray+", 2px 2px "+darkGray+", 3px 3px "+darkGray:c.edgeStyle==="depressed"?g.firstChild.style.textShadow="1px 1px "+lightGray+", 0 1px "+lightGray+", -1px -1px "+darkGray+", 0 -1px "+darkGray:c.edgeStyle==="uniform"&&(g.firstChild.style.textShadow="0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray)),c.fontPercent&&c.fontPercent!==1){var v=window$1$1.parseFloat(g.style.fontSize);g.style.fontSize=v*c.fontPercent+"px",g.style.height="auto",g.style.top="auto"}c.fontFamily&&c.fontFamily!=="default"&&(c.fontFamily==="small-caps"?g.firstChild.style.fontVariant="small-caps":g.firstChild.style.fontFamily=fontMap[c.fontFamily])}}},o.updateForTrack=function(s){if(Array.isArray(s)||(s=[s]),!(typeof window$1$1.WebVTT!="function"||s.every(function(b){return!b.activeCues}))){for(var c=[],d=0;d<s.length;++d)for(var f=s[d],m=0;m<f.activeCues.length;++m)c.push(f.activeCues[m]);window$1$1.WebVTT.processCues(window$1$1,c,this.el_);for(var g=0;g<s.length;++g){for(var v=s[g],y=0;y<v.activeCues.length;++y){var _=v.activeCues[y].displayState;addClass(_,"vjs-text-track-cue"),addClass(_,"vjs-text-track-cue-"+(v.language?v.language:g)),v.language&&setAttribute(_,"lang",v.language)}this.player_.textTrackSettings&&this.updateDisplayState(v)}}},a}(Component$1);Component$1.registerComponent("TextTrackDisplay",TextTrackDisplay);var LoadingSpinner=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.createEl=function(){var s=this.player_.isAudio(),c=this.localize(s?"Audio Player":"Video Player"),d=createEl("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[c])}),f=l.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return f.appendChild(d),f},a}(Component$1);Component$1.registerComponent("LoadingSpinner",LoadingSpinner);var Button=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.createEl=function(s,c,d){c===void 0&&(c={}),d===void 0&&(d={}),s="button",c=assign({className:this.buildCSSClass()},c),d=assign({type:"button"},d);var f=createEl(s,c,d);return f.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(f),f},o.addChild=function(s,c){c===void 0&&(c={});var d=this.constructor.name;return log$1.warn("Adding an actionable (user controllable) child to a Button ("+d+") is not supported; use a ClickableComponent instead."),Component$1.prototype.addChild.call(this,s,c)},o.enable=function(){l.prototype.enable.call(this),this.el_.removeAttribute("disabled")},o.disable=function(){l.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},o.handleKeyDown=function(s){if(keycode.isEventKey(s,"Space")||keycode.isEventKey(s,"Enter")){s.stopPropagation();return}l.prototype.handleKeyDown.call(this,s)},a}(ClickableComponent);Component$1.registerComponent("Button",Button);var BigPlayButton=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.mouseused_=!1,c.on("mousedown",function(d){return c.handleMouseDown(d)}),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-big-play-button"},o.handleClick=function(s){var c=this.player_.play();if(this.mouseused_&&s.clientX&&s.clientY){var d=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;silencePromise(c),this.player_.tech(!0)&&!((IE_VERSION||IS_EDGE)&&d)&&this.player_.tech(!0).focus();return}var f=this.player_.getChild("controlBar"),m=f&&f.getChild("playToggle");if(!m){this.player_.tech(!0).focus();return}var g=function(){return m.focus()};isPromise(c)?c.then(g,function(){}):this.setTimeout(g,1)},o.handleKeyDown=function(s){this.mouseused_=!1,l.prototype.handleKeyDown.call(this,s)},o.handleMouseDown=function(s){this.mouseused_=!0},a}(Button);BigPlayButton.prototype.controlText_="Play Video";Component$1.registerComponent("BigPlayButton",BigPlayButton);var CloseButton=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.controlText(s&&s.controlText||c.localize("Close")),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-close-button "+l.prototype.buildCSSClass.call(this)},o.handleClick=function(s){this.trigger({type:"close",bubbles:!1})},o.handleKeyDown=function(s){keycode.isEventKey(s,"Esc")?(s.preventDefault(),s.stopPropagation(),this.trigger("click")):l.prototype.handleKeyDown.call(this,s)},a}(Button);Component$1.registerComponent("CloseButton",CloseButton);var PlayToggle=function(l){_inheritsLoose(a,l);function a(u,s){var c;return s===void 0&&(s={}),c=l.call(this,u,s)||this,s.replay=s.replay===void 0||s.replay,c.on(u,"play",function(d){return c.handlePlay(d)}),c.on(u,"pause",function(d){return c.handlePause(d)}),s.replay&&c.on(u,"ended",function(d){return c.handleEnded(d)}),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-play-control "+l.prototype.buildCSSClass.call(this)},o.handleClick=function(s){this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()},o.handleSeeked=function(s){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(s):this.handlePlay(s)},o.handlePlay=function(s){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},o.handlePause=function(s){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},o.handleEnded=function(s){var c=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(d){return c.handleSeeked(d)})},a}(Button);PlayToggle.prototype.controlText_="Play";Component$1.registerComponent("PlayToggle",PlayToggle);var defaultImplementation=function(a,o){a=a<0?0:a;var u=Math.floor(a%60),s=Math.floor(a/60%60),c=Math.floor(a/3600),d=Math.floor(o/60%60),f=Math.floor(o/3600);return(isNaN(a)||a===1/0)&&(c=s=u="-"),c=c>0||f>0?c+":":"",s=((c||d>=10)&&s<10?"0"+s:s)+":",u=u<10?"0"+u:u,c+s+u},implementation=defaultImplementation;function setFormatTime(l){implementation=l}function resetFormatTime(){implementation=defaultImplementation}function formatTime(l,a){return a===void 0&&(a=l),implementation(l,a)}var TimeDisplay=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.on(u,["timeupdate","ended"],function(d){return c.updateContent(d)}),c.updateTextNode_(),c}var o=a.prototype;return o.createEl=function(){var s=this.buildCSSClass(),c=l.prototype.createEl.call(this,"div",{className:s+" vjs-time-control vjs-control"}),d=createEl("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return c.appendChild(d),this.contentEl_=createEl("span",{className:s+"-display"},{"aria-live":"off",role:"presentation"}),c.appendChild(this.contentEl_),c},o.dispose=function(){this.contentEl_=null,this.textNode_=null,l.prototype.dispose.call(this)},o.updateTextNode_=function(s){var c=this;s===void 0&&(s=0),s=formatTime(s),this.formattedTime_!==s&&(this.formattedTime_=s,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(c.contentEl_){var d=c.textNode_;d&&c.contentEl_.firstChild!==d&&(d=null,log$1.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),c.textNode_=document$2.createTextNode(c.formattedTime_),c.textNode_&&(d?c.contentEl_.replaceChild(c.textNode_,d):c.contentEl_.appendChild(c.textNode_))}}))},o.updateContent=function(s){},a}(Component$1);TimeDisplay.prototype.labelText_="Time";TimeDisplay.prototype.controlText_="Time";Component$1.registerComponent("TimeDisplay",TimeDisplay);var CurrentTimeDisplay=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-current-time"},o.updateContent=function(s){var c;this.player_.ended()?c=this.player_.duration():c=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(c)},a}(TimeDisplay);CurrentTimeDisplay.prototype.labelText_="Current Time";CurrentTimeDisplay.prototype.controlText_="Current Time";Component$1.registerComponent("CurrentTimeDisplay",CurrentTimeDisplay);var DurationDisplay=function(l){_inheritsLoose(a,l);function a(u,s){var c;c=l.call(this,u,s)||this;var d=function(m){return c.updateContent(m)};return c.on(u,"durationchange",d),c.on(u,"loadstart",d),c.on(u,"loadedmetadata",d),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-duration"},o.updateContent=function(s){var c=this.player_.duration();this.updateTextNode_(c)},a}(TimeDisplay);DurationDisplay.prototype.labelText_="Duration";DurationDisplay.prototype.controlText_="Duration";Component$1.registerComponent("DurationDisplay",DurationDisplay);var TimeDivider=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.createEl=function(){var s=l.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),c=l.prototype.createEl.call(this,"div"),d=l.prototype.createEl.call(this,"span",{textContent:"/"});return c.appendChild(d),s.appendChild(c),s},a}(Component$1);Component$1.registerComponent("TimeDivider",TimeDivider);var RemainingTimeDisplay=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.on(u,"durationchange",function(d){return c.updateContent(d)}),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-remaining-time"},o.createEl=function(){var s=l.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&s.insertBefore(createEl("span",{},{"aria-hidden":!0},"-"),this.contentEl_),s},o.updateContent=function(s){if(typeof this.player_.duration()=="number"){var c;this.player_.ended()?c=0:this.player_.remainingTimeDisplay?c=this.player_.remainingTimeDisplay():c=this.player_.remainingTime(),this.updateTextNode_(c)}},a}(TimeDisplay);RemainingTimeDisplay.prototype.labelText_="Remaining Time";RemainingTimeDisplay.prototype.controlText_="Remaining Time";Component$1.registerComponent("RemainingTimeDisplay",RemainingTimeDisplay);var LiveDisplay=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.updateShowing(),c.on(c.player(),"durationchange",function(d){return c.updateShowing(d)}),c}var o=a.prototype;return o.createEl=function(){var s=l.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(createEl("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(document$2.createTextNode(this.localize("LIVE"))),s.appendChild(this.contentEl_),s},o.dispose=function(){this.contentEl_=null,l.prototype.dispose.call(this)},o.updateShowing=function(s){this.player().duration()===1/0?this.show():this.hide()},a}(Component$1);Component$1.registerComponent("LiveDisplay",LiveDisplay);var SeekToLive=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.updateLiveEdgeStatus(),c.player_.liveTracker&&(c.updateLiveEdgeStatusHandler_=function(d){return c.updateLiveEdgeStatus(d)},c.on(c.player_.liveTracker,"liveedgechange",c.updateLiveEdgeStatusHandler_)),c}var o=a.prototype;return o.createEl=function(){var s=l.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=createEl("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),s.appendChild(this.textEl_),s},o.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},o.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},o.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,l.prototype.dispose.call(this)},a}(Button);SeekToLive.prototype.controlText_="Seek to live, currently playing live";Component$1.registerComponent("SeekToLive",SeekToLive);var clamp=function(a,o,u){return a=Number(a),Math.min(u,Math.max(o,isNaN(a)?o:a))},Slider=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.handleMouseDown_=function(d){return c.handleMouseDown(d)},c.handleMouseUp_=function(d){return c.handleMouseUp(d)},c.handleKeyDown_=function(d){return c.handleKeyDown(d)},c.handleClick_=function(d){return c.handleClick(d)},c.handleMouseMove_=function(d){return c.handleMouseMove(d)},c.update_=function(d){return c.update(d)},c.bar=c.getChild(c.options_.barName),c.vertical(!!c.options_.vertical),c.enable(),c}var o=a.prototype;return o.enabled=function(){return this.enabled_},o.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},o.disable=function(){if(this.enabled()){var s=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(s,"mousemove",this.handleMouseMove_),this.off(s,"mouseup",this.handleMouseUp_),this.off(s,"touchmove",this.handleMouseMove_),this.off(s,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},o.createEl=function(s,c,d){return c===void 0&&(c={}),d===void 0&&(d={}),c.className=c.className+" vjs-slider",c=assign({tabIndex:0},c),d=assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},d),l.prototype.createEl.call(this,s,c,d)},o.handleMouseDown=function(s){var c=this.bar.el_.ownerDocument;s.type==="mousedown"&&s.preventDefault(),s.type==="touchstart"&&!IS_CHROME&&s.preventDefault(),blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(c,"mousemove",this.handleMouseMove_),this.on(c,"mouseup",this.handleMouseUp_),this.on(c,"touchmove",this.handleMouseMove_),this.on(c,"touchend",this.handleMouseUp_),this.handleMouseMove(s,!0)},o.handleMouseMove=function(s){},o.handleMouseUp=function(){var s=this.bar.el_.ownerDocument;unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(s,"mousemove",this.handleMouseMove_),this.off(s,"mouseup",this.handleMouseUp_),this.off(s,"touchmove",this.handleMouseMove_),this.off(s,"touchend",this.handleMouseUp_),this.update()},o.update=function(){var s=this;if(!(!this.el_||!this.bar)){var c=this.getProgress();return c===this.progress_||(this.progress_=c,this.requestNamedAnimationFrame("Slider#update",function(){var d=s.vertical()?"height":"width";s.bar.el().style[d]=(c*100).toFixed(2)+"%"})),c}},o.getProgress=function(){return Number(clamp(this.getPercent(),0,1).toFixed(4))},o.calculateDistance=function(s){var c=getPointerPosition(this.el_,s);return this.vertical()?c.y:c.x},o.handleKeyDown=function(s){keycode.isEventKey(s,"Left")||keycode.isEventKey(s,"Down")?(s.preventDefault(),s.stopPropagation(),this.stepBack()):keycode.isEventKey(s,"Right")||keycode.isEventKey(s,"Up")?(s.preventDefault(),s.stopPropagation(),this.stepForward()):l.prototype.handleKeyDown.call(this,s)},o.handleClick=function(s){s.stopPropagation(),s.preventDefault()},o.vertical=function(s){if(s===void 0)return this.vertical_||!1;this.vertical_=!!s,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},a}(Component$1);Component$1.registerComponent("Slider",Slider);var percentify=function(a,o){return clamp(a/o*100,0,100).toFixed(2)+"%"},LoadProgressBar=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.partEls_=[],c.on(u,"progress",function(d){return c.update(d)}),c}var o=a.prototype;return o.createEl=function(){var s=l.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),c=createEl("span",{className:"vjs-control-text"}),d=createEl("span",{textContent:this.localize("Loaded")}),f=document$2.createTextNode(": ");return this.percentageEl_=createEl("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),s.appendChild(c),c.appendChild(d),c.appendChild(f),c.appendChild(this.percentageEl_),s},o.dispose=function(){this.partEls_=null,this.percentageEl_=null,l.prototype.dispose.call(this)},o.update=function(s){var c=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var d=c.player_.liveTracker,f=c.player_.buffered(),m=d&&d.isLive()?d.seekableEnd():c.player_.duration(),g=c.player_.bufferedEnd(),v=c.partEls_,y=percentify(g,m);c.percent_!==y&&(c.el_.style.width=y,textContent(c.percentageEl_,y),c.percent_=y);for(var _=0;_<f.length;_++){var b=f.start(_),x=f.end(_),w=v[_];w||(w=c.el_.appendChild(createEl()),v[_]=w),!(w.dataset.start===b&&w.dataset.end===x)&&(w.dataset.start=b,w.dataset.end=x,w.style.left=percentify(b,g),w.style.width=percentify(x-b,g))}for(var A=v.length;A>f.length;A--)c.el_.removeChild(v[A-1]);v.length=f.length})},a}(Component$1);Component$1.registerComponent("LoadProgressBar",LoadProgressBar);var TimeTooltip=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.update=throttle(bind(_assertThisInitialized$1(c),c.update),UPDATE_REFRESH_INTERVAL),c}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},o.update=function(s,c,d){var f=findPosition(this.el_),m=getBoundingClientRect(this.player_.el()),g=s.width*c;if(!(!m||!f)){var v=s.left-m.left+g,y=s.width-g+(m.right-s.right),_=f.width/2;v<_?_+=_-v:y<_&&(_=y),_<0?_=0:_>f.width&&(_=f.width),_=Math.round(_),this.el_.style.right="-"+_+"px",this.write(d)}},o.write=function(s){textContent(this.el_,s)},o.updateTime=function(s,c,d,f){var m=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var g,v=m.player_.duration();if(m.player_.liveTracker&&m.player_.liveTracker.isLive()){var y=m.player_.liveTracker.liveWindow(),_=y-c*y;g=(_<1?"":"-")+formatTime(_,y)}else g=formatTime(d,v);m.update(s,c,g),f&&f()})},a}(Component$1);Component$1.registerComponent("TimeTooltip",TimeTooltip);var PlayProgressBar=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.update=throttle(bind(_assertThisInitialized$1(c),c.update),UPDATE_REFRESH_INTERVAL),c}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},o.update=function(s,c){var d=this.getChild("timeTooltip");if(d){var f=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();d.updateTime(s,c,f)}},a}(Component$1);PlayProgressBar.prototype.options_={children:[]};!IS_IOS&&!IS_ANDROID&&PlayProgressBar.prototype.options_.children.push("timeTooltip");Component$1.registerComponent("PlayProgressBar",PlayProgressBar);var MouseTimeDisplay=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.update=throttle(bind(_assertThisInitialized$1(c),c.update),UPDATE_REFRESH_INTERVAL),c}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},o.update=function(s,c){var d=this,f=c*this.player_.duration();this.getChild("timeTooltip").updateTime(s,c,f,function(){d.el_.style.left=s.width*c+"px"})},a}(Component$1);MouseTimeDisplay.prototype.options_={children:["timeTooltip"]};Component$1.registerComponent("MouseTimeDisplay",MouseTimeDisplay);var STEP_SECONDS=5,PAGE_KEY_MULTIPLIER=12,SeekBar=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.setEventHandlers_(),c}var o=a.prototype;return o.setEventHandlers_=function(){var s=this;this.update_=bind(this,this.update),this.update=throttle(this.update_,UPDATE_REFRESH_INTERVAL),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(c){return s.enableInterval_(c)},this.disableIntervalHandler_=function(c){return s.disableInterval_(c)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document$2&&"visibilityState"in document$2&&this.on(document$2,"visibilitychange",this.toggleVisibility_)},o.toggleVisibility_=function(s){document$2.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(s)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},o.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,UPDATE_REFRESH_INTERVAL))},o.disableInterval_=function(s){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&s&&s.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},o.update=function(s){var c=this;if(document$2.visibilityState!=="hidden"){var d=l.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var f=c.player_.ended()?c.player_.duration():c.getCurrentTime_(),m=c.player_.liveTracker,g=c.player_.duration();m&&m.isLive()&&(g=c.player_.liveTracker.liveCurrentTime()),c.percent_!==d&&(c.el_.setAttribute("aria-valuenow",(d*100).toFixed(2)),c.percent_=d),(c.currentTime_!==f||c.duration_!==g)&&(c.el_.setAttribute("aria-valuetext",c.localize("progress bar timing: currentTime={1} duration={2}",[formatTime(f,g),formatTime(g,g)],"{1} of {2}")),c.currentTime_=f,c.duration_=g),c.bar&&c.bar.update(getBoundingClientRect(c.el()),c.getProgress())}),d}},o.userSeek_=function(s){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(s)},o.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},o.getPercent=function(){var s=this.getCurrentTime_(),c,d=this.player_.liveTracker;return d&&d.isLive()?(c=(s-d.seekableStart())/d.liveWindow(),d.atLiveEdge()&&(c=1)):c=s/this.player_.duration(),c},o.handleMouseDown=function(s){isSingleLeftClick(s)&&(s.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),l.prototype.handleMouseDown.call(this,s))},o.handleMouseMove=function(s,c){if(c===void 0&&(c=!1),!!isSingleLeftClick(s)){!c&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var d,f=this.calculateDistance(s),m=this.player_.liveTracker;if(!m||!m.isLive())d=f*this.player_.duration(),d===this.player_.duration()&&(d=d-.1);else{if(f>=.99){m.seekToLiveEdge();return}var g=m.seekableStart(),v=m.liveCurrentTime();if(d=g+f*m.liveWindow(),d>=v&&(d=v),d<=g&&(d=g+.1),d===1/0)return}this.userSeek_(d)}},o.enable=function(){l.prototype.enable.call(this);var s=this.getChild("mouseTimeDisplay");s&&s.show()},o.disable=function(){l.prototype.disable.call(this);var s=this.getChild("mouseTimeDisplay");s&&s.hide()},o.handleMouseUp=function(s){l.prototype.handleMouseUp.call(this,s),s&&s.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?silencePromise(this.player_.play()):this.update_()},o.stepForward=function(){this.userSeek_(this.player_.currentTime()+STEP_SECONDS)},o.stepBack=function(){this.userSeek_(this.player_.currentTime()-STEP_SECONDS)},o.handleAction=function(s){this.player_.paused()?this.player_.play():this.player_.pause()},o.handleKeyDown=function(s){var c=this.player_.liveTracker;if(keycode.isEventKey(s,"Space")||keycode.isEventKey(s,"Enter"))s.preventDefault(),s.stopPropagation(),this.handleAction(s);else if(keycode.isEventKey(s,"Home"))s.preventDefault(),s.stopPropagation(),this.userSeek_(0);else if(keycode.isEventKey(s,"End"))s.preventDefault(),s.stopPropagation(),c&&c.isLive()?this.userSeek_(c.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(keycode(s))){s.preventDefault(),s.stopPropagation();var d=(keycode.codes[keycode(s)]-keycode.codes[0])*10/100;c&&c.isLive()?this.userSeek_(c.seekableStart()+c.liveWindow()*d):this.userSeek_(this.player_.duration()*d)}else keycode.isEventKey(s,"PgDn")?(s.preventDefault(),s.stopPropagation(),this.userSeek_(this.player_.currentTime()-STEP_SECONDS*PAGE_KEY_MULTIPLIER)):keycode.isEventKey(s,"PgUp")?(s.preventDefault(),s.stopPropagation(),this.userSeek_(this.player_.currentTime()+STEP_SECONDS*PAGE_KEY_MULTIPLIER)):l.prototype.handleKeyDown.call(this,s)},o.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document$2&&"visibilityState"in document$2&&this.off(document$2,"visibilitychange",this.toggleVisibility_),l.prototype.dispose.call(this)},a}(Slider);SeekBar.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!IS_IOS&&!IS_ANDROID&&SeekBar.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Component$1.registerComponent("SeekBar",SeekBar);var ProgressControl=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.handleMouseMove=throttle(bind(_assertThisInitialized$1(c),c.handleMouseMove),UPDATE_REFRESH_INTERVAL),c.throttledHandleMouseSeek=throttle(bind(_assertThisInitialized$1(c),c.handleMouseSeek),UPDATE_REFRESH_INTERVAL),c.handleMouseUpHandler_=function(d){return c.handleMouseUp(d)},c.handleMouseDownHandler_=function(d){return c.handleMouseDown(d)},c.enable(),c}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},o.handleMouseMove=function(s){var c=this.getChild("seekBar");if(c){var d=c.getChild("playProgressBar"),f=c.getChild("mouseTimeDisplay");if(!(!d&&!f)){var m=c.el(),g=findPosition(m),v=getPointerPosition(m,s).x;v=clamp(v,0,1),f&&f.update(g,v),d&&d.update(g,c.getProgress())}}},o.handleMouseSeek=function(s){var c=this.getChild("seekBar");c&&c.handleMouseMove(s)},o.enabled=function(){return this.enabled_},o.disable=function(){if(this.children().forEach(function(c){return c.disable&&c.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var s=this.getChild("seekBar");this.player_.scrubbing(!1),s.videoWasPlaying&&silencePromise(this.player_.play())}},o.enable=function(){this.children().forEach(function(s){return s.enable&&s.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},o.removeListenersAddedOnMousedownAndTouchstart=function(){var s=this.el_.ownerDocument;this.off(s,"mousemove",this.throttledHandleMouseSeek),this.off(s,"touchmove",this.throttledHandleMouseSeek),this.off(s,"mouseup",this.handleMouseUpHandler_),this.off(s,"touchend",this.handleMouseUpHandler_)},o.handleMouseDown=function(s){var c=this.el_.ownerDocument,d=this.getChild("seekBar");d&&d.handleMouseDown(s),this.on(c,"mousemove",this.throttledHandleMouseSeek),this.on(c,"touchmove",this.throttledHandleMouseSeek),this.on(c,"mouseup",this.handleMouseUpHandler_),this.on(c,"touchend",this.handleMouseUpHandler_)},o.handleMouseUp=function(s){var c=this.getChild("seekBar");c&&c.handleMouseUp(s),this.removeListenersAddedOnMousedownAndTouchstart()},a}(Component$1);ProgressControl.prototype.options_={children:["seekBar"]};Component$1.registerComponent("ProgressControl",ProgressControl);var PictureInPictureToggle=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.on(u,["enterpictureinpicture","leavepictureinpicture"],function(d){return c.handlePictureInPictureChange(d)}),c.on(u,["disablepictureinpicturechanged","loadedmetadata"],function(d){return c.handlePictureInPictureEnabledChange(d)}),c.on(u,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var d=u.currentType().substring(0,5)==="audio";d||u.audioPosterMode()||u.audioOnlyMode()?(u.isInPictureInPicture()&&u.exitPictureInPicture(),c.hide()):c.show()}),c.disable(),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-picture-in-picture-control "+l.prototype.buildCSSClass.call(this)},o.handlePictureInPictureEnabledChange=function(){document$2.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},o.handlePictureInPictureChange=function(s){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},o.handleClick=function(s){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},a}(Button);PictureInPictureToggle.prototype.controlText_="Picture-in-Picture";Component$1.registerComponent("PictureInPictureToggle",PictureInPictureToggle);var FullscreenToggle=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.on(u,"fullscreenchange",function(d){return c.handleFullscreenChange(d)}),document$2[u.fsApi_.fullscreenEnabled]===!1&&c.disable(),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-fullscreen-control "+l.prototype.buildCSSClass.call(this)},o.handleFullscreenChange=function(s){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},o.handleClick=function(s){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},a}(Button);FullscreenToggle.prototype.controlText_="Fullscreen";Component$1.registerComponent("FullscreenToggle",FullscreenToggle);var checkVolumeSupport=function(a,o){o.tech_&&!o.tech_.featuresVolumeControl&&a.addClass("vjs-hidden"),a.on(o,"loadstart",function(){o.tech_.featuresVolumeControl?a.removeClass("vjs-hidden"):a.addClass("vjs-hidden")})},VolumeLevel=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.createEl=function(){var s=l.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return s.appendChild(l.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),s},a}(Component$1);Component$1.registerComponent("VolumeLevel",VolumeLevel);var VolumeLevelTooltip=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.update=throttle(bind(_assertThisInitialized$1(c),c.update),UPDATE_REFRESH_INTERVAL),c}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},o.update=function(s,c,d,f){if(!d){var m=getBoundingClientRect(this.el_),g=getBoundingClientRect(this.player_.el()),v=s.width*c;if(!g||!m)return;var y=s.left-g.left+v,_=s.width-v+(g.right-s.right),b=m.width/2;y<b?b+=b-y:_<b&&(b=_),b<0?b=0:b>m.width&&(b=m.width),this.el_.style.right="-"+b+"px"}this.write(f+"%")},o.write=function(s){textContent(this.el_,s)},o.updateVolume=function(s,c,d,f,m){var g=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){g.update(s,c,d,f.toFixed(0)),m&&m()})},a}(Component$1);Component$1.registerComponent("VolumeLevelTooltip",VolumeLevelTooltip);var MouseVolumeLevelDisplay=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.update=throttle(bind(_assertThisInitialized$1(c),c.update),UPDATE_REFRESH_INTERVAL),c}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},o.update=function(s,c,d){var f=this,m=100*c;this.getChild("volumeLevelTooltip").updateVolume(s,c,d,m,function(){d?f.el_.style.bottom=s.height*c+"px":f.el_.style.left=s.width*c+"px"})},a}(Component$1);MouseVolumeLevelDisplay.prototype.options_={children:["volumeLevelTooltip"]};Component$1.registerComponent("MouseVolumeLevelDisplay",MouseVolumeLevelDisplay);var VolumeBar=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.on("slideractive",function(d){return c.updateLastVolume_(d)}),c.on(u,"volumechange",function(d){return c.updateARIAAttributes(d)}),u.ready(function(){return c.updateARIAAttributes()}),c}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},o.handleMouseDown=function(s){isSingleLeftClick(s)&&l.prototype.handleMouseDown.call(this,s)},o.handleMouseMove=function(s){var c=this.getChild("mouseVolumeLevelDisplay");if(c){var d=this.el(),f=getBoundingClientRect(d),m=this.vertical(),g=getPointerPosition(d,s);g=m?g.y:g.x,g=clamp(g,0,1),c.update(f,g,m)}isSingleLeftClick(s)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(s)))},o.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},o.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},o.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},o.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},o.updateARIAAttributes=function(s){var c=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",c),this.el_.setAttribute("aria-valuetext",c+"%")},o.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},o.updateLastVolume_=function(){var s=this,c=this.player_.volume();this.one("sliderinactive",function(){s.player_.volume()===0&&s.player_.lastVolume_(c)})},a}(Slider);VolumeBar.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!IS_IOS&&!IS_ANDROID&&VolumeBar.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");VolumeBar.prototype.playerEvent="volumechange";Component$1.registerComponent("VolumeBar",VolumeBar);var VolumeControl=function(l){_inheritsLoose(a,l);function a(u,s){var c;return s===void 0&&(s={}),s.vertical=s.vertical||!1,(typeof s.volumeBar>"u"||isPlain(s.volumeBar))&&(s.volumeBar=s.volumeBar||{},s.volumeBar.vertical=s.vertical),c=l.call(this,u,s)||this,checkVolumeSupport(_assertThisInitialized$1(c),u),c.throttledHandleMouseMove=throttle(bind(_assertThisInitialized$1(c),c.handleMouseMove),UPDATE_REFRESH_INTERVAL),c.handleMouseUpHandler_=function(d){return c.handleMouseUp(d)},c.on("mousedown",function(d){return c.handleMouseDown(d)}),c.on("touchstart",function(d){return c.handleMouseDown(d)}),c.on("mousemove",function(d){return c.handleMouseMove(d)}),c.on(c.volumeBar,["focus","slideractive"],function(){c.volumeBar.addClass("vjs-slider-active"),c.addClass("vjs-slider-active"),c.trigger("slideractive")}),c.on(c.volumeBar,["blur","sliderinactive"],function(){c.volumeBar.removeClass("vjs-slider-active"),c.removeClass("vjs-slider-active"),c.trigger("sliderinactive")}),c}var o=a.prototype;return o.createEl=function(){var s="vjs-volume-horizontal";return this.options_.vertical&&(s="vjs-volume-vertical"),l.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+s})},o.handleMouseDown=function(s){var c=this.el_.ownerDocument;this.on(c,"mousemove",this.throttledHandleMouseMove),this.on(c,"touchmove",this.throttledHandleMouseMove),this.on(c,"mouseup",this.handleMouseUpHandler_),this.on(c,"touchend",this.handleMouseUpHandler_)},o.handleMouseUp=function(s){var c=this.el_.ownerDocument;this.off(c,"mousemove",this.throttledHandleMouseMove),this.off(c,"touchmove",this.throttledHandleMouseMove),this.off(c,"mouseup",this.handleMouseUpHandler_),this.off(c,"touchend",this.handleMouseUpHandler_)},o.handleMouseMove=function(s){this.volumeBar.handleMouseMove(s)},a}(Component$1);VolumeControl.prototype.options_={children:["volumeBar"]};Component$1.registerComponent("VolumeControl",VolumeControl);var checkMuteSupport=function(a,o){o.tech_&&!o.tech_.featuresMuteControl&&a.addClass("vjs-hidden"),a.on(o,"loadstart",function(){o.tech_.featuresMuteControl?a.removeClass("vjs-hidden"):a.addClass("vjs-hidden")})},MuteToggle=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,checkMuteSupport(_assertThisInitialized$1(c),u),c.on(u,["loadstart","volumechange"],function(d){return c.update(d)}),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-mute-control "+l.prototype.buildCSSClass.call(this)},o.handleClick=function(s){var c=this.player_.volume(),d=this.player_.lastVolume_();if(c===0){var f=d<.1?.1:d;this.player_.volume(f),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},o.update=function(s){this.updateIcon_(),this.updateControlText_()},o.updateIcon_=function(){var s=this.player_.volume(),c=3;IS_IOS&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),s===0||this.player_.muted()?c=0:s<.33?c=1:s<.67&&(c=2);for(var d=0;d<4;d++)removeClass(this.el_,"vjs-vol-"+d);addClass(this.el_,"vjs-vol-"+c)},o.updateControlText_=function(){var s=this.player_.muted()||this.player_.volume()===0,c=s?"Unmute":"Mute";this.controlText()!==c&&this.controlText(c)},a}(Button);MuteToggle.prototype.controlText_="Mute";Component$1.registerComponent("MuteToggle",MuteToggle);var VolumePanel=function(l){_inheritsLoose(a,l);function a(u,s){var c;return s===void 0&&(s={}),typeof s.inline<"u"?s.inline=s.inline:s.inline=!0,(typeof s.volumeControl>"u"||isPlain(s.volumeControl))&&(s.volumeControl=s.volumeControl||{},s.volumeControl.vertical=!s.inline),c=l.call(this,u,s)||this,c.handleKeyPressHandler_=function(d){return c.handleKeyPress(d)},c.on(u,["loadstart"],function(d){return c.volumePanelState_(d)}),c.on(c.muteToggle,"keyup",function(d){return c.handleKeyPress(d)}),c.on(c.volumeControl,"keyup",function(d){return c.handleVolumeControlKeyUp(d)}),c.on("keydown",function(d){return c.handleKeyPress(d)}),c.on("mouseover",function(d){return c.handleMouseOver(d)}),c.on("mouseout",function(d){return c.handleMouseOut(d)}),c.on(c.volumeControl,["slideractive"],c.sliderActive_),c.on(c.volumeControl,["sliderinactive"],c.sliderInactive_),c}var o=a.prototype;return o.sliderActive_=function(){this.addClass("vjs-slider-active")},o.sliderInactive_=function(){this.removeClass("vjs-slider-active")},o.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},o.createEl=function(){var s="vjs-volume-panel-horizontal";return this.options_.inline||(s="vjs-volume-panel-vertical"),l.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+s})},o.dispose=function(){this.handleMouseOut(),l.prototype.dispose.call(this)},o.handleVolumeControlKeyUp=function(s){keycode.isEventKey(s,"Esc")&&this.muteToggle.focus()},o.handleMouseOver=function(s){this.addClass("vjs-hover"),on(document$2,"keyup",this.handleKeyPressHandler_)},o.handleMouseOut=function(s){this.removeClass("vjs-hover"),off(document$2,"keyup",this.handleKeyPressHandler_)},o.handleKeyPress=function(s){keycode.isEventKey(s,"Esc")&&this.handleMouseOut()},a}(Component$1);VolumePanel.prototype.options_={children:["muteToggle","volumeControl"]};Component$1.registerComponent("VolumePanel",VolumePanel);var Menu=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,s&&(c.menuButton_=s.menuButton),c.focusedChild_=-1,c.on("keydown",function(d){return c.handleKeyDown(d)}),c.boundHandleBlur_=function(d){return c.handleBlur(d)},c.boundHandleTapClick_=function(d){return c.handleTapClick(d)},c}var o=a.prototype;return o.addEventListenerForItem=function(s){s instanceof Component$1&&(this.on(s,"blur",this.boundHandleBlur_),this.on(s,["tap","click"],this.boundHandleTapClick_))},o.removeEventListenerForItem=function(s){s instanceof Component$1&&(this.off(s,"blur",this.boundHandleBlur_),this.off(s,["tap","click"],this.boundHandleTapClick_))},o.removeChild=function(s){typeof s=="string"&&(s=this.getChild(s)),this.removeEventListenerForItem(s),l.prototype.removeChild.call(this,s)},o.addItem=function(s){var c=this.addChild(s);c&&this.addEventListenerForItem(c)},o.createEl=function(){var s=this.options_.contentElType||"ul";this.contentEl_=createEl(s,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var c=l.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return c.appendChild(this.contentEl_),on(c,"click",function(d){d.preventDefault(),d.stopImmediatePropagation()}),c},o.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,l.prototype.dispose.call(this)},o.handleBlur=function(s){var c=s.relatedTarget||document$2.activeElement;if(!this.children().some(function(f){return f.el()===c})){var d=this.menuButton_;d&&d.buttonPressed_&&c!==d.el().firstChild&&d.unpressButton()}},o.handleTapClick=function(s){if(this.menuButton_){this.menuButton_.unpressButton();var c=this.children();if(!Array.isArray(c))return;var d=c.filter(function(f){return f.el()===s.target})[0];if(!d)return;d.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},o.handleKeyDown=function(s){keycode.isEventKey(s,"Left")||keycode.isEventKey(s,"Down")?(s.preventDefault(),s.stopPropagation(),this.stepForward()):(keycode.isEventKey(s,"Right")||keycode.isEventKey(s,"Up"))&&(s.preventDefault(),s.stopPropagation(),this.stepBack())},o.stepForward=function(){var s=0;this.focusedChild_!==void 0&&(s=this.focusedChild_+1),this.focus(s)},o.stepBack=function(){var s=0;this.focusedChild_!==void 0&&(s=this.focusedChild_-1),this.focus(s)},o.focus=function(s){s===void 0&&(s=0);var c=this.children().slice(),d=c.length&&c[0].hasClass("vjs-menu-title");d&&c.shift(),c.length>0&&(s<0?s=0:s>=c.length&&(s=c.length-1),this.focusedChild_=s,c[s].el_.focus())},a}(Component$1);Component$1.registerComponent("Menu",Menu);var MenuButton=function(l){_inheritsLoose(a,l);function a(u,s){var c;s===void 0&&(s={}),c=l.call(this,u,s)||this,c.menuButton_=new Button(u,s),c.menuButton_.controlText(c.controlText_),c.menuButton_.el_.setAttribute("aria-haspopup","true");var d=Button.prototype.buildCSSClass();c.menuButton_.el_.className=c.buildCSSClass()+" "+d,c.menuButton_.removeClass("vjs-control"),c.addChild(c.menuButton_),c.update(),c.enabled_=!0;var f=function(g){return c.handleClick(g)};return c.handleMenuKeyUp_=function(m){return c.handleMenuKeyUp(m)},c.on(c.menuButton_,"tap",f),c.on(c.menuButton_,"click",f),c.on(c.menuButton_,"keydown",function(m){return c.handleKeyDown(m)}),c.on(c.menuButton_,"mouseenter",function(){c.addClass("vjs-hover"),c.menu.show(),on(document$2,"keyup",c.handleMenuKeyUp_)}),c.on("mouseleave",function(m){return c.handleMouseLeave(m)}),c.on("keydown",function(m){return c.handleSubmenuKeyDown(m)}),c}var o=a.prototype;return o.update=function(){var s=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=s,this.addChild(s),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},o.createMenu=function(){var s=new Menu(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var c=createEl("li",{className:"vjs-menu-title",textContent:toTitleCase$1(this.options_.title),tabIndex:-1}),d=new Component$1(this.player_,{el:c});s.addItem(d)}if(this.items=this.createItems(),this.items)for(var f=0;f<this.items.length;f++)s.addItem(this.items[f]);return s},o.createItems=function(){},o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},o.buildWrapperCSSClass=function(){var s="vjs-menu-button";this.options_.inline===!0?s+="-inline":s+="-popup";var c=Button.prototype.buildCSSClass();return"vjs-menu-button "+s+" "+c+" "+l.prototype.buildCSSClass.call(this)},o.buildCSSClass=function(){var s="vjs-menu-button";return this.options_.inline===!0?s+="-inline":s+="-popup","vjs-menu-button "+s+" "+l.prototype.buildCSSClass.call(this)},o.controlText=function(s,c){return c===void 0&&(c=this.menuButton_.el()),this.menuButton_.controlText(s,c)},o.dispose=function(){this.handleMouseLeave(),l.prototype.dispose.call(this)},o.handleClick=function(s){this.buttonPressed_?this.unpressButton():this.pressButton()},o.handleMouseLeave=function(s){this.removeClass("vjs-hover"),off(document$2,"keyup",this.handleMenuKeyUp_)},o.focus=function(){this.menuButton_.focus()},o.blur=function(){this.menuButton_.blur()},o.handleKeyDown=function(s){keycode.isEventKey(s,"Esc")||keycode.isEventKey(s,"Tab")?(this.buttonPressed_&&this.unpressButton(),keycode.isEventKey(s,"Tab")||(s.preventDefault(),this.menuButton_.focus())):(keycode.isEventKey(s,"Up")||keycode.isEventKey(s,"Down"))&&(this.buttonPressed_||(s.preventDefault(),this.pressButton()))},o.handleMenuKeyUp=function(s){(keycode.isEventKey(s,"Esc")||keycode.isEventKey(s,"Tab"))&&this.removeClass("vjs-hover")},o.handleSubmenuKeyPress=function(s){this.handleSubmenuKeyDown(s)},o.handleSubmenuKeyDown=function(s){(keycode.isEventKey(s,"Esc")||keycode.isEventKey(s,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),keycode.isEventKey(s,"Tab")||(s.preventDefault(),this.menuButton_.focus()))},o.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),IS_IOS&&isInFrame())return;this.menu.focus()}},o.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},o.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},o.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},a}(Component$1);Component$1.registerComponent("MenuButton",MenuButton);var TrackButton=function(l){_inheritsLoose(a,l);function a(o,u){var s,c=u.tracks;if(s=l.call(this,o,u)||this,s.items.length<=1&&s.hide(),!c)return _assertThisInitialized$1(s);var d=bind(_assertThisInitialized$1(s),s.update);return c.addEventListener("removetrack",d),c.addEventListener("addtrack",d),c.addEventListener("labelchange",d),s.player_.on("ready",d),s.player_.on("dispose",function(){c.removeEventListener("removetrack",d),c.removeEventListener("addtrack",d),c.removeEventListener("labelchange",d)}),s}return a}(MenuButton);Component$1.registerComponent("TrackButton",TrackButton);var MenuKeys=["Tab","Esc","Up","Down","Right","Left"],MenuItem=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.selectable=s.selectable,c.isSelected_=s.selected||!1,c.multiSelectable=s.multiSelectable,c.selected(c.isSelected_),c.selectable?c.multiSelectable?c.el_.setAttribute("role","menuitemcheckbox"):c.el_.setAttribute("role","menuitemradio"):c.el_.setAttribute("role","menuitem"),c}var o=a.prototype;return o.createEl=function(s,c,d){this.nonIconControl=!0;var f=l.prototype.createEl.call(this,"li",assign({className:"vjs-menu-item",tabIndex:-1},c),d);return f.replaceChild(createEl("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),f.querySelector(".vjs-icon-placeholder")),f},o.handleKeyDown=function(s){MenuKeys.some(function(c){return keycode.isEventKey(s,c)})||l.prototype.handleKeyDown.call(this,s)},o.handleClick=function(s){this.selected(!0)},o.selected=function(s){this.selectable&&(s?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},a}(ClickableComponent);Component$1.registerComponent("MenuItem",MenuItem);var TextTrackMenuItem=function(l){_inheritsLoose(a,l);function a(u,s){var c,d=s.track,f=u.textTracks();s.label=d.label||d.language||"Unknown",s.selected=d.mode==="showing",c=l.call(this,u,s)||this,c.track=d,c.kinds=(s.kinds||[s.kind||c.track.kind]).filter(Boolean);var m=function(){for(var _=arguments.length,b=new Array(_),x=0;x<_;x++)b[x]=arguments[x];c.handleTracksChange.apply(_assertThisInitialized$1(c),b)},g=function(){for(var _=arguments.length,b=new Array(_),x=0;x<_;x++)b[x]=arguments[x];c.handleSelectedLanguageChange.apply(_assertThisInitialized$1(c),b)};if(u.on(["loadstart","texttrackchange"],m),f.addEventListener("change",m),f.addEventListener("selectedlanguagechange",g),c.on("dispose",function(){u.off(["loadstart","texttrackchange"],m),f.removeEventListener("change",m),f.removeEventListener("selectedlanguagechange",g)}),f.onchange===void 0){var v;c.on(["tap","click"],function(){if(typeof window$1$1.Event!="object")try{v=new window$1$1.Event("change")}catch{}v||(v=document$2.createEvent("Event"),v.initEvent("change",!0,!0)),f.dispatchEvent(v)})}return c.handleTracksChange(),c}var o=a.prototype;return o.handleClick=function(s){var c=this.track,d=this.player_.textTracks();if(l.prototype.handleClick.call(this,s),!!d)for(var f=0;f<d.length;f++){var m=d[f];this.kinds.indexOf(m.kind)!==-1&&(m===c?m.mode!=="showing"&&(m.mode="showing"):m.mode!=="disabled"&&(m.mode="disabled"))}},o.handleTracksChange=function(s){var c=this.track.mode==="showing";c!==this.isSelected_&&this.selected(c)},o.handleSelectedLanguageChange=function(s){if(this.track.mode==="showing"){var c=this.player_.cache_.selectedLanguage;if(c&&c.enabled&&c.language===this.track.language&&c.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},o.dispose=function(){this.track=null,l.prototype.dispose.call(this)},a}(MenuItem);Component$1.registerComponent("TextTrackMenuItem",TextTrackMenuItem);var OffTextTrackMenuItem=function(l){_inheritsLoose(a,l);function a(u,s){return s.track={player:u,kind:s.kind,kinds:s.kinds,default:!1,mode:"disabled"},s.kinds||(s.kinds=[s.kind]),s.label?s.track.label=s.label:s.track.label=s.kinds.join(" and ")+" off",s.selectable=!0,s.multiSelectable=!1,l.call(this,u,s)||this}var o=a.prototype;return o.handleTracksChange=function(s){for(var c=this.player().textTracks(),d=!0,f=0,m=c.length;f<m;f++){var g=c[f];if(this.options_.kinds.indexOf(g.kind)>-1&&g.mode==="showing"){d=!1;break}}d!==this.isSelected_&&this.selected(d)},o.handleSelectedLanguageChange=function(s){for(var c=this.player().textTracks(),d=!0,f=0,m=c.length;f<m;f++){var g=c[f];if(["captions","descriptions","subtitles"].indexOf(g.kind)>-1&&g.mode==="showing"){d=!1;break}}d&&(this.player_.cache_.selectedLanguage={enabled:!1})},a}(TextTrackMenuItem);Component$1.registerComponent("OffTextTrackMenuItem",OffTextTrackMenuItem);var TextTrackButton=function(l){_inheritsLoose(a,l);function a(u,s){return s===void 0&&(s={}),s.tracks=u.textTracks(),l.call(this,u,s)||this}var o=a.prototype;return o.createItems=function(s,c){s===void 0&&(s=[]),c===void 0&&(c=TextTrackMenuItem);var d;this.label_&&(d=this.label_+" off"),s.push(new OffTextTrackMenuItem(this.player_,{kinds:this.kinds_,kind:this.kind_,label:d})),this.hideThreshold_+=1;var f=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var m=0;m<f.length;m++){var g=f[m];if(this.kinds_.indexOf(g.kind)>-1){var v=new c(this.player_,{track:g,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});v.addClass("vjs-"+g.kind+"-menu-item"),s.push(v)}}return s},a}(TrackButton);Component$1.registerComponent("TextTrackButton",TextTrackButton);var ChaptersTrackMenuItem=function(l){_inheritsLoose(a,l);function a(u,s){var c,d=s.track,f=s.cue,m=u.currentTime();return s.selectable=!0,s.multiSelectable=!1,s.label=f.text,s.selected=f.startTime<=m&&m<f.endTime,c=l.call(this,u,s)||this,c.track=d,c.cue=f,c}var o=a.prototype;return o.handleClick=function(s){l.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},a}(MenuItem);Component$1.registerComponent("ChaptersTrackMenuItem",ChaptersTrackMenuItem);var ChaptersButton=function(l){_inheritsLoose(a,l);function a(u,s,c){var d;return d=l.call(this,u,s,c)||this,d.selectCurrentItem_=function(){d.items.forEach(function(f){f.selected(d.track_.activeCues[0]===f.cue)})},d}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-chapters-button "+l.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-chapters-button "+l.prototype.buildWrapperCSSClass.call(this)},o.update=function(s){if(!(s&&s.track&&s.track.kind!=="chapters")){var c=this.findChaptersTrack();c!==this.track_?(this.setTrack(c),l.prototype.update.call(this)):(!this.items||c&&c.cues&&c.cues.length!==this.items.length)&&l.prototype.update.call(this)}},o.setTrack=function(s){if(this.track_!==s){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var c=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);c&&c.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=s,this.track_){this.track_.mode="hidden";var d=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);d&&d.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},o.findChaptersTrack=function(){for(var s=this.player_.textTracks()||[],c=s.length-1;c>=0;c--){var d=s[c];if(d.kind===this.kind_)return d}},o.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(toTitleCase$1(this.kind_))},o.createMenu=function(){return this.options_.title=this.getMenuCaption(),l.prototype.createMenu.call(this)},o.createItems=function(){var s=[];if(!this.track_)return s;var c=this.track_.cues;if(!c)return s;for(var d=0,f=c.length;d<f;d++){var m=c[d],g=new ChaptersTrackMenuItem(this.player_,{track:this.track_,cue:m});s.push(g)}return s},a}(TextTrackButton);ChaptersButton.prototype.kind_="chapters";ChaptersButton.prototype.controlText_="Chapters";Component$1.registerComponent("ChaptersButton",ChaptersButton);var DescriptionsButton=function(l){_inheritsLoose(a,l);function a(u,s,c){var d;d=l.call(this,u,s,c)||this;var f=u.textTracks(),m=bind(_assertThisInitialized$1(d),d.handleTracksChange);return f.addEventListener("change",m),d.on("dispose",function(){f.removeEventListener("change",m)}),d}var o=a.prototype;return o.handleTracksChange=function(s){for(var c=this.player().textTracks(),d=!1,f=0,m=c.length;f<m;f++){var g=c[f];if(g.kind!==this.kind_&&g.mode==="showing"){d=!0;break}}d?this.disable():this.enable()},o.buildCSSClass=function(){return"vjs-descriptions-button "+l.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+l.prototype.buildWrapperCSSClass.call(this)},a}(TextTrackButton);DescriptionsButton.prototype.kind_="descriptions";DescriptionsButton.prototype.controlText_="Descriptions";Component$1.registerComponent("DescriptionsButton",DescriptionsButton);var SubtitlesButton=function(l){_inheritsLoose(a,l);function a(u,s,c){return l.call(this,u,s,c)||this}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-subtitles-button "+l.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+l.prototype.buildWrapperCSSClass.call(this)},a}(TextTrackButton);SubtitlesButton.prototype.kind_="subtitles";SubtitlesButton.prototype.controlText_="Subtitles";Component$1.registerComponent("SubtitlesButton",SubtitlesButton);var CaptionSettingsMenuItem=function(l){_inheritsLoose(a,l);function a(u,s){var c;return s.track={player:u,kind:s.kind,label:s.kind+" settings",selectable:!1,default:!1,mode:"disabled"},s.selectable=!1,s.name="CaptionSettingsMenuItem",c=l.call(this,u,s)||this,c.addClass("vjs-texttrack-settings"),c.controlText(", opens "+s.kind+" settings dialog"),c}var o=a.prototype;return o.handleClick=function(s){this.player().getChild("textTrackSettings").open()},a}(TextTrackMenuItem);Component$1.registerComponent("CaptionSettingsMenuItem",CaptionSettingsMenuItem);var CaptionsButton=function(l){_inheritsLoose(a,l);function a(u,s,c){return l.call(this,u,s,c)||this}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-captions-button "+l.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-captions-button "+l.prototype.buildWrapperCSSClass.call(this)},o.createItems=function(){var s=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(s.push(new CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),l.prototype.createItems.call(this,s)},a}(TextTrackButton);CaptionsButton.prototype.kind_="captions";CaptionsButton.prototype.controlText_="Captions";Component$1.registerComponent("CaptionsButton",CaptionsButton);var SubsCapsMenuItem=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.createEl=function(s,c,d){var f=l.prototype.createEl.call(this,s,c,d),m=f.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(m.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),m.appendChild(createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),f},a}(TextTrackMenuItem);Component$1.registerComponent("SubsCapsMenuItem",SubsCapsMenuItem);var SubsCapsButton=function(l){_inheritsLoose(a,l);function a(u,s){var c;return s===void 0&&(s={}),c=l.call(this,u,s)||this,c.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(c.player_.language_)>-1&&(c.label_="captions"),c.menuButton_.controlText(toTitleCase$1(c.label_)),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-subs-caps-button "+l.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+l.prototype.buildWrapperCSSClass.call(this)},o.createItems=function(){var s=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(s.push(new CaptionSettingsMenuItem(this.player_,{kind:this.label_})),this.hideThreshold_+=1),s=l.prototype.createItems.call(this,s,SubsCapsMenuItem),s},a}(TextTrackButton);SubsCapsButton.prototype.kinds_=["captions","subtitles"];SubsCapsButton.prototype.controlText_="Subtitles";Component$1.registerComponent("SubsCapsButton",SubsCapsButton);var AudioTrackMenuItem=function(l){_inheritsLoose(a,l);function a(u,s){var c,d=s.track,f=u.audioTracks();s.label=d.label||d.language||"Unknown",s.selected=d.enabled,c=l.call(this,u,s)||this,c.track=d,c.addClass("vjs-"+d.kind+"-menu-item");var m=function(){for(var v=arguments.length,y=new Array(v),_=0;_<v;_++)y[_]=arguments[_];c.handleTracksChange.apply(_assertThisInitialized$1(c),y)};return f.addEventListener("change",m),c.on("dispose",function(){f.removeEventListener("change",m)}),c}var o=a.prototype;return o.createEl=function(s,c,d){var f=l.prototype.createEl.call(this,s,c,d),m=f.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(m.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),m.appendChild(createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),f},o.handleClick=function(s){if(l.prototype.handleClick.call(this,s),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var c=this.player_.audioTracks(),d=0;d<c.length;d++){var f=c[d];f!==this.track&&(f.enabled=f===this.track)}},o.handleTracksChange=function(s){this.selected(this.track.enabled)},a}(MenuItem);Component$1.registerComponent("AudioTrackMenuItem",AudioTrackMenuItem);var AudioTrackButton=function(l){_inheritsLoose(a,l);function a(u,s){return s===void 0&&(s={}),s.tracks=u.audioTracks(),l.call(this,u,s)||this}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-audio-button "+l.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-audio-button "+l.prototype.buildWrapperCSSClass.call(this)},o.createItems=function(s){s===void 0&&(s=[]),this.hideThreshold_=1;for(var c=this.player_.audioTracks(),d=0;d<c.length;d++){var f=c[d];s.push(new AudioTrackMenuItem(this.player_,{track:f,selectable:!0,multiSelectable:!1}))}return s},a}(TrackButton);AudioTrackButton.prototype.controlText_="Audio Track";Component$1.registerComponent("AudioTrackButton",AudioTrackButton);var PlaybackRateMenuItem=function(l){_inheritsLoose(a,l);function a(u,s){var c,d=s.rate,f=parseFloat(d,10);return s.label=d,s.selected=f===u.playbackRate(),s.selectable=!0,s.multiSelectable=!1,c=l.call(this,u,s)||this,c.label=d,c.rate=f,c.on(u,"ratechange",function(m){return c.update(m)}),c}var o=a.prototype;return o.handleClick=function(s){l.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},o.update=function(s){this.selected(this.player().playbackRate()===this.rate)},a}(MenuItem);PlaybackRateMenuItem.prototype.contentElType="button";Component$1.registerComponent("PlaybackRateMenuItem",PlaybackRateMenuItem);var PlaybackRateMenuButton=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.menuButton_.el_.setAttribute("aria-describedby",c.labelElId_),c.updateVisibility(),c.updateLabel(),c.on(u,"loadstart",function(d){return c.updateVisibility(d)}),c.on(u,"ratechange",function(d){return c.updateLabel(d)}),c.on(u,"playbackrateschange",function(d){return c.handlePlaybackRateschange(d)}),c}var o=a.prototype;return o.createEl=function(){var s=l.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=createEl("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),s.appendChild(this.labelEl_),s},o.dispose=function(){this.labelEl_=null,l.prototype.dispose.call(this)},o.buildCSSClass=function(){return"vjs-playback-rate "+l.prototype.buildCSSClass.call(this)},o.buildWrapperCSSClass=function(){return"vjs-playback-rate "+l.prototype.buildWrapperCSSClass.call(this)},o.createItems=function(){for(var s=this.playbackRates(),c=[],d=s.length-1;d>=0;d--)c.push(new PlaybackRateMenuItem(this.player(),{rate:s[d]+"x"}));return c},o.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},o.handleClick=function(s){var c=this.player().playbackRate(),d=this.playbackRates(),f=d.indexOf(c),m=(f+1)%d.length;this.player().playbackRate(d[m])},o.handlePlaybackRateschange=function(s){this.update()},o.playbackRates=function(){var s=this.player();return s.playbackRates&&s.playbackRates()||[]},o.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},o.updateVisibility=function(s){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},o.updateLabel=function(s){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},a}(MenuButton);PlaybackRateMenuButton.prototype.controlText_="Playback Rate";Component$1.registerComponent("PlaybackRateMenuButton",PlaybackRateMenuButton);var Spacer=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-spacer "+l.prototype.buildCSSClass.call(this)},o.createEl=function(s,c,d){return s===void 0&&(s="div"),c===void 0&&(c={}),d===void 0&&(d={}),c.className||(c.className=this.buildCSSClass()),l.prototype.createEl.call(this,s,c,d)},a}(Component$1);Component$1.registerComponent("Spacer",Spacer);var CustomControlSpacer=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-custom-control-spacer "+l.prototype.buildCSSClass.call(this)},o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},a}(Spacer);Component$1.registerComponent("CustomControlSpacer",CustomControlSpacer);var ControlBar=function(l){_inheritsLoose(a,l);function a(){return l.apply(this,arguments)||this}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},a}(Component$1);ControlBar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in document$2&&ControlBar.prototype.options_.children.splice(ControlBar.prototype.options_.children.length-1,0,"pictureInPictureToggle");Component$1.registerComponent("ControlBar",ControlBar);var ErrorDisplay=function(l){_inheritsLoose(a,l);function a(u,s){var c;return c=l.call(this,u,s)||this,c.on(u,"error",function(d){return c.open(d)}),c}var o=a.prototype;return o.buildCSSClass=function(){return"vjs-error-display "+l.prototype.buildCSSClass.call(this)},o.content=function(){var s=this.player().error();return s?this.localize(s.message):""},a}(ModalDialog);ErrorDisplay.prototype.options_=_extends$2({},ModalDialog.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Component$1.registerComponent("ErrorDisplay",ErrorDisplay);var LOCAL_STORAGE_KEY$1="vjs-text-track-settings",COLOR_BLACK=["#000","Black"],COLOR_BLUE=["#00F","Blue"],COLOR_CYAN=["#0FF","Cyan"],COLOR_GREEN=["#0F0","Green"],COLOR_MAGENTA=["#F0F","Magenta"],COLOR_RED=["#F00","Red"],COLOR_WHITE=["#FFF","White"],COLOR_YELLOW=["#FF0","Yellow"],OPACITY_OPAQUE=["1","Opaque"],OPACITY_SEMI=["0.5","Semi-Transparent"],OPACITY_TRANS=["0","Transparent"],selectConfigs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(a){return a==="1.00"?null:Number(a)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;function parseOptionValue(l,a){if(a&&(l=a(l)),l&&l!=="none")return l}function getSelectedOptionValue(l,a){var o=l.options[l.options.selectedIndex].value;return parseOptionValue(o,a)}function setSelectedOption(l,a,o){if(a){for(var u=0;u<l.options.length;u++)if(parseOptionValue(l.options[u].value,o)===a){l.selectedIndex=u;break}}}var TextTrackSettings=function(l){_inheritsLoose(a,l);function a(u,s){var c;return s.temporary=!1,c=l.call(this,u,s)||this,c.updateDisplay=c.updateDisplay.bind(_assertThisInitialized$1(c)),c.fill(),c.hasBeenOpened_=c.hasBeenFilled_=!0,c.endDialog=createEl("p",{className:"vjs-control-text",textContent:c.localize("End of dialog window.")}),c.el().appendChild(c.endDialog),c.setDefaults(),s.persistTextTrackSettings===void 0&&(c.options_.persistTextTrackSettings=c.options_.playerOptions.persistTextTrackSettings),c.on(c.$(".vjs-done-button"),"click",function(){c.saveSettings(),c.close()}),c.on(c.$(".vjs-default-button"),"click",function(){c.setDefaults(),c.updateDisplay()}),each(selectConfigs,function(d){c.on(c.$(d.selector),"change",c.updateDisplay)}),c.options_.persistTextTrackSettings&&c.restoreSettings(),c}var o=a.prototype;return o.dispose=function(){this.endDialog=null,l.prototype.dispose.call(this)},o.createElSelect_=function(s,c,d){var f=this;c===void 0&&(c=""),d===void 0&&(d="label");var m=selectConfigs[s],g=m.id.replace("%s",this.id_),v=[c,g].join(" ").trim();return["<"+d+' id="'+g+'" class="'+(d==="label"?"vjs-label":"")+'">',this.localize(m.label),"</"+d+">",'<select aria-labelledby="'+v+'">'].concat(m.options.map(function(y){var _=g+"-"+y[1].replace(/\W+/g,"");return['<option id="'+_+'" value="'+y[0]+'" ','aria-labelledby="'+v+" "+_+'">',f.localize(y[1]),"</option>"].join("")})).concat("</select>").join("")},o.createElFgColor_=function(){var s="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+s+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",s),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",s),"</span>","</fieldset>"].join("")},o.createElBgColor_=function(){var s="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+s+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",s),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",s),"</span>","</fieldset>"].join("")},o.createElWinColor_=function(){var s="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+s+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",s),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",s),"</span>","</fieldset>"].join("")},o.createElColors_=function(){return createEl("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},o.createElFont_=function(){return createEl("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},o.createElControls_=function(){var s=this.localize("restore all settings to the default values");return createEl("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+s+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+s+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},o.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},o.label=function(){return this.localize("Caption Settings Dialog")},o.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},o.buildCSSClass=function(){return l.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},o.getValues=function(){var s=this;return reduce(selectConfigs,function(c,d,f){var m=getSelectedOptionValue(s.$(d.selector),d.parser);return m!==void 0&&(c[f]=m),c},{})},o.setValues=function(s){var c=this;each(selectConfigs,function(d,f){setSelectedOption(c.$(d.selector),s[f],d.parser)})},o.setDefaults=function(){var s=this;each(selectConfigs,function(c){var d=c.hasOwnProperty("default")?c.default:0;s.$(c.selector).selectedIndex=d})},o.restoreSettings=function(){var s;try{s=JSON.parse(window$1$1.localStorage.getItem(LOCAL_STORAGE_KEY$1))}catch(c){log$1.warn(c)}s&&this.setValues(s)},o.saveSettings=function(){if(this.options_.persistTextTrackSettings){var s=this.getValues();try{Object.keys(s).length?window$1$1.localStorage.setItem(LOCAL_STORAGE_KEY$1,JSON.stringify(s)):window$1$1.localStorage.removeItem(LOCAL_STORAGE_KEY$1)}catch(c){log$1.warn(c)}}},o.updateDisplay=function(){var s=this.player_.getChild("textTrackDisplay");s&&s.updateDisplay()},o.conditionalBlur_=function(){this.previouslyActiveEl_=null;var s=this.player_.controlBar,c=s&&s.subsCapsButton,d=s&&s.captionsButton;c?c.focus():d&&d.focus()},a}(ModalDialog);Component$1.registerComponent("TextTrackSettings",TextTrackSettings);var ResizeManager=function(l){_inheritsLoose(a,l);function a(u,s){var c,d=s.ResizeObserver||window$1$1.ResizeObserver;s.ResizeObserver===null&&(d=!1);var f=mergeOptions$3({createEl:!d,reportTouchActivity:!1},s);return c=l.call(this,u,f)||this,c.ResizeObserver=s.ResizeObserver||window$1$1.ResizeObserver,c.loadListener_=null,c.resizeObserver_=null,c.debouncedHandler_=debounce(function(){c.resizeHandler()},100,!1,_assertThisInitialized$1(c)),d?(c.resizeObserver_=new c.ResizeObserver(c.debouncedHandler_),c.resizeObserver_.observe(u.el())):(c.loadListener_=function(){if(!(!c.el_||!c.el_.contentWindow)){var m=c.debouncedHandler_,g=c.unloadListener_=function(){off(this,"resize",m),off(this,"unload",g),g=null};on(c.el_.contentWindow,"unload",g),on(c.el_.contentWindow,"resize",m)}},c.one("load",c.loadListener_)),c}var o=a.prototype;return o.createEl=function(){return l.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},o.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},o.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,l.prototype.dispose.call(this)},a}(Component$1);Component$1.registerComponent("ResizeManager",ResizeManager);var defaults={trackingThreshold:20,liveTolerance:15},LiveTracker=function(l){_inheritsLoose(a,l);function a(u,s){var c,d=mergeOptions$3(defaults,s,{createEl:!1});return c=l.call(this,u,d)||this,c.handleVisibilityChange_=function(f){return c.handleVisibilityChange(f)},c.trackLiveHandler_=function(){return c.trackLive_()},c.handlePlay_=function(f){return c.handlePlay(f)},c.handleFirstTimeupdate_=function(f){return c.handleFirstTimeupdate(f)},c.handleSeeked_=function(f){return c.handleSeeked(f)},c.seekToLiveEdge_=function(f){return c.seekToLiveEdge(f)},c.reset_(),c.on(c.player_,"durationchange",function(f){return c.handleDurationchange(f)}),c.on(c.player_,"canplay",function(){return c.toggleTracking()}),IE_VERSION&&"hidden"in document$2&&"visibilityState"in document$2&&c.on(document$2,"visibilitychange",c.handleVisibilityChange_),c}var o=a.prototype;return o.handleVisibilityChange=function(){this.player_.duration()===1/0&&(document$2.hidden?this.stopTracking():this.startTracking())},o.trackLive_=function(){var s=this.player_.seekable();if(!(!s||!s.length)){var c=Number(window$1$1.performance.now().toFixed(4)),d=this.lastTime_===-1?0:(c-this.lastTime_)/1e3;this.lastTime_=c,this.pastSeekEnd_=this.pastSeekEnd()+d;var f=this.liveCurrentTime(),m=this.player_.currentTime(),g=this.player_.paused()||this.seekedBehindLive_||Math.abs(f-m)>this.options_.liveTolerance;(!this.timeupdateSeen_||f===1/0)&&(g=!1),g!==this.behindLiveEdge_&&(this.behindLiveEdge_=g,this.trigger("liveedgechange"))}},o.handleDurationchange=function(){this.toggleTracking()},o.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},o.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,UPDATE_REFRESH_INTERVAL),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},o.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},o.handleSeeked=function(){var s=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&s>2,this.nextSeekedFromUser_=!1,this.trackLive_()},o.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},o.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},o.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},o.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},o.seekableEnd=function(){for(var s=this.player_.seekable(),c=[],d=s?s.length:0;d--;)c.push(s.end(d));return c.length?c.sort()[c.length-1]:1/0},o.seekableStart=function(){for(var s=this.player_.seekable(),c=[],d=s?s.length:0;d--;)c.push(s.start(d));return c.length?c.sort()[0]:0},o.liveWindow=function(){var s=this.liveCurrentTime();return s===1/0?0:s-this.seekableStart()},o.isLive=function(){return this.isTracking()},o.atLiveEdge=function(){return!this.behindLiveEdge()},o.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},o.pastSeekEnd=function(){var s=this.seekableEnd();return this.lastSeekEnd_!==-1&&s!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=s,this.pastSeekEnd_},o.behindLiveEdge=function(){return this.behindLiveEdge_},o.isTracking=function(){return typeof this.trackingInterval_=="number"},o.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},o.dispose=function(){this.off(document$2,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),l.prototype.dispose.call(this)},a}(Component$1);Component$1.registerComponent("LiveTracker",LiveTracker);var sourcesetLoad=function(a){var o=a.el();if(o.hasAttribute("src"))return a.triggerSourceset(o.src),!0;var u=a.$$("source"),s=[],c="";if(!u.length)return!1;for(var d=0;d<u.length;d++){var f=u[d].src;f&&s.indexOf(f)===-1&&s.push(f)}return s.length?(s.length===1&&(c=s[0]),a.triggerSourceset(c),!0):!1},innerHTMLDescriptorPolyfill=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(a){var o=document$2.createElement(this.nodeName.toLowerCase());o.innerHTML=a;for(var u=document$2.createDocumentFragment();o.childNodes.length;)u.appendChild(o.childNodes[0]);return this.innerText="",window$1$1.Element.prototype.appendChild.call(this,u),this.innerHTML}}),getDescriptor=function(a,o){for(var u={},s=0;s<a.length&&(u=Object.getOwnPropertyDescriptor(a[s],o),!(u&&u.set&&u.get));s++);return u.enumerable=!0,u.configurable=!0,u},getInnerHTMLDescriptor=function(a){return getDescriptor([a.el(),window$1$1.HTMLMediaElement.prototype,window$1$1.Element.prototype,innerHTMLDescriptorPolyfill],"innerHTML")},firstSourceWatch=function(a){var o=a.el();if(!o.resetSourceWatch_){var u={},s=getInnerHTMLDescriptor(a),c=function(f){return function(){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];var y=f.apply(o,g);return sourcesetLoad(a),y}};["append","appendChild","insertAdjacentHTML"].forEach(function(d){o[d]&&(u[d]=o[d],o[d]=c(u[d]))}),Object.defineProperty(o,"innerHTML",mergeOptions$3(s,{set:c(s.set)})),o.resetSourceWatch_=function(){o.resetSourceWatch_=null,Object.keys(u).forEach(function(d){o[d]=u[d]}),Object.defineProperty(o,"innerHTML",s)},a.one("sourceset",o.resetSourceWatch_)}},srcDescriptorPolyfill=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?getAbsoluteURL(window$1$1.Element.prototype.getAttribute.call(this,"src")):""},set:function(a){return window$1$1.Element.prototype.setAttribute.call(this,"src",a),a}}),getSrcDescriptor=function(a){return getDescriptor([a.el(),window$1$1.HTMLMediaElement.prototype,srcDescriptorPolyfill],"src")},setupSourceset=function(a){if(a.featuresSourceset){var o=a.el();if(!o.resetSourceset_){var u=getSrcDescriptor(a),s=o.setAttribute,c=o.load;Object.defineProperty(o,"src",mergeOptions$3(u,{set:function(f){var m=u.set.call(o,f);return a.triggerSourceset(o.src),m}})),o.setAttribute=function(d,f){var m=s.call(o,d,f);return/src/i.test(d)&&a.triggerSourceset(o.src),m},o.load=function(){var d=c.call(o);return sourcesetLoad(a)||(a.triggerSourceset(""),firstSourceWatch(a)),d},o.currentSrc?a.triggerSourceset(o.currentSrc):sourcesetLoad(a)||firstSourceWatch(a),o.resetSourceset_=function(){o.resetSourceset_=null,o.load=c,o.setAttribute=s,Object.defineProperty(o,"src",u),o.resetSourceWatch_&&o.resetSourceWatch_()}}}},defineLazyProperty=function(a,o,u,s){s===void 0&&(s=!0);var c=function(m){return Object.defineProperty(a,o,{value:m,enumerable:!0,writable:!0})},d={configurable:!0,enumerable:!0,get:function(){var m=u();return c(m),m}};return s&&(d.set=c),Object.defineProperty(a,o,d)},Html5=function(l){_inheritsLoose(a,l);function a(u,s){var c;c=l.call(this,u,s)||this;var d=u.source,f=!1;if(c.featuresVideoFrameCallback=c.featuresVideoFrameCallback&&c.el_.tagName==="VIDEO",d&&(c.el_.currentSrc!==d.src||u.tag&&u.tag.initNetworkState_===3)?c.setSource(d):c.handleLateInit_(c.el_),u.enableSourceset&&c.setupSourcesetHandling_(),c.isScrubbing_=!1,c.el_.hasChildNodes()){for(var m=c.el_.childNodes,g=m.length,v=[];g--;){var y=m[g],_=y.nodeName.toLowerCase();_==="track"&&(c.featuresNativeTextTracks?(c.remoteTextTrackEls().addTrackElement_(y),c.remoteTextTracks().addTrack(y.track),c.textTracks().addTrack(y.track),!f&&!c.el_.hasAttribute("crossorigin")&&isCrossOrigin(y.src)&&(f=!0)):v.push(y))}for(var b=0;b<v.length;b++)c.el_.removeChild(v[b])}return c.proxyNativeTracks_(),c.featuresNativeTextTracks&&f&&log$1.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),c.restoreMetadataTracksInIOSNativePlayer_(),(TOUCH_ENABLED||IS_IPHONE||IS_NATIVE_ANDROID)&&u.nativeControlsForTouch===!0&&c.setControls(!0),c.proxyWebkitFullscreen_(),c.triggerReady(),c}var o=a.prototype;return o.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),a.disposeMediaElement(this.el_),this.options_=null,l.prototype.dispose.call(this)},o.setupSourcesetHandling_=function(){setupSourceset(this)},o.restoreMetadataTracksInIOSNativePlayer_=function(){var s=this.textTracks(),c,d=function(){c=[];for(var g=0;g<s.length;g++){var v=s[g];v.kind==="metadata"&&c.push({track:v,storedMode:v.mode})}};d(),s.addEventListener("change",d),this.on("dispose",function(){return s.removeEventListener("change",d)});var f=function m(){for(var g=0;g<c.length;g++){var v=c[g];v.track.mode==="disabled"&&v.track.mode!==v.storedMode&&(v.track.mode=v.storedMode)}s.removeEventListener("change",m)};this.on("webkitbeginfullscreen",function(){s.removeEventListener("change",d),s.removeEventListener("change",f),s.addEventListener("change",f)}),this.on("webkitendfullscreen",function(){s.removeEventListener("change",d),s.addEventListener("change",d),s.removeEventListener("change",f)})},o.overrideNative_=function(s,c){var d=this;if(c===this["featuresNative"+s+"Tracks"]){var f=s.toLowerCase();this[f+"TracksListeners_"]&&Object.keys(this[f+"TracksListeners_"]).forEach(function(m){var g=d.el()[f+"Tracks"];g.removeEventListener(m,d[f+"TracksListeners_"][m])}),this["featuresNative"+s+"Tracks"]=!c,this[f+"TracksListeners_"]=null,this.proxyNativeTracksForType_(f)}},o.overrideNativeAudioTracks=function(s){this.overrideNative_("Audio",s)},o.overrideNativeVideoTracks=function(s){this.overrideNative_("Video",s)},o.proxyNativeTracksForType_=function(s){var c=this,d=NORMAL[s],f=this.el()[d.getterName],m=this[d.getterName]();if(!(!this["featuresNative"+d.capitalName+"Tracks"]||!f||!f.addEventListener)){var g={change:function(_){var b={type:"change",target:m,currentTarget:m,srcElement:m};m.trigger(b),s==="text"&&c[REMOTE.remoteText.getterName]().trigger(b)},addtrack:function(_){m.addTrack(_.track)},removetrack:function(_){m.removeTrack(_.track)}},v=function(){for(var _=[],b=0;b<m.length;b++){for(var x=!1,w=0;w<f.length;w++)if(f[w]===m[b]){x=!0;break}x||_.push(m[b])}for(;_.length;)m.removeTrack(_.shift())};this[d.getterName+"Listeners_"]=g,Object.keys(g).forEach(function(y){var _=g[y];f.addEventListener(y,_),c.on("dispose",function(b){return f.removeEventListener(y,_)})}),this.on("loadstart",v),this.on("dispose",function(y){return c.off("loadstart",v)})}},o.proxyNativeTracks_=function(){var s=this;NORMAL.names.forEach(function(c){s.proxyNativeTracksForType_(c)})},o.createEl=function(){var s=this.options_.tag;if(!s||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(s){var c=s.cloneNode(!0);s.parentNode&&s.parentNode.insertBefore(c,s),a.disposeMediaElement(s),s=c}else{s=document$2.createElement("video");var d=this.options_.tag&&getAttributes(this.options_.tag),f=mergeOptions$3({},d);(!TOUCH_ENABLED||this.options_.nativeControlsForTouch!==!0)&&delete f.controls,setAttributes(s,assign(f,{id:this.options_.techId,class:"vjs-tech"}))}s.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&setAttribute(s,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(s.disablePictureInPicture=this.options_.disablePictureInPicture);for(var m=["loop","muted","playsinline","autoplay"],g=0;g<m.length;g++){var v=m[g],y=this.options_[v];typeof y<"u"&&(y?setAttribute(s,v,v):removeAttribute(s,v),s[v]=y)}return s},o.handleLateInit_=function(s){if(!(s.networkState===0||s.networkState===3)){if(s.readyState===0){var c=!1,d=function(){c=!0};this.on("loadstart",d);var f=function(){c||this.trigger("loadstart")};this.on("loadedmetadata",f),this.ready(function(){this.off("loadstart",d),this.off("loadedmetadata",f),c||this.trigger("loadstart")});return}var m=["loadstart"];m.push("loadedmetadata"),s.readyState>=2&&m.push("loadeddata"),s.readyState>=3&&m.push("canplay"),s.readyState>=4&&m.push("canplaythrough"),this.ready(function(){m.forEach(function(g){this.trigger(g)},this)})}},o.setScrubbing=function(s){this.isScrubbing_=s},o.scrubbing=function(){return this.isScrubbing_},o.setCurrentTime=function(s){try{this.isScrubbing_&&this.el_.fastSeek&&IS_ANY_SAFARI?this.el_.fastSeek(s):this.el_.currentTime=s}catch(c){log$1(c,"Video is not ready. (Video.js)")}},o.duration=function(){var s=this;if(this.el_.duration===1/0&&IS_ANDROID&&IS_CHROME&&this.el_.currentTime===0){var c=function d(){s.el_.currentTime>0&&(s.el_.duration===1/0&&s.trigger("durationchange"),s.off("timeupdate",d))};return this.on("timeupdate",c),NaN}return this.el_.duration||NaN},o.width=function(){return this.el_.offsetWidth},o.height=function(){return this.el_.offsetHeight},o.proxyWebkitFullscreen_=function(){var s=this;if("webkitDisplayingFullscreen"in this.el_){var c=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},d=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",c),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",d),this.on("dispose",function(){s.off("webkitbeginfullscreen",d),s.off("webkitendfullscreen",c)})}},o.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var s=window$1$1.navigator&&window$1$1.navigator.userAgent||"";if(/Android/.test(s)||!/Chrome|Mac OS X 10.5/.test(s))return!0}return!1},o.enterFullScreen=function(){var s=this.el_;if(s.paused&&s.networkState<=s.HAVE_METADATA)silencePromise(this.el_.play()),this.setTimeout(function(){s.pause();try{s.webkitEnterFullScreen()}catch(c){this.trigger("fullscreenerror",c)}},0);else try{s.webkitEnterFullScreen()}catch(c){this.trigger("fullscreenerror",c)}},o.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},o.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},o.requestVideoFrameCallback=function(s){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(s):l.prototype.requestVideoFrameCallback.call(this,s)},o.cancelVideoFrameCallback=function(s){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(s):l.prototype.cancelVideoFrameCallback.call(this,s)},o.src=function(s){if(s===void 0)return this.el_.src;this.setSrc(s)},o.reset=function(){a.resetMediaElement(this.el_)},o.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},o.setControls=function(s){this.el_.controls=!!s},o.addTextTrack=function(s,c,d){return this.featuresNativeTextTracks?this.el_.addTextTrack(s,c,d):l.prototype.addTextTrack.call(this,s,c,d)},o.createRemoteTextTrack=function(s){if(!this.featuresNativeTextTracks)return l.prototype.createRemoteTextTrack.call(this,s);var c=document$2.createElement("track");return s.kind&&(c.kind=s.kind),s.label&&(c.label=s.label),(s.language||s.srclang)&&(c.srclang=s.language||s.srclang),s.default&&(c.default=s.default),s.id&&(c.id=s.id),s.src&&(c.src=s.src),c},o.addRemoteTextTrack=function(s,c){var d=l.prototype.addRemoteTextTrack.call(this,s,c);return this.featuresNativeTextTracks&&this.el().appendChild(d),d},o.removeRemoteTextTrack=function(s){if(l.prototype.removeRemoteTextTrack.call(this,s),this.featuresNativeTextTracks)for(var c=this.$$("track"),d=c.length;d--;)(s===c[d]||s===c[d].track)&&this.el().removeChild(c[d])},o.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var s={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(s.droppedVideoFrames=this.el().webkitDroppedFrameCount,s.totalVideoFrames=this.el().webkitDecodedFrameCount),window$1$1.performance&&typeof window$1$1.performance.now=="function"?s.creationTime=window$1$1.performance.now():window$1$1.performance&&window$1$1.performance.timing&&typeof window$1$1.performance.timing.navigationStart=="number"&&(s.creationTime=window$1$1.Date.now()-window$1$1.performance.timing.navigationStart),s},a}(Tech$1);defineLazyProperty(Html5,"TEST_VID",function(){if(isReal()){var l=document$2.createElement("video"),a=document$2.createElement("track");return a.kind="captions",a.srclang="en",a.label="English",l.appendChild(a),l}});Html5.isSupported=function(){try{Html5.TEST_VID.volume=.5}catch{return!1}return!!(Html5.TEST_VID&&Html5.TEST_VID.canPlayType)};Html5.canPlayType=function(l){return Html5.TEST_VID.canPlayType(l)};Html5.canPlaySource=function(l,a){return Html5.canPlayType(l.type)};Html5.canControlVolume=function(){try{var l=Html5.TEST_VID.volume;Html5.TEST_VID.volume=l/2+.1;var a=l!==Html5.TEST_VID.volume;return a&&IS_IOS?(window$1$1.setTimeout(function(){Html5&&Html5.prototype&&(Html5.prototype.featuresVolumeControl=l!==Html5.TEST_VID.volume)}),!1):a}catch{return!1}};Html5.canMuteVolume=function(){try{var l=Html5.TEST_VID.muted;return Html5.TEST_VID.muted=!l,Html5.TEST_VID.muted?setAttribute(Html5.TEST_VID,"muted","muted"):removeAttribute(Html5.TEST_VID,"muted","muted"),l!==Html5.TEST_VID.muted}catch{return!1}};Html5.canControlPlaybackRate=function(){if(IS_ANDROID&&IS_CHROME&&CHROME_VERSION<58)return!1;try{var l=Html5.TEST_VID.playbackRate;return Html5.TEST_VID.playbackRate=l/2+.1,l!==Html5.TEST_VID.playbackRate}catch{return!1}};Html5.canOverrideAttributes=function(){try{var l=function(){};Object.defineProperty(document$2.createElement("video"),"src",{get:l,set:l}),Object.defineProperty(document$2.createElement("audio"),"src",{get:l,set:l}),Object.defineProperty(document$2.createElement("video"),"innerHTML",{get:l,set:l}),Object.defineProperty(document$2.createElement("audio"),"innerHTML",{get:l,set:l})}catch{return!1}return!0};Html5.supportsNativeTextTracks=function(){return IS_ANY_SAFARI||IS_IOS&&IS_CHROME};Html5.supportsNativeVideoTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.videoTracks)};Html5.supportsNativeAudioTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.audioTracks)};Html5.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(l){var a=l[0],o=l[1];defineLazyProperty(Html5.prototype,a,function(){return Html5[o]()},!0)});Html5.prototype.featuresVolumeControl=Html5.canControlVolume();Html5.prototype.movingMediaElementInDOM=!IS_IOS;Html5.prototype.featuresFullscreenResize=!0;Html5.prototype.featuresProgressEvents=!0;Html5.prototype.featuresTimeupdateEvents=!0;Html5.prototype.featuresVideoFrameCallback=!!(Html5.TEST_VID&&Html5.TEST_VID.requestVideoFrameCallback);var canPlayType;Html5.patchCanPlayType=function(){ANDROID_VERSION>=4&&!IS_FIREFOX&&!IS_CHROME&&(canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType,Html5.TEST_VID.constructor.prototype.canPlayType=function(l){var a=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return l&&a.test(l)?"maybe":canPlayType.call(this,l)})};Html5.unpatchCanPlayType=function(){var l=Html5.TEST_VID.constructor.prototype.canPlayType;return canPlayType&&(Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType),l};Html5.patchCanPlayType();Html5.disposeMediaElement=function(l){if(l){for(l.parentNode&&l.parentNode.removeChild(l);l.hasChildNodes();)l.removeChild(l.firstChild);l.removeAttribute("src"),typeof l.load=="function"&&function(){try{l.load()}catch{}}()}};Html5.resetMediaElement=function(l){if(l){for(var a=l.querySelectorAll("source"),o=a.length;o--;)l.removeChild(a[o]);l.removeAttribute("src"),typeof l.load=="function"&&function(){try{l.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(l){Html5.prototype[l]=function(){return this.el_[l]||this.el_.hasAttribute(l)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(l){Html5.prototype["set"+toTitleCase$1(l)]=function(a){this.el_[l]=a,a?this.el_.setAttribute(l,l):this.el_.removeAttribute(l)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(l){Html5.prototype[l]=function(){return this.el_[l]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(l){Html5.prototype["set"+toTitleCase$1(l)]=function(a){this.el_[l]=a}});["pause","load","play"].forEach(function(l){Html5.prototype[l]=function(){return this.el_[l]()}});Tech$1.withSourceHandlers(Html5);Html5.nativeSourceHandler={};Html5.nativeSourceHandler.canPlayType=function(l){try{return Html5.TEST_VID.canPlayType(l)}catch{return""}};Html5.nativeSourceHandler.canHandleSource=function(l,a){if(l.type)return Html5.nativeSourceHandler.canPlayType(l.type);if(l.src){var o=getFileExtension(l.src);return Html5.nativeSourceHandler.canPlayType("video/"+o)}return""};Html5.nativeSourceHandler.handleSource=function(l,a,o){a.setSrc(l.src)};Html5.nativeSourceHandler.dispose=function(){};Html5.registerSourceHandler(Html5.nativeSourceHandler);Tech$1.registerTech("Html5",Html5);var TECH_EVENTS_RETRIGGER=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],TECH_EVENTS_QUEUE={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},BREAKPOINT_ORDER=["tiny","xsmall","small","medium","large","xlarge","huge"],BREAKPOINT_CLASSES={};BREAKPOINT_ORDER.forEach(function(l){var a=l.charAt(0)==="x"?"x-"+l.substring(1):l;BREAKPOINT_CLASSES[l]="vjs-layout-"+a});var DEFAULT_BREAKPOINTS={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Player$2=function(l){_inheritsLoose(a,l);function a(u,s,c){var d;if(u.id=u.id||s.id||"vjs_video_"+newGUID(),s=assign(a.getTagSettings(u),s),s.initChildren=!1,s.createEl=!1,s.evented=!1,s.reportTouchActivity=!1,!s.language)if(typeof u.closest=="function"){var f=u.closest("[lang]");f&&f.getAttribute&&(s.language=f.getAttribute("lang"))}else for(var m=u;m&&m.nodeType===1;){if(getAttributes(m).hasOwnProperty("lang")){s.language=m.getAttribute("lang");break}m=m.parentNode}if(d=l.call(this,null,s,c)||this,d.boundDocumentFullscreenChange_=function(_){return d.documentFullscreenChange_(_)},d.boundFullWindowOnEscKey_=function(_){return d.fullWindowOnEscKey(_)},d.boundUpdateStyleEl_=function(_){return d.updateStyleEl_(_)},d.boundApplyInitTime_=function(_){return d.applyInitTime_(_)},d.boundUpdateCurrentBreakpoint_=function(_){return d.updateCurrentBreakpoint_(_)},d.boundHandleTechClick_=function(_){return d.handleTechClick_(_)},d.boundHandleTechDoubleClick_=function(_){return d.handleTechDoubleClick_(_)},d.boundHandleTechTouchStart_=function(_){return d.handleTechTouchStart_(_)},d.boundHandleTechTouchMove_=function(_){return d.handleTechTouchMove_(_)},d.boundHandleTechTouchEnd_=function(_){return d.handleTechTouchEnd_(_)},d.boundHandleTechTap_=function(_){return d.handleTechTap_(_)},d.isFullscreen_=!1,d.log=createLogger(d.id_),d.fsApi_=FullscreenApi,d.isPosterFromTech_=!1,d.queuedCallbacks_=[],d.isReady_=!1,d.hasStarted_=!1,d.userActive_=!1,d.debugEnabled_=!1,d.audioOnlyMode_=!1,d.audioPosterMode_=!1,d.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!d.options_||!d.options_.techOrder||!d.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(d.tag=u,d.tagAttributes=u&&getAttributes(u),d.language(d.options_.language),s.languages){var g={};Object.getOwnPropertyNames(s.languages).forEach(function(_){g[_.toLowerCase()]=s.languages[_]}),d.languages_=g}else d.languages_=a.prototype.options_.languages;d.resetCache_(),d.poster_=s.poster||"",d.controls_=!!s.controls,u.controls=!1,u.removeAttribute("controls"),d.changingSrc_=!1,d.playCallbacks_=[],d.playTerminatedQueue_=[],u.hasAttribute("autoplay")?d.autoplay(!0):d.autoplay(d.options_.autoplay),s.plugins&&Object.keys(s.plugins).forEach(function(_){if(typeof d[_]!="function")throw new Error('plugin "'+_+'" does not exist')}),d.scrubbing_=!1,d.el_=d.createEl(),evented(_assertThisInitialized$1(d),{eventBusKey:"el_"}),d.fsApi_.requestFullscreen&&(on(document$2,d.fsApi_.fullscreenchange,d.boundDocumentFullscreenChange_),d.on(d.fsApi_.fullscreenchange,d.boundDocumentFullscreenChange_)),d.fluid_&&d.on(["playerreset","resize"],d.boundUpdateStyleEl_);var v=mergeOptions$3(d.options_);s.plugins&&Object.keys(s.plugins).forEach(function(_){d[_](s.plugins[_])}),s.debug&&d.debug(!0),d.options_.playerOptions=v,d.middleware_=[],d.playbackRates(s.playbackRates),d.initChildren(),d.isAudio(u.nodeName.toLowerCase()==="audio"),d.controls()?d.addClass("vjs-controls-enabled"):d.addClass("vjs-controls-disabled"),d.el_.setAttribute("role","region"),d.isAudio()?d.el_.setAttribute("aria-label",d.localize("Audio Player")):d.el_.setAttribute("aria-label",d.localize("Video Player")),d.isAudio()&&d.addClass("vjs-audio"),d.flexNotSupported_()&&d.addClass("vjs-no-flex"),TOUCH_ENABLED&&d.addClass("vjs-touch-enabled"),IS_IOS||d.addClass("vjs-workinghover"),a.players[d.id_]=_assertThisInitialized$1(d);var y=version$5.split(".")[0];return d.addClass("vjs-v"+y),d.userActive(!0),d.reportUserActivity(),d.one("play",function(_){return d.listenForUserActivity_(_)}),d.on("stageclick",function(_){return d.handleStageClick_(_)}),d.on("keydown",function(_){return d.handleKeyDown(_)}),d.on("languagechange",function(_){return d.handleLanguagechange(_)}),d.breakpoints(d.options_.breakpoints),d.responsive(d.options_.responsive),d.on("ready",function(){d.audioPosterMode(d.options_.audioPosterMode),d.audioOnlyMode(d.options_.audioOnlyMode)}),d}var o=a.prototype;return o.dispose=function(){var s=this;this.trigger("dispose"),this.off("dispose"),off(document$2,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),off(document$2,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),a.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),clearCacheForPlayer(this),ALL.names.forEach(function(c){var d=ALL[c],f=s[d.getterName]();f&&f.off&&f.off()}),l.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},o.createEl=function(){var s=this.tag,c,d=this.playerElIngest_=s.parentNode&&s.parentNode.hasAttribute&&s.parentNode.hasAttribute("data-vjs-player"),f=this.tag.tagName.toLowerCase()==="video-js";d?c=this.el_=s.parentNode:f||(c=this.el_=l.prototype.createEl.call(this,"div"));var m=getAttributes(s);if(f){for(c=this.el_=s,s=this.tag=document$2.createElement("video");c.children.length;)s.appendChild(c.firstChild);hasClass(c,"video-js")||addClass(c,"video-js"),c.appendChild(s),d=this.playerElIngest_=c,Object.keys(c).forEach(function(x){try{s[x]=c[x]}catch{}})}if(s.setAttribute("tabindex","-1"),m.tabindex="-1",(IE_VERSION||IS_CHROME&&IS_WINDOWS)&&(s.setAttribute("role","application"),m.role="application"),s.removeAttribute("width"),s.removeAttribute("height"),"width"in m&&delete m.width,"height"in m&&delete m.height,Object.getOwnPropertyNames(m).forEach(function(x){f&&x==="class"||c.setAttribute(x,m[x]),f&&s.setAttribute(x,m[x])}),s.playerId=s.id,s.id+="_html5_api",s.className="vjs-tech",s.player=c.player=this,this.addClass("vjs-paused"),window$1$1.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=createStyleElement("vjs-styles-dimensions");var g=$(".vjs-styles-defaults"),v=$("head");v.insertBefore(this.styleEl_,g?g.nextSibling:v.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var y=s.getElementsByTagName("a"),_=0;_<y.length;_++){var b=y.item(_);addClass(b,"vjs-hidden"),b.setAttribute("hidden","hidden")}return s.initNetworkState_=s.networkState,s.parentNode&&!d&&s.parentNode.insertBefore(c,s),prependTo(s,c),this.children_.unshift(s),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=c,c},o.crossOrigin=function(s){if(!s)return this.techGet_("crossOrigin");if(s!=="anonymous"&&s!=="use-credentials"){log$1.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+s+'"');return}this.techCall_("setCrossOrigin",s)},o.width=function(s){return this.dimension("width",s)},o.height=function(s){return this.dimension("height",s)},o.dimension=function(s,c){var d=s+"_";if(c===void 0)return this[d]||0;if(c===""||c==="auto"){this[d]=void 0,this.updateStyleEl_();return}var f=parseFloat(c);if(isNaN(f)){log$1.error('Improper value "'+c+'" supplied for for '+s);return}this[d]=f,this.updateStyleEl_()},o.fluid=function(s){var c=this;if(s===void 0)return!!this.fluid_;this.fluid_=!!s,isEvented(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),s?(this.addClass("vjs-fluid"),this.fill(!1),addEventedCallback(this,function(){c.on(["playerreset","resize"],c.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},o.fill=function(s){if(s===void 0)return!!this.fill_;this.fill_=!!s,s?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},o.aspectRatio=function(s){if(s===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(s))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=s,this.fluid(!0),this.updateStyleEl_()},o.updateStyleEl_=function(){if(window$1$1.VIDEOJS_NO_DYNAMIC_STYLE===!0){var s=typeof this.width_=="number"?this.width_:this.options_.width,c=typeof this.height_=="number"?this.height_:this.options_.height,d=this.tech_&&this.tech_.el();d&&(s>=0&&(d.width=s),c>=0&&(d.height=c));return}var f,m,g,v;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?g=this.aspectRatio_:this.videoWidth()>0?g=this.videoWidth()+":"+this.videoHeight():g="16:9";var y=g.split(":"),_=y[1]/y[0];this.width_!==void 0?f=this.width_:this.height_!==void 0?f=this.height_/_:f=this.videoWidth()||300,this.height_!==void 0?m=this.height_:m=f*_,/^[^a-zA-Z]/.test(this.id())?v="dimensions-"+this.id():v=this.id()+"-dimensions",this.addClass(v),setTextContent(this.styleEl_,`
      .`+v+` {
        width: `+f+`px;
        height: `+m+`px;
      }

      .`+v+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+_*100+`%;
      }
    `)},o.loadTech_=function(s,c){var d=this;this.tech_&&this.unloadTech_();var f=toTitleCase$1(s),m=s.charAt(0).toLowerCase()+s.slice(1);f!=="Html5"&&this.tag&&(Tech$1.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=f,this.isReady_=!1;var g=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(g=!1);var v={source:c,autoplay:g,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+m+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};ALL.names.forEach(function(_){var b=ALL[_];v[b.getterName]=d[b.privateName]}),assign(v,this.options_[f]),assign(v,this.options_[m]),assign(v,this.options_[s.toLowerCase()]),this.tag&&(v.tag=this.tag),c&&c.src===this.cache_.src&&this.cache_.currentTime>0&&(v.startTime=this.cache_.currentTime);var y=Tech$1.getTech(s);if(!y)throw new Error("No Tech named '"+f+"' exists! '"+f+"' should be registered using videojs.registerTech()'");this.tech_=new y(v),this.tech_.ready(bind(this,this.handleTechReady_),!0),textTrackConverter.jsonToTextTracks(this.textTracksJson_||[],this.tech_),TECH_EVENTS_RETRIGGER.forEach(function(_){d.on(d.tech_,_,function(b){return d["handleTech"+toTitleCase$1(_)+"_"](b)})}),Object.keys(TECH_EVENTS_QUEUE).forEach(function(_){d.on(d.tech_,_,function(b){if(d.tech_.playbackRate()===0&&d.tech_.seeking()){d.queuedCallbacks_.push({callback:d["handleTech"+TECH_EVENTS_QUEUE[_]+"_"].bind(d),event:b});return}d["handleTech"+TECH_EVENTS_QUEUE[_]+"_"](b)})}),this.on(this.tech_,"loadstart",function(_){return d.handleTechLoadStart_(_)}),this.on(this.tech_,"sourceset",function(_){return d.handleTechSourceset_(_)}),this.on(this.tech_,"waiting",function(_){return d.handleTechWaiting_(_)}),this.on(this.tech_,"ended",function(_){return d.handleTechEnded_(_)}),this.on(this.tech_,"seeking",function(_){return d.handleTechSeeking_(_)}),this.on(this.tech_,"play",function(_){return d.handleTechPlay_(_)}),this.on(this.tech_,"firstplay",function(_){return d.handleTechFirstPlay_(_)}),this.on(this.tech_,"pause",function(_){return d.handleTechPause_(_)}),this.on(this.tech_,"durationchange",function(_){return d.handleTechDurationChange_(_)}),this.on(this.tech_,"fullscreenchange",function(_,b){return d.handleTechFullscreenChange_(_,b)}),this.on(this.tech_,"fullscreenerror",function(_,b){return d.handleTechFullscreenError_(_,b)}),this.on(this.tech_,"enterpictureinpicture",function(_){return d.handleTechEnterPictureInPicture_(_)}),this.on(this.tech_,"leavepictureinpicture",function(_){return d.handleTechLeavePictureInPicture_(_)}),this.on(this.tech_,"error",function(_){return d.handleTechError_(_)}),this.on(this.tech_,"posterchange",function(_){return d.handleTechPosterChange_(_)}),this.on(this.tech_,"textdata",function(_){return d.handleTechTextData_(_)}),this.on(this.tech_,"ratechange",function(_){return d.handleTechRateChange_(_)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(f!=="Html5"||!this.tag)&&prependTo(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},o.unloadTech_=function(){var s=this;ALL.names.forEach(function(c){var d=ALL[c];s[d.privateName]=s[d.getterName]()}),this.textTracksJson_=textTrackConverter.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},o.tech=function(s){return s===void 0&&log$1.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},o.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},o.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},o.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},o.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},o.manualAutoplay_=function(s){var c=this;if(!(!this.tech_||typeof s!="string")){var d=function(){var g=c.muted();c.muted(!0);var v=function(){c.muted(g)};c.playTerminatedQueue_.push(v);var y=c.play();if(isPromise(y))return y.catch(function(_){throw v(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(_||""))})},f;if(s==="any"&&!this.muted()?(f=this.play(),isPromise(f)&&(f=f.catch(d))):s==="muted"&&!this.muted()?f=d():f=this.play(),!!isPromise(f))return f.then(function(){c.trigger({type:"autoplay-success",autoplay:s})}).catch(function(){c.trigger({type:"autoplay-failure",autoplay:s})})}},o.updateSourceCaches_=function(s){s===void 0&&(s="");var c=s,d="";typeof c!="string"&&(c=s.src,d=s.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],c&&!d&&(d=findMimetype(this,c)),this.cache_.source=mergeOptions$3({},s,{src:c,type:d});for(var f=this.cache_.sources.filter(function(b){return b.src&&b.src===c}),m=[],g=this.$$("source"),v=[],y=0;y<g.length;y++){var _=getAttributes(g[y]);m.push(_),_.src&&_.src===c&&v.push(_.src)}v.length&&!f.length?this.cache_.sources=m:f.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=c},o.handleTechSourceset_=function(s){var c=this;if(!this.changingSrc_){var d=function(v){return c.updateSourceCaches_(v)},f=this.currentSource().src,m=s.src;f&&!/^blob:/.test(f)&&/^blob:/.test(m)&&(!this.lastSource_||this.lastSource_.tech!==m&&this.lastSource_.player!==f)&&(d=function(){}),d(m),s.src||this.tech_.any(["sourceset","loadstart"],function(g){if(g.type!=="sourceset"){var v=c.techGet("currentSrc");c.lastSource_.tech=v,c.updateSourceCaches_(v)}})}this.lastSource_={player:this.currentSource().src,tech:s.src},this.trigger({src:s.src,type:"sourceset"})},o.hasStarted=function(s){if(s===void 0)return this.hasStarted_;s!==this.hasStarted_&&(this.hasStarted_=s,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},o.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},o.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(s){return s.callback(s.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},o.handleTechWaiting_=function(){var s=this;this.addClass("vjs-waiting"),this.trigger("waiting");var c=this.currentTime(),d=function f(){c!==s.currentTime()&&(s.removeClass("vjs-waiting"),s.off("timeupdate",f))};this.on("timeupdate",d)},o.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},o.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},o.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},o.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},o.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},o.handleTechFirstPlay_=function(){this.options_.starttime&&(log$1.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},o.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},o.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},o.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},o.handleTechClick_=function(s){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,s):this.paused()?silencePromise(this.play()):this.pause())},o.handleTechDoubleClick_=function(s){if(this.controls_){var c=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(d){return d.contains(s.target)});c||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,s):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},o.handleTechTap_=function(){this.userActive(!this.userActive())},o.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},o.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},o.handleTechTouchEnd_=function(s){s.cancelable&&s.preventDefault()},o.handleStageClick_=function(){this.reportUserActivity()},o.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},o.documentFullscreenChange_=function(s){var c=s.target.player;if(!(c&&c!==this)){var d=this.el(),f=document$2[this.fsApi_.fullscreenElement]===d;!f&&d.matches?f=d.matches(":"+this.fsApi_.fullscreen):!f&&d.msMatchesSelector&&(f=d.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(f)}},o.handleTechFullscreenChange_=function(s,c){var d=this;c&&(c.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){d.removeClass("vjs-ios-native-fs")})),this.isFullscreen(c.isFullscreen))},o.handleTechFullscreenError_=function(s,c){this.trigger("fullscreenerror",c)},o.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},o.handleTechEnterPictureInPicture_=function(s){this.isInPictureInPicture(!0)},o.handleTechLeavePictureInPicture_=function(s){this.isInPictureInPicture(!1)},o.handleTechError_=function(){var s=this.tech_.error();this.error(s)},o.handleTechTextData_=function(){var s=null;arguments.length>1&&(s=arguments[1]),this.trigger("textdata",s)},o.getCache=function(){return this.cache_},o.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},o.techCall_=function(s,c){this.ready(function(){if(s in allowedSetters)return set(this.middleware_,this.tech_,s,c);if(s in allowedMediators)return mediate(this.middleware_,this.tech_,s,c);try{this.tech_&&this.tech_[s](c)}catch(d){throw log$1(d),d}},!0)},o.techGet_=function(s){if(!(!this.tech_||!this.tech_.isReady_)){if(s in allowedGetters)return get(this.middleware_,this.tech_,s);if(s in allowedMediators)return mediate(this.middleware_,this.tech_,s);try{return this.tech_[s]()}catch(c){throw this.tech_[s]===void 0?(log$1("Video.js: "+s+" method not defined for "+this.techName_+" playback technology.",c),c):c.name==="TypeError"?(log$1("Video.js: "+s+" unavailable on "+this.techName_+" playback technology element.",c),this.tech_.isReady_=!1,c):(log$1(c),c)}}},o.play=function(){var s=this,c=this.options_.Promise||window$1$1.Promise;return c?new c(function(d){s.play_(d)}):this.play_()},o.play_=function(s){var c=this;s===void 0&&(s=silencePromise),this.playCallbacks_.push(s);var d=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),f=!!(IS_ANY_SAFARI||IS_IOS);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!d){this.waitToPlay_=function(v){c.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!d&&f&&this.load();return}var m=this.techGet_("play"),g=f&&this.hasClass("vjs-ended");g&&this.resetProgressBar_(),m===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(m)},o.runPlayTerminatedQueue_=function(){var s=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],s.forEach(function(c){c()})},o.runPlayCallbacks_=function(s){var c=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],c.forEach(function(d){d(s)})},o.pause=function(){this.techCall_("pause")},o.paused=function(){return this.techGet_("paused")!==!1},o.played=function(){return this.techGet_("played")||createTimeRanges(0,0)},o.scrubbing=function(s){if(typeof s>"u")return this.scrubbing_;this.scrubbing_=!!s,this.techCall_("setScrubbing",this.scrubbing_),s?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},o.currentTime=function(s){if(typeof s<"u"){if(s<0&&(s=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=s,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",s),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},o.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},o.duration=function(s){if(s===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;s=parseFloat(s),s<0&&(s=1/0),s!==this.cache_.duration&&(this.cache_.duration=s,s===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(s)||this.trigger("durationchange"))},o.remainingTime=function(){return this.duration()-this.currentTime()},o.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},o.buffered=function(){var s=this.techGet_("buffered");return(!s||!s.length)&&(s=createTimeRanges(0,0)),s},o.bufferedPercent=function(){return bufferedPercent(this.buffered(),this.duration())},o.bufferedEnd=function(){var s=this.buffered(),c=this.duration(),d=s.end(s.length-1);return d>c&&(d=c),d},o.volume=function(s){var c;if(s!==void 0){c=Math.max(0,Math.min(1,parseFloat(s))),this.cache_.volume=c,this.techCall_("setVolume",c),c>0&&this.lastVolume_(c);return}return c=parseFloat(this.techGet_("volume")),isNaN(c)?1:c},o.muted=function(s){if(s!==void 0){this.techCall_("setMuted",s);return}return this.techGet_("muted")||!1},o.defaultMuted=function(s){return s!==void 0?this.techCall_("setDefaultMuted",s):this.techGet_("defaultMuted")||!1},o.lastVolume_=function(s){if(s!==void 0&&s!==0){this.cache_.lastVolume=s;return}return this.cache_.lastVolume},o.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},o.isFullscreen=function(s){if(s!==void 0){var c=this.isFullscreen_;this.isFullscreen_=!!s,this.isFullscreen_!==c&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},o.requestFullscreen=function(s){var c=this.options_.Promise||window$1$1.Promise;if(c){var d=this;return new c(function(f,m){function g(){d.off("fullscreenerror",y),d.off("fullscreenchange",v)}function v(){g(),f()}function y(b,x){g(),m(x)}d.one("fullscreenchange",v),d.one("fullscreenerror",y);var _=d.requestFullscreenHelper_(s);_&&(_.then(g,g),_.then(f,m))})}return this.requestFullscreenHelper_()},o.requestFullscreenHelper_=function(s){var c=this,d;if(this.fsApi_.prefixed||(d=this.options_.fullscreen&&this.options_.fullscreen.options||{},s!==void 0&&(d=s)),this.fsApi_.requestFullscreen){var f=this.el_[this.fsApi_.requestFullscreen](d);return f&&f.then(function(){return c.isFullscreen(!0)},function(){return c.isFullscreen(!1)}),f}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},o.exitFullscreen=function(){var s=this.options_.Promise||window$1$1.Promise;if(s){var c=this;return new s(function(d,f){function m(){c.off("fullscreenerror",v),c.off("fullscreenchange",g)}function g(){m(),d()}function v(_,b){m(),f(b)}c.one("fullscreenchange",g),c.one("fullscreenerror",v);var y=c.exitFullscreenHelper_();y&&(y.then(m,m),y.then(d,f))})}return this.exitFullscreenHelper_()},o.exitFullscreenHelper_=function(){var s=this;if(this.fsApi_.requestFullscreen){var c=document$2[this.fsApi_.exitFullscreen]();return c&&silencePromise(c.then(function(){return s.isFullscreen(!1)})),c}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},o.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document$2.documentElement.style.overflow,on(document$2,"keydown",this.boundFullWindowOnEscKey_),document$2.documentElement.style.overflow="hidden",addClass(document$2.body,"vjs-full-window"),this.trigger("enterFullWindow")},o.fullWindowOnEscKey=function(s){keycode.isEventKey(s,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},o.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,off(document$2,"keydown",this.boundFullWindowOnEscKey_),document$2.documentElement.style.overflow=this.docOrigOverflow,removeClass(document$2.body,"vjs-full-window"),this.trigger("exitFullWindow")},o.disablePictureInPicture=function(s){if(s===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",s),this.options_.disablePictureInPicture=s,this.trigger("disablepictureinpicturechanged")},o.isInPictureInPicture=function(s){if(s!==void 0){this.isInPictureInPicture_=!!s,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},o.requestPictureInPicture=function(){if("pictureInPictureEnabled"in document$2&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},o.exitPictureInPicture=function(){if("pictureInPictureEnabled"in document$2)return document$2.exitPictureInPicture()},o.handleKeyDown=function(s){var c=this.options_.userActions;if(!(!c||!c.hotkeys)){var d=function(m){var g=m.tagName.toLowerCase();if(m.isContentEditable)return!0;var v=["button","checkbox","hidden","radio","reset","submit"];if(g==="input")return v.indexOf(m.type)===-1;var y=["textarea"];return y.indexOf(g)!==-1};d(this.el_.ownerDocument.activeElement)||(typeof c.hotkeys=="function"?c.hotkeys.call(this,s):this.handleHotkeys(s))}},o.handleHotkeys=function(s){var c=this.options_.userActions?this.options_.userActions.hotkeys:{},d=c.fullscreenKey,f=d===void 0?function(w){return keycode.isEventKey(w,"f")}:d,m=c.muteKey,g=m===void 0?function(w){return keycode.isEventKey(w,"m")}:m,v=c.playPauseKey,y=v===void 0?function(w){return keycode.isEventKey(w,"k")||keycode.isEventKey(w,"Space")}:v;if(f.call(this,s)){s.preventDefault(),s.stopPropagation();var _=Component$1.getComponent("FullscreenToggle");document$2[this.fsApi_.fullscreenEnabled]!==!1&&_.prototype.handleClick.call(this,s)}else if(g.call(this,s)){s.preventDefault(),s.stopPropagation();var b=Component$1.getComponent("MuteToggle");b.prototype.handleClick.call(this,s)}else if(y.call(this,s)){s.preventDefault(),s.stopPropagation();var x=Component$1.getComponent("PlayToggle");x.prototype.handleClick.call(this,s)}},o.canPlayType=function(s){for(var c,d=0,f=this.options_.techOrder;d<f.length;d++){var m=f[d],g=Tech$1.getTech(m);if(g||(g=Component$1.getComponent(m)),!g){log$1.error('The "'+m+'" tech is undefined. Skipped browser support check for that tech.');continue}if(g.isSupported()&&(c=g.canPlayType(s),c))return c}return""},o.selectSource=function(s){var c=this,d=this.options_.techOrder.map(function(y){return[y,Tech$1.getTech(y)]}).filter(function(y){var _=y[0],b=y[1];return b?b.isSupported():(log$1.error('The "'+_+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),f=function(_,b,x){var w;return _.some(function(A){return b.some(function(D){if(w=x(A,D),w)return!0})}),w},m,g=function(_){return function(b,x){return _(x,b)}},v=function(_,b){var x=_[0],w=_[1];if(w.canPlaySource(b,c.options_[x.toLowerCase()]))return{source:b,tech:x}};return this.options_.sourceOrder?m=f(s,d,g(v)):m=f(d,s,v),m||!1},o.handleSrc_=function(s,c){var d=this;if(typeof s>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var f=filterSource(s);if(!f.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,c||(this.cache_.sources=f),this.updateSourceCaches_(f[0]),setSource(this,f[0],function(v,y){d.middleware_=y,c||(d.cache_.sources=f),d.updateSourceCaches_(v);var _=d.src_(v);if(_){if(f.length>1)return d.handleSrc_(f.slice(1));d.changingSrc_=!1,d.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),d.triggerReady();return}setTech(y,d.tech_)}),this.options_.retryOnError&&f.length>1){var m=function(){d.error(null),d.handleSrc_(f.slice(1),!0)},g=function(){d.off("error",m)};this.one("error",m),this.one("playing",g),this.resetRetryOnError_=function(){d.off("error",m),d.off("playing",g)}}},o.src=function(s){return this.handleSrc_(s,!1)},o.src_=function(s){var c=this,d=this.selectSource([s]);return d?titleCaseEquals(d.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",s):this.techCall_("src",s.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(d.tech,d.source),this.tech_.ready(function(){c.changingSrc_=!1}),!1):!0},o.load=function(){this.techCall_("load")},o.reset=function(){var s=this,c=this.options_.Promise||window$1$1.Promise;if(this.paused()||!c)this.doReset_();else{var d=this.play();silencePromise(d.then(function(){return s.doReset_()}))}},o.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),isEvented(this)&&this.trigger("playerreset")},o.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},o.resetProgressBar_=function(){this.currentTime(0);var s=this.controlBar||{},c=s.durationDisplay,d=s.remainingTimeDisplay;c&&c.updateContent(),d&&d.updateContent()},o.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},o.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},o.currentSources=function(){var s=this.currentSource(),c=[];return Object.keys(s).length!==0&&c.push(s),this.cache_.sources||c},o.currentSource=function(){return this.cache_.source||{}},o.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},o.currentType=function(){return this.currentSource()&&this.currentSource().type||""},o.preload=function(s){if(s!==void 0){this.techCall_("setPreload",s),this.options_.preload=s;return}return this.techGet_("preload")},o.autoplay=function(s){if(s===void 0)return this.options_.autoplay||!1;var c;typeof s=="string"&&/(any|play|muted)/.test(s)||s===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=s,this.manualAutoplay_(typeof s=="string"?s:"play"),c=!1):s?this.options_.autoplay=!0:this.options_.autoplay=!1,c=typeof c>"u"?this.options_.autoplay:c,this.tech_&&this.techCall_("setAutoplay",c)},o.playsinline=function(s){return s!==void 0?(this.techCall_("setPlaysinline",s),this.options_.playsinline=s,this):this.techGet_("playsinline")},o.loop=function(s){if(s!==void 0){this.techCall_("setLoop",s),this.options_.loop=s;return}return this.techGet_("loop")},o.poster=function(s){if(s===void 0)return this.poster_;s||(s=""),s!==this.poster_&&(this.poster_=s,this.techCall_("setPoster",s),this.isPosterFromTech_=!1,this.trigger("posterchange"))},o.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var s=this.tech_.poster()||"";s!==this.poster_&&(this.poster_=s,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},o.controls=function(s){if(s===void 0)return!!this.controls_;s=!!s,this.controls_!==s&&(this.controls_=s,this.usingNativeControls()&&this.techCall_("setControls",s),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},o.usingNativeControls=function(s){if(s===void 0)return!!this.usingNativeControls_;s=!!s,this.usingNativeControls_!==s&&(this.usingNativeControls_=s,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},o.error=function(s){var c=this;if(s===void 0)return this.error_||null;if(hooks("beforeerror").forEach(function(f){var m=f(c,s);if(!(isObject(m)&&!Array.isArray(m)||typeof m=="string"||typeof m=="number"||m===null)){c.log.error("please return a value that MediaError expects in beforeerror hooks");return}s=m}),this.options_.suppressNotSupportedError&&s&&s.code===4){var d=function(){this.error(s)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],d),this.one("loadstart",function(){this.off(["click","touchstart"],d)});return}if(s===null){this.error_=s,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new MediaError(s),this.addClass("vjs-error"),log$1.error("(CODE:"+this.error_.code+" "+MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),hooks("error").forEach(function(f){return f(c,c.error_)})},o.reportUserActivity=function(s){this.userActivity_=!0},o.userActive=function(s){if(s===void 0)return this.userActive_;if(s=!!s,s!==this.userActive_){if(this.userActive_=s,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(c){c.stopPropagation(),c.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},o.listenForUserActivity_=function(){var s,c,d,f=bind(this,this.reportUserActivity),m=function(x){(x.screenX!==c||x.screenY!==d)&&(c=x.screenX,d=x.screenY,f())},g=function(){f(),this.clearInterval(s),s=this.setInterval(f,250)},v=function(x){f(),this.clearInterval(s)};this.on("mousedown",g),this.on("mousemove",m),this.on("mouseup",v),this.on("mouseleave",v);var y=this.getChild("controlBar");y&&!IS_IOS&&!IS_ANDROID&&(y.on("mouseenter",function(b){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),y.on("mouseleave",function(b){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",f),this.on("keyup",f);var _;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(_);var b=this.options_.inactivityTimeout;b<=0||(_=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},b))}},250)},o.playbackRate=function(s){if(s!==void 0){this.techCall_("setPlaybackRate",s);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},o.defaultPlaybackRate=function(s){return s!==void 0?this.techCall_("setDefaultPlaybackRate",s):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},o.isAudio=function(s){if(s!==void 0){this.isAudio_=!!s;return}return!!this.isAudio_},o.enableAudioOnlyUI_=function(){var s=this;this.addClass("vjs-audio-only-mode");var c=this.children(),d=this.getChild("ControlBar"),f=d&&d.currentHeight();c.forEach(function(m){m!==d&&m.el_&&!m.hasClass("vjs-hidden")&&(m.hide(),s.audioOnlyCache_.hiddenChildren.push(m))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(f),this.trigger("audioonlymodechange")},o.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(s){return s.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},o.audioOnlyMode=function(s){var c=this;if(typeof s!="boolean"||s===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=s;var d=this.options_.Promise||window$1$1.Promise;if(d){if(s){var f=[];return this.isInPictureInPicture()&&f.push(this.exitPictureInPicture()),this.isFullscreen()&&f.push(this.exitFullscreen()),this.audioPosterMode()&&f.push(this.audioPosterMode(!1)),d.all(f).then(function(){return c.enableAudioOnlyUI_()})}return d.resolve().then(function(){return c.disableAudioOnlyUI_()})}s?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},o.enablePosterModeUI_=function(){var s=this.tech_&&this.tech_;s.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},o.disablePosterModeUI_=function(){var s=this.tech_&&this.tech_;s.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},o.audioPosterMode=function(s){var c=this;if(typeof s!="boolean"||s===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=s;var d=this.options_.Promise||window$1$1.Promise;if(d){if(s){if(this.audioOnlyMode()){var f=this.audioOnlyMode(!1);return f.then(function(){c.enablePosterModeUI_()})}return d.resolve().then(function(){c.enablePosterModeUI_()})}return d.resolve().then(function(){c.disablePosterModeUI_()})}if(s){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},o.addTextTrack=function(s,c,d){if(this.tech_)return this.tech_.addTextTrack(s,c,d)},o.addRemoteTextTrack=function(s,c){if(this.tech_)return this.tech_.addRemoteTextTrack(s,c)},o.removeRemoteTextTrack=function(s){s===void 0&&(s={});var c=s,d=c.track;if(d||(d=s),this.tech_)return this.tech_.removeRemoteTextTrack(d)},o.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},o.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},o.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},o.language=function(s){if(s===void 0)return this.language_;this.language_!==String(s).toLowerCase()&&(this.language_=String(s).toLowerCase(),isEvented(this)&&this.trigger("languagechange"))},o.languages=function(){return mergeOptions$3(a.prototype.options_.languages,this.languages_)},o.toJSON=function(){var s=mergeOptions$3(this.options_),c=s.tracks;s.tracks=[];for(var d=0;d<c.length;d++){var f=c[d];f=mergeOptions$3(f),f.player=void 0,s.tracks[d]=f}return s},o.createModal=function(s,c){var d=this;c=c||{},c.content=s||"";var f=new ModalDialog(this,c);return this.addChild(f),f.on("dispose",function(){d.removeChild(f)}),f.open(),f},o.updateCurrentBreakpoint_=function(){if(this.responsive())for(var s=this.currentBreakpoint(),c=this.currentWidth(),d=0;d<BREAKPOINT_ORDER.length;d++){var f=BREAKPOINT_ORDER[d],m=this.breakpoints_[f];if(c<=m){if(s===f)return;s&&this.removeClass(BREAKPOINT_CLASSES[s]),this.addClass(BREAKPOINT_CLASSES[f]),this.breakpoint_=f;break}}},o.removeCurrentBreakpoint_=function(){var s=this.currentBreakpointClass();this.breakpoint_="",s&&this.removeClass(s)},o.breakpoints=function(s){return s===void 0?assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=assign({},DEFAULT_BREAKPOINTS,s),this.updateCurrentBreakpoint_(),assign(this.breakpoints_))},o.responsive=function(s){if(s===void 0)return this.responsive_;s=!!s;var c=this.responsive_;if(s!==c)return this.responsive_=s,s?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),s},o.currentBreakpoint=function(){return this.breakpoint_},o.currentBreakpointClass=function(){return BREAKPOINT_CLASSES[this.breakpoint_]||""},o.loadMedia=function(s,c){var d=this;if(!(!s||typeof s!="object")){this.reset(),this.cache_.media=mergeOptions$3(s);var f=this.cache_.media,m=f.artwork,g=f.poster,v=f.src,y=f.textTracks;!m&&g&&(this.cache_.media.artwork=[{src:g,type:getMimetype(g)}]),v&&this.src(v),g&&this.poster(g),Array.isArray(y)&&y.forEach(function(_){return d.addRemoteTextTrack(_,!1)}),this.ready(c)}},o.getMedia=function(){if(!this.cache_.media){var s=this.poster(),c=this.currentSources(),d=Array.prototype.map.call(this.remoteTextTracks(),function(m){return{kind:m.kind,label:m.label,language:m.language,src:m.src}}),f={src:c,textTracks:d};return s&&(f.poster=s,f.artwork=[{src:f.poster,type:getMimetype(f.poster)}]),f}return mergeOptions$3(this.cache_.media)},a.getTagSettings=function(s){var c={sources:[],tracks:[]},d=getAttributes(s),f=d["data-setup"];if(hasClass(s,"vjs-fill")&&(d.fill=!0),hasClass(s,"vjs-fluid")&&(d.fluid=!0),f!==null){var m=safeParseTuple(f||"{}"),g=m[0],v=m[1];g&&log$1.error(g),assign(d,v)}if(assign(c,d),s.hasChildNodes())for(var y=s.childNodes,_=0,b=y.length;_<b;_++){var x=y[_],w=x.nodeName.toLowerCase();w==="source"?c.sources.push(getAttributes(x)):w==="track"&&c.tracks.push(getAttributes(x))}return c},o.flexNotSupported_=function(){var s=document$2.createElement("i");return!("flexBasis"in s.style||"webkitFlexBasis"in s.style||"mozFlexBasis"in s.style||"msFlexBasis"in s.style||"msFlexOrder"in s.style)},o.debug=function(s){if(s===void 0)return this.debugEnabled_;s?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},o.playbackRates=function(s){if(s===void 0)return this.cache_.playbackRates;Array.isArray(s)&&s.every(function(c){return typeof c=="number"})&&(this.cache_.playbackRates=s,this.trigger("playbackrateschange"))},a}(Component$1);ALL.names.forEach(function(l){var a=ALL[l];Player$2.prototype[a.getterName]=function(){return this.tech_?this.tech_[a.getterName]():(this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName])}});Player$2.prototype.crossorigin=Player$2.prototype.crossOrigin;Player$2.players={};var navigator$1=window$1$1.navigator;Player$2.prototype.options_={techOrder:Tech$1.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:navigator$1&&(navigator$1.languages&&navigator$1.languages[0]||navigator$1.userLanguage||navigator$1.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(l){Player$2.prototype[l]=function(){return this.techGet_(l)}});TECH_EVENTS_RETRIGGER.forEach(function(l){Player$2.prototype["handleTech"+toTitleCase$1(l)+"_"]=function(){return this.trigger(l)}});Component$1.registerComponent("Player",Player$2);var BASE_PLUGIN_NAME="plugin",PLUGIN_CACHE_KEY="activePlugins_",pluginStorage={},pluginExists=function(a){return pluginStorage.hasOwnProperty(a)},getPlugin=function(a){return pluginExists(a)?pluginStorage[a]:void 0},markPluginAsActive=function(a,o){a[PLUGIN_CACHE_KEY]=a[PLUGIN_CACHE_KEY]||{},a[PLUGIN_CACHE_KEY][o]=!0},triggerSetupEvent=function(a,o,u){var s=(u?"before":"")+"pluginsetup";a.trigger(s,o),a.trigger(s+":"+o.name,o)},createBasicPlugin=function(a,o){var u=function(){triggerSetupEvent(this,{name:a,plugin:o,instance:null},!0);var c=o.apply(this,arguments);return markPluginAsActive(this,a),triggerSetupEvent(this,{name:a,plugin:o,instance:c}),c};return Object.keys(o).forEach(function(s){u[s]=o[s]}),u},createPluginFactory=function(a,o){return o.prototype.name=a,function(){triggerSetupEvent(this,{name:a,plugin:o,instance:null},!0);for(var u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];var d=_construct$1(o,[this].concat(s));return this[a]=function(){return d},triggerSetupEvent(this,d.getEventHash()),d}},Plugin=function(){function l(o){if(this.constructor===l)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=o,this.log||(this.log=this.player.log.createLogger(this.name)),evented(this),delete this.trigger,stateful(this,this.constructor.defaultState),markPluginAsActive(o,this.name),this.dispose=this.dispose.bind(this),o.on("dispose",this.dispose)}var a=l.prototype;return a.version=function(){return this.constructor.VERSION},a.getEventHash=function(u){return u===void 0&&(u={}),u.name=this.name,u.plugin=this.constructor,u.instance=this,u},a.trigger=function(u,s){return s===void 0&&(s={}),trigger(this.eventBusEl_,u,this.getEventHash(s))},a.handleStateChanged=function(u){},a.dispose=function(){var u=this.name,s=this.player;this.trigger("dispose"),this.off(),s.off("dispose",this.dispose),s[PLUGIN_CACHE_KEY][u]=!1,this.player=this.state=null,s[u]=createPluginFactory(u,pluginStorage[u])},l.isBasic=function(u){var s=typeof u=="string"?getPlugin(u):u;return typeof s=="function"&&!l.prototype.isPrototypeOf(s.prototype)},l.registerPlugin=function(u,s){if(typeof u!="string")throw new Error('Illegal plugin name, "'+u+'", must be a string, was '+typeof u+".");if(pluginExists(u))log$1.warn('A plugin named "'+u+'" already exists. You may want to avoid re-registering plugins!');else if(Player$2.prototype.hasOwnProperty(u))throw new Error('Illegal plugin name, "'+u+'", cannot share a name with an existing player method!');if(typeof s!="function")throw new Error('Illegal plugin for "'+u+'", must be a function, was '+typeof s+".");return pluginStorage[u]=s,u!==BASE_PLUGIN_NAME&&(l.isBasic(s)?Player$2.prototype[u]=createBasicPlugin(u,s):Player$2.prototype[u]=createPluginFactory(u,s)),s},l.deregisterPlugin=function(u){if(u===BASE_PLUGIN_NAME)throw new Error("Cannot de-register base plugin.");pluginExists(u)&&(delete pluginStorage[u],delete Player$2.prototype[u])},l.getPlugins=function(u){u===void 0&&(u=Object.keys(pluginStorage));var s;return u.forEach(function(c){var d=getPlugin(c);d&&(s=s||{},s[c]=d)}),s},l.getPluginVersion=function(u){var s=getPlugin(u);return s&&s.VERSION||""},l}();Plugin.getPlugin=getPlugin;Plugin.BASE_PLUGIN_NAME=BASE_PLUGIN_NAME;Plugin.registerPlugin(BASE_PLUGIN_NAME,Plugin);Player$2.prototype.usingPlugin=function(l){return!!this[PLUGIN_CACHE_KEY]&&this[PLUGIN_CACHE_KEY][l]===!0};Player$2.prototype.hasPlugin=function(l){return!!pluginExists(l)};var hasLogged=!1,extend=function(a,o){o===void 0&&(o={}),hasLogged||(log$1.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),hasLogged=!0);var u=function(){a.apply(this,arguments)},s={};typeof o=="object"?(o.constructor!==Object.prototype.constructor&&(u=o.constructor),s=o):typeof o=="function"&&(u=o),_inherits$1(u,a),a&&(u.super_=a);for(var c in s)s.hasOwnProperty(c)&&(u.prototype[c]=s[c]);return u},normalizeId=function(a){return a.indexOf("#")===0?a.slice(1):a};function videojs(l,a,o){var u=videojs.getPlayer(l);if(u)return a&&log$1.warn('Player "'+l+'" is already initialised. Options will not be applied.'),o&&u.ready(o),u;var s=typeof l=="string"?$("#"+normalizeId(l)):l;if(!isEl(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!s.ownerDocument.defaultView||!s.ownerDocument.body.contains(s))&&log$1.warn("The element supplied is not included in the DOM"),a=a||{},a.restoreEl===!0&&(a.restoreEl=(s.parentNode&&s.parentNode.hasAttribute("data-vjs-player")?s.parentNode:s).cloneNode(!0)),hooks("beforesetup").forEach(function(d){var f=d(s,mergeOptions$3(a));if(!isObject(f)||Array.isArray(f)){log$1.error("please return an object in beforesetup hooks");return}a=mergeOptions$3(a,f)});var c=Component$1.getComponent("Player");return u=new c(s,a,o),hooks("setup").forEach(function(d){return d(u)}),u}videojs.hooks_=hooks_;videojs.hooks=hooks;videojs.hook=hook;videojs.hookOnce=hookOnce;videojs.removeHook=removeHook;if(window$1$1.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&isReal()){var style=$(".vjs-styles-defaults");if(!style){style=createStyleElement("vjs-styles-defaults");var head=$("head");head&&head.insertBefore(style,head.firstChild),setTextContent(style,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}autoSetupTimeout(1,videojs);videojs.VERSION=version$5;videojs.options=Player$2.prototype.options_;videojs.getPlayers=function(){return Player$2.players};videojs.getPlayer=function(l){var a=Player$2.players,o;if(typeof l=="string"){var u=normalizeId(l),s=a[u];if(s)return s;o=$("#"+u)}else o=l;if(isEl(o)){var c=o,d=c.player,f=c.playerId;if(d||a[f])return d||a[f]}};videojs.getAllPlayers=function(){return Object.keys(Player$2.players).map(function(l){return Player$2.players[l]}).filter(Boolean)};videojs.players=Player$2.players;videojs.getComponent=Component$1.getComponent;videojs.registerComponent=function(l,a){Tech$1.isTech(a)&&log$1.warn("The "+l+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Component$1.registerComponent.call(Component$1,l,a)};videojs.getTech=Tech$1.getTech;videojs.registerTech=Tech$1.registerTech;videojs.use=use;Object.defineProperty(videojs,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(videojs.middleware,"TERMINATOR",{value:TERMINATOR,writeable:!1,enumerable:!0});videojs.browser=browser;videojs.TOUCH_ENABLED=TOUCH_ENABLED;videojs.extend=extend;videojs.mergeOptions=mergeOptions$3;videojs.bind=bind;videojs.registerPlugin=Plugin.registerPlugin;videojs.deregisterPlugin=Plugin.deregisterPlugin;videojs.plugin=function(l,a){return log$1.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Plugin.registerPlugin(l,a)};videojs.getPlugins=Plugin.getPlugins;videojs.getPlugin=Plugin.getPlugin;videojs.getPluginVersion=Plugin.getPluginVersion;videojs.addLanguage=function(l,a){var o;return l=(""+l).toLowerCase(),videojs.options.languages=mergeOptions$3(videojs.options.languages,(o={},o[l]=a,o)),videojs.options.languages[l]};videojs.log=log$1;videojs.createLogger=createLogger;videojs.createTimeRange=videojs.createTimeRanges=createTimeRanges;videojs.formatTime=formatTime;videojs.setFormatTime=setFormatTime;videojs.resetFormatTime=resetFormatTime;videojs.parseUrl=parseUrl;videojs.isCrossOrigin=isCrossOrigin;videojs.EventTarget=EventTarget$2;videojs.on=on;videojs.one=one;videojs.off=off;videojs.trigger=trigger;videojs.xhr=XHR;videojs.TextTrack=TextTrack;videojs.AudioTrack=AudioTrack;videojs.VideoTrack=VideoTrack;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(l){videojs[l]=function(){return log$1.warn("videojs."+l+"() is deprecated; use videojs.dom."+l+"() instead"),Dom[l].apply(null,arguments)}});videojs.computedStyle=computedStyle;videojs.dom=Dom;videojs.url=Url;videojs.defineLazyProperty=defineLazyProperty;videojs.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.3 @license Apache-2.0 */var resolveUrl=resolveUrl$1,resolveManifestRedirect=function(a,o,u){return a&&u&&u.responseURL&&o!==u.responseURL?u.responseURL:o},logger=function(a){return videojs.log.debug?videojs.log.debug.bind(videojs,"VHS:",a+" >"):function(){}},TIME_FUDGE_FACTOR=1/30,SAFE_TIME_DELTA=TIME_FUDGE_FACTOR*3,filterRanges=function(a,o){var u=[],s;if(a&&a.length)for(s=0;s<a.length;s++)o(a.start(s),a.end(s))&&u.push([a.start(s),a.end(s)]);return videojs.createTimeRanges(u)},findRange=function(a,o){return filterRanges(a,function(u,s){return u-SAFE_TIME_DELTA<=o&&s+SAFE_TIME_DELTA>=o})},findNextRange=function(a,o){return filterRanges(a,function(u){return u-TIME_FUDGE_FACTOR>=o})},findGaps=function(a){if(a.length<2)return videojs.createTimeRanges();for(var o=[],u=1;u<a.length;u++){var s=a.end(u-1),c=a.start(u);o.push([s,c])}return videojs.createTimeRanges(o)},bufferIntersection=function(a,o){var u=null,s=null,c=0,d=[],f=[];if(!a||!a.length||!o||!o.length)return videojs.createTimeRange();for(var m=a.length;m--;)d.push({time:a.start(m),type:"start"}),d.push({time:a.end(m),type:"end"});for(m=o.length;m--;)d.push({time:o.start(m),type:"start"}),d.push({time:o.end(m),type:"end"});for(d.sort(function(g,v){return g.time-v.time}),m=0;m<d.length;m++)d[m].type==="start"?(c++,c===2&&(u=d[m].time)):d[m].type==="end"&&(c--,c===1&&(s=d[m].time)),u!==null&&s!==null&&(f.push([u,s]),u=null,s=null);return videojs.createTimeRanges(f)},printableRange=function(a){var o=[];if(!a||!a.length)return"";for(var u=0;u<a.length;u++)o.push(a.start(u)+" => "+a.end(u));return o.join(", ")},timeUntilRebuffer=function(a,o,u){u===void 0&&(u=1);var s=a.length?a.end(a.length-1):0;return(s-o)/u},timeRangesToArray=function(a){for(var o=[],u=0;u<a.length;u++)o.push({start:a.start(u),end:a.end(u)});return o},isRangeDifferent=function(a,o){if(a===o)return!1;if(!a&&o||!o&&a||a.length!==o.length)return!0;for(var u=0;u<a.length;u++)if(a.start(u)!==o.start(u)||a.end(u)!==o.end(u))return!0;return!1},lastBufferedEnd=function(a){if(!(!a||!a.length||!a.end))return a.end(a.length-1)},timeAheadOf=function(a,o){var u=0;if(!a||!a.length)return u;for(var s=0;s<a.length;s++){var c=a.start(s),d=a.end(s);if(!(o>d)){if(o>c&&o<=d){u+=d-o;continue}u+=d-c}}return u},createTimeRange=videojs.createTimeRange,segmentDurationWithParts=function(a,o){if(!o.preload)return o.duration;var u=0;return(o.parts||[]).forEach(function(s){u+=s.duration}),(o.preloadHints||[]).forEach(function(s){s.type==="PART"&&(u+=a.partTargetDuration)}),u},getPartsAndSegments=function(a){return(a.segments||[]).reduce(function(o,u,s){return u.parts?u.parts.forEach(function(c,d){o.push({duration:c.duration,segmentIndex:s,partIndex:d,part:c,segment:u})}):o.push({duration:u.duration,segmentIndex:s,partIndex:null,segment:u,part:null}),o},[])},getLastParts=function(a){var o=a.segments&&a.segments.length&&a.segments[a.segments.length-1];return o&&o.parts||[]},getKnownPartCount=function(a){var o=a.preloadSegment;if(o){var u=o.parts,s=o.preloadHints,c=(s||[]).reduce(function(d,f){return d+(f.type==="PART"?1:0)},0);return c+=u&&u.length?u.length:0,c}},liveEdgeDelay=function(a,o){if(o.endList)return 0;if(a&&a.suggestedPresentationDelay)return a.suggestedPresentationDelay;var u=getLastParts(o).length>0;return u&&o.serverControl&&o.serverControl.partHoldBack?o.serverControl.partHoldBack:u&&o.partTargetDuration?o.partTargetDuration*3:o.serverControl&&o.serverControl.holdBack?o.serverControl.holdBack:o.targetDuration?o.targetDuration*3:0},backwardDuration=function(a,o){var u=0,s=o-a.mediaSequence,c=a.segments[s];if(c){if(typeof c.start<"u")return{result:c.start,precise:!0};if(typeof c.end<"u")return{result:c.end-c.duration,precise:!0}}for(;s--;){if(c=a.segments[s],typeof c.end<"u")return{result:u+c.end,precise:!0};if(u+=segmentDurationWithParts(a,c),typeof c.start<"u")return{result:u+c.start,precise:!0}}return{result:u,precise:!1}},forwardDuration=function(a,o){for(var u=0,s,c=o-a.mediaSequence;c<a.segments.length;c++){if(s=a.segments[c],typeof s.start<"u")return{result:s.start-u,precise:!0};if(u+=segmentDurationWithParts(a,s),typeof s.end<"u")return{result:s.end-u,precise:!0}}return{result:-1,precise:!1}},intervalDuration=function(a,o,u){if(typeof o>"u"&&(o=a.mediaSequence+a.segments.length),o<a.mediaSequence)return 0;var s=backwardDuration(a,o);if(s.precise)return s.result;var c=forwardDuration(a,o);return c.precise?c.result:s.result+u},duration=function(a,o,u){if(!a)return 0;if(typeof u!="number"&&(u=0),typeof o>"u"){if(a.totalDuration)return a.totalDuration;if(!a.endList)return window$1$1.Infinity}return intervalDuration(a,o,u)},sumDurations=function(a){var o=a.defaultDuration,u=a.durationList,s=a.startIndex,c=a.endIndex,d=0;if(s>c){var f=[c,s];s=f[0],c=f[1]}if(s<0){for(var m=s;m<Math.min(0,c);m++)d+=o;s=0}for(var g=s;g<c;g++)d+=u[g].duration;return d},playlistEnd=function(a,o,u,s){if(!a||!a.segments)return null;if(a.endList)return duration(a);if(o===null)return null;o=o||0;var c=intervalDuration(a,a.mediaSequence+a.segments.length,o);return u&&(s=typeof s=="number"?s:liveEdgeDelay(null,a),c-=s),Math.max(0,c)},seekable=function(a,o,u){var s=!0,c=o||0,d=playlistEnd(a,o,s,u);return d===null?createTimeRange():createTimeRange(c,d)},getMediaInfoForTime=function(a){for(var o=a.playlist,u=a.currentTime,s=a.startingSegmentIndex,c=a.startingPartIndex,d=a.startTime,f=a.experimentalExactManifestTimings,m=u-d,g=getPartsAndSegments(o),v=0,y=0;y<g.length;y++){var _=g[y];if(s===_.segmentIndex&&!(typeof c=="number"&&typeof _.partIndex=="number"&&c!==_.partIndex)){v=y;break}}if(m<0){if(v>0)for(var b=v-1;b>=0;b--){var x=g[b];if(m+=x.duration,f){if(m<0)continue}else if(m+TIME_FUDGE_FACTOR<=0)continue;return{partIndex:x.partIndex,segmentIndex:x.segmentIndex,startTime:d-sumDurations({defaultDuration:o.targetDuration,durationList:g,startIndex:v,endIndex:b})}}return{partIndex:g[0]&&g[0].partIndex||null,segmentIndex:g[0]&&g[0].segmentIndex||0,startTime:u}}if(v<0){for(var w=v;w<0;w++)if(m-=o.targetDuration,m<0)return{partIndex:g[0]&&g[0].partIndex||null,segmentIndex:g[0]&&g[0].segmentIndex||0,startTime:u};v=0}for(var A=v;A<g.length;A++){var D=g[A];if(m-=D.duration,f){if(m>0)continue}else if(m-TIME_FUDGE_FACTOR>=0)continue;return{partIndex:D.partIndex,segmentIndex:D.segmentIndex,startTime:d+sumDurations({defaultDuration:o.targetDuration,durationList:g,startIndex:v,endIndex:A})}}return{segmentIndex:g[g.length-1].segmentIndex,partIndex:g[g.length-1].partIndex,startTime:u}},isBlacklisted=function(a){return a.excludeUntil&&a.excludeUntil>Date.now()},isIncompatible=function(a){return a.excludeUntil&&a.excludeUntil===1/0},isEnabled=function(a){var o=isBlacklisted(a);return!a.disabled&&!o},isDisabled=function(a){return a.disabled},isAes=function(a){for(var o=0;o<a.segments.length;o++)if(a.segments[o].key)return!0;return!1},hasAttribute=function(a,o){return o.attributes&&o.attributes[a]},estimateSegmentRequestTime=function(a,o,u,s){if(s===void 0&&(s=0),!hasAttribute("BANDWIDTH",u))return NaN;var c=a*u.attributes.BANDWIDTH;return(c-s*8)/o},isLowestEnabledRendition=function(a,o){if(a.playlists.length===1)return!0;var u=o.attributes.BANDWIDTH||Number.MAX_VALUE;return a.playlists.filter(function(s){return isEnabled(s)?(s.attributes.BANDWIDTH||0)<u:!1}).length===0},playlistMatch=function(a,o){return!a&&!o||!a&&o||a&&!o?!1:!!(a===o||a.id&&o.id&&a.id===o.id||a.resolvedUri&&o.resolvedUri&&a.resolvedUri===o.resolvedUri||a.uri&&o.uri&&a.uri===o.uri)},someAudioVariant=function(a,o){var u=a&&a.mediaGroups&&a.mediaGroups.AUDIO||{},s=!1;for(var c in u){for(var d in u[c])if(s=o(u[c][d]),s)break;if(s)break}return!!s},isAudioOnly=function(a){if(!a||!a.playlists||!a.playlists.length){var o=someAudioVariant(a,function(d){return d.playlists&&d.playlists.length||d.uri});return o}for(var u=function(f){var m=a.playlists[f],g=m.attributes&&m.attributes.CODECS;if(g&&g.split(",").every(function(y){return isAudioCodec(y)}))return"continue";var v=someAudioVariant(a,function(y){return playlistMatch(m,y)});return v?"continue":{v:!1}},s=0;s<a.playlists.length;s++){var c=u(s);if(c!=="continue"&&typeof c=="object")return c.v}return!0},Playlist={liveEdgeDelay,duration,seekable,getMediaInfoForTime,isEnabled,isDisabled,isBlacklisted,isIncompatible,playlistEnd,isAes,hasAttribute,estimateSegmentRequestTime,isLowestEnabledRendition,isAudioOnly,playlistMatch,segmentDurationWithParts},log=videojs.log,createPlaylistID=function(a,o){return a+"-"+o},groupID=function(a,o,u){return"placeholder-uri-"+a+"-"+o+"-"+u},parseManifest=function(a){var o=a.onwarn,u=a.oninfo,s=a.manifestString,c=a.customTagParsers,d=c===void 0?[]:c,f=a.customTagMappers,m=f===void 0?[]:f,g=a.experimentalLLHLS,v=new Parser;o&&v.on("warn",o),u&&v.on("info",u),d.forEach(function(w){return v.addParser(w)}),m.forEach(function(w){return v.addTagMapper(w)}),v.push(s),v.end();var y=v.manifest;if(g||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(w){y.hasOwnProperty(w)&&delete y[w]}),y.segments&&y.segments.forEach(function(w){["parts","preloadHints"].forEach(function(A){w.hasOwnProperty(A)&&delete w[A]})})),!y.targetDuration){var _=10;y.segments&&y.segments.length&&(_=y.segments.reduce(function(w,A){return Math.max(w,A.duration)},0)),o&&o("manifest has no targetDuration defaulting to "+_),y.targetDuration=_}var b=getLastParts(y);if(b.length&&!y.partTargetDuration){var x=b.reduce(function(w,A){return Math.max(w,A.duration)},0);o&&(o("manifest has no partTargetDuration defaulting to "+x),log.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),y.partTargetDuration=x}return y},forEachMediaGroup=function(a,o){a.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(u){if(a.mediaGroups[u])for(var s in a.mediaGroups[u])for(var c in a.mediaGroups[u][s]){var d=a.mediaGroups[u][s][c];o(d,u,s,c)}})},setupMediaPlaylist=function(a){var o=a.playlist,u=a.uri,s=a.id;o.id=s,o.playlistErrors_=0,u&&(o.uri=u),o.attributes=o.attributes||{}},setupMediaPlaylists=function(a){for(var o=a.playlists.length;o--;){var u=a.playlists[o];setupMediaPlaylist({playlist:u,id:createPlaylistID(o,u.uri)}),u.resolvedUri=resolveUrl(a.uri,u.uri),a.playlists[u.id]=u,a.playlists[u.uri]=u,u.attributes.BANDWIDTH||log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},resolveMediaGroupUris=function(a){forEachMediaGroup(a,function(o){o.uri&&(o.resolvedUri=resolveUrl(a.uri,o.uri))})},masterForMedia=function(a,o){var u=createPlaylistID(0,o),s={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window$1$1.location.href,resolvedUri:window$1$1.location.href,playlists:[{uri:o,id:u,resolvedUri:o,attributes:{}}]};return s.playlists[u]=s.playlists[0],s.playlists[o]=s.playlists[0],s},addPropertiesToMaster=function(a,o,u){u===void 0&&(u=groupID),a.uri=o;for(var s=0;s<a.playlists.length;s++)if(!a.playlists[s].uri){var c="placeholder-uri-"+s;a.playlists[s].uri=c}var d=isAudioOnly(a);forEachMediaGroup(a,function(f,m,g,v){if(!f.playlists||!f.playlists.length){if(d&&m==="AUDIO"&&!f.uri)for(var y=0;y<a.playlists.length;y++){var _=a.playlists[y];if(_.attributes&&_.attributes.AUDIO&&_.attributes.AUDIO===g)return}f.playlists=[_extends$2({},f)]}f.playlists.forEach(function(b,x){var w=u(m,g,v,b),A=createPlaylistID(x,w);b.uri?b.resolvedUri=b.resolvedUri||resolveUrl(a.uri,b.uri):(b.uri=x===0?w:A,b.resolvedUri=b.uri),b.id=b.id||A,b.attributes=b.attributes||{},a.playlists[b.id]=b,a.playlists[b.uri]=b})}),setupMediaPlaylists(a),resolveMediaGroupUris(a)},mergeOptions$2=videojs.mergeOptions,EventTarget$1=videojs.EventTarget,addLLHLSQueryDirectives=function(a,o){if(o.endList||!o.serverControl)return a;var u={};if(o.serverControl.canBlockReload){var s=o.preloadSegment,c=o.mediaSequence+o.segments.length;if(s){var d=s.parts||[],f=getKnownPartCount(o)-1;f>-1&&f!==d.length-1&&(u._HLS_part=f),(f>-1||d.length)&&c--}u._HLS_msn=c}if(o.serverControl&&o.serverControl.canSkipUntil&&(u._HLS_skip=o.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(u).length){var m=new window$1$1.URL(a);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(g){u.hasOwnProperty(g)&&m.searchParams.set(g,u[g])}),a=m.toString()}return a},updateSegment=function(a,o){if(!a)return o;var u=mergeOptions$2(a,o);if(a.preloadHints&&!o.preloadHints&&delete u.preloadHints,a.parts&&!o.parts)delete u.parts;else if(a.parts&&o.parts)for(var s=0;s<o.parts.length;s++)a.parts&&a.parts[s]&&(u.parts[s]=mergeOptions$2(a.parts[s],o.parts[s]));return!a.skipped&&o.skipped&&(u.skipped=!1),a.preload&&!o.preload&&(u.preload=!1),u},updateSegments=function(a,o,u){var s=a.slice(),c=o.slice();u=u||0;for(var d=[],f,m=0;m<c.length;m++){var g=s[m+u],v=c[m];g?(f=g.map||f,d.push(updateSegment(g,v))):(f&&!v.map&&(v.map=f),d.push(v))}return d},resolveSegmentUris=function(a,o){!a.resolvedUri&&a.uri&&(a.resolvedUri=resolveUrl(o,a.uri)),a.key&&!a.key.resolvedUri&&(a.key.resolvedUri=resolveUrl(o,a.key.uri)),a.map&&!a.map.resolvedUri&&(a.map.resolvedUri=resolveUrl(o,a.map.uri)),a.map&&a.map.key&&!a.map.key.resolvedUri&&(a.map.key.resolvedUri=resolveUrl(o,a.map.key.uri)),a.parts&&a.parts.length&&a.parts.forEach(function(u){u.resolvedUri||(u.resolvedUri=resolveUrl(o,u.uri))}),a.preloadHints&&a.preloadHints.length&&a.preloadHints.forEach(function(u){u.resolvedUri||(u.resolvedUri=resolveUrl(o,u.uri))})},getAllSegments=function(a){var o=a.segments||[],u=a.preloadSegment;if(u&&u.parts&&u.parts.length){if(u.preloadHints){for(var s=0;s<u.preloadHints.length;s++)if(u.preloadHints[s].type==="MAP")return o}u.duration=a.targetDuration,u.preload=!0,o.push(u)}return o},isPlaylistUnchanged=function(a,o){return a===o||a.segments&&o.segments&&a.segments.length===o.segments.length&&a.endList===o.endList&&a.mediaSequence===o.mediaSequence&&a.preloadSegment===o.preloadSegment},updateMaster$1=function(a,o,u){u===void 0&&(u=isPlaylistUnchanged);var s=mergeOptions$2(a,{}),c=s.playlists[o.id];if(!c||u(c,o))return null;o.segments=getAllSegments(o);var d=mergeOptions$2(c,o);if(d.preloadSegment&&!o.preloadSegment&&delete d.preloadSegment,c.segments){if(o.skip){o.segments=o.segments||[];for(var f=0;f<o.skip.skippedSegments;f++)o.segments.unshift({skipped:!0})}d.segments=updateSegments(c.segments,o.segments,o.mediaSequence-c.mediaSequence)}d.segments.forEach(function(g){resolveSegmentUris(g,d.resolvedUri)});for(var m=0;m<s.playlists.length;m++)s.playlists[m].id===o.id&&(s.playlists[m]=d);return s.playlists[o.id]=d,s.playlists[o.uri]=d,forEachMediaGroup(a,function(g,v,y,_){if(g.playlists)for(var b=0;b<g.playlists.length;b++)o.id===g.playlists[b].id&&(g.playlists[b]=d)}),s},refreshDelay=function(a,o){var u=a.segments||[],s=u[u.length-1],c=s&&s.parts&&s.parts[s.parts.length-1],d=c&&c.duration||s&&s.duration;return o&&d?d*1e3:(a.partTargetDuration||a.targetDuration||10)*500},PlaylistLoader=function(l){_inheritsLoose(a,l);function a(u,s,c){var d;if(c===void 0&&(c={}),d=l.call(this)||this,!u)throw new Error("A non-empty playlist URL or object is required");d.logger_=logger("PlaylistLoader");var f=c,m=f.withCredentials,g=m===void 0?!1:m,v=f.handleManifestRedirects,y=v===void 0?!1:v;d.src=u,d.vhs_=s,d.withCredentials=g,d.handleManifestRedirects=y;var _=s.options_;return d.customTagParsers=_&&_.customTagParsers||[],d.customTagMappers=_&&_.customTagMappers||[],d.experimentalLLHLS=_&&_.experimentalLLHLS||!1,videojs.browser.IE_VERSION&&(d.experimentalLLHLS=!1),d.state="HAVE_NOTHING",d.handleMediaupdatetimeout_=d.handleMediaupdatetimeout_.bind(_assertThisInitialized$1(d)),d.on("mediaupdatetimeout",d.handleMediaupdatetimeout_),d}var o=a.prototype;return o.handleMediaupdatetimeout_=function(){var s=this;if(this.state==="HAVE_METADATA"){var c=this.media(),d=resolveUrl(this.master.uri,c.uri);this.experimentalLLHLS&&(d=addLLHLSQueryDirectives(d,c)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:d,withCredentials:this.withCredentials},function(f,m){if(s.request){if(f)return s.playlistRequestError(s.request,s.media(),"HAVE_METADATA");s.haveMetadata({playlistString:s.request.responseText,url:s.media().uri,id:s.media().id})}})}},o.playlistRequestError=function(s,c,d){var f=c.uri,m=c.id;this.request=null,d&&(this.state=d),this.error={playlist:this.master.playlists[m],status:s.status,message:"HLS playlist request error at URL: "+f+".",responseText:s.responseText,code:s.status>=500?4:2},this.trigger("error")},o.parseManifest_=function(s){var c=this,d=s.url,f=s.manifestString;return parseManifest({onwarn:function(g){var v=g.message;return c.logger_("m3u8-parser warn for "+d+": "+v)},oninfo:function(g){var v=g.message;return c.logger_("m3u8-parser info for "+d+": "+v)},manifestString:f,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},o.haveMetadata=function(s){var c=s.playlistString,d=s.playlistObject,f=s.url,m=s.id;this.request=null,this.state="HAVE_METADATA";var g=d||this.parseManifest_({url:f,manifestString:c});g.lastRequest=Date.now(),setupMediaPlaylist({playlist:g,uri:f,id:m});var v=updateMaster$1(this.master,g);this.targetDuration=g.partTargetDuration||g.targetDuration,this.pendingMedia_=null,v?(this.master=v,this.media_=this.master.playlists[m]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(refreshDelay(this.media(),!!v)),this.trigger("loadedplaylist")},o.dispose=function(){this.trigger("dispose"),this.stopRequest(),window$1$1.clearTimeout(this.mediaUpdateTimeout),window$1$1.clearTimeout(this.finalRenditionTimeout),this.off()},o.stopRequest=function(){if(this.request){var s=this.request;this.request=null,s.onreadystatechange=null,s.abort()}},o.media=function(s,c){var d=this;if(!s)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof s=="string"){if(!this.master.playlists[s])throw new Error("Unknown playlist URI: "+s);s=this.master.playlists[s]}if(window$1$1.clearTimeout(this.finalRenditionTimeout),c){var f=(s.partTargetDuration||s.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=window$1$1.setTimeout(this.media.bind(this,s,!1),f);return}var m=this.state,g=!this.media_||s.id!==this.media_.id,v=this.master.playlists[s.id];if(v&&v.endList||s.endList&&s.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=s,g&&(this.trigger("mediachanging"),m==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(refreshDelay(s,!0)),!!g){if(this.state="SWITCHING_MEDIA",this.request){if(s.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=s,this.request=this.vhs_.xhr({uri:s.resolvedUri,withCredentials:this.withCredentials},function(y,_){if(d.request){if(s.lastRequest=Date.now(),s.resolvedUri=resolveManifestRedirect(d.handleManifestRedirects,s.resolvedUri,_),y)return d.playlistRequestError(d.request,s,m);d.haveMetadata({playlistString:_.responseText,url:s.uri,id:s.id}),m==="HAVE_MASTER"?d.trigger("loadedmetadata"):d.trigger("mediachange")}})}},o.pause=function(){this.mediaUpdateTimeout&&(window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},o.load=function(s){var c=this;this.mediaUpdateTimeout&&(window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var d=this.media();if(s){var f=d?(d.partTargetDuration||d.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=window$1$1.setTimeout(function(){c.mediaUpdateTimeout=null,c.load()},f);return}if(!this.started){this.start();return}d&&!d.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},o.updateMediaUpdateTimeout_=function(s){var c=this;this.mediaUpdateTimeout&&(window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=window$1$1.setTimeout(function(){c.mediaUpdateTimeout=null,c.trigger("mediaupdatetimeout"),c.updateMediaUpdateTimeout_(s)},s))},o.start=function(){var s=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=window$1$1.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){s.setupInitialPlaylist(s.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(c,d){if(s.request){if(s.request=null,c)return s.error={status:d.status,message:"HLS playlist request error at URL: "+s.src+".",responseText:d.responseText,code:2},s.state==="HAVE_NOTHING"&&(s.started=!1),s.trigger("error");s.src=resolveManifestRedirect(s.handleManifestRedirects,s.src,d);var f=s.parseManifest_({manifestString:d.responseText,url:s.src});s.setupInitialPlaylist(f)}})},o.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},o.setupInitialPlaylist=function(s){if(this.state="HAVE_MASTER",s.playlists){this.master=s,addPropertiesToMaster(this.master,this.srcUri()),s.playlists.forEach(function(d){d.segments=getAllSegments(d),d.segments.forEach(function(f){resolveSegmentUris(f,d.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var c=this.srcUri()||window$1$1.location.href;this.master=masterForMedia(s,c),this.haveMetadata({playlistObject:s,url:c,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},a}(EventTarget$1),videojsXHR=videojs.xhr,mergeOptions$1=videojs.mergeOptions,callbackWrapper=function(a,o,u,s){var c=a.responseType==="arraybuffer"?a.response:a.responseText;!o&&c&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=c.byteLength||c.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),u.headers&&(a.responseHeaders=u.headers),o&&o.code==="ETIMEDOUT"&&(a.timedout=!0),!o&&!a.aborted&&u.statusCode!==200&&u.statusCode!==206&&u.statusCode!==0&&(o=new Error("XHR Failed with a response of: "+(a&&(c||a.responseText)))),s(o,a)},xhrFactory=function(){var a=function o(u,s){u=mergeOptions$1({timeout:45e3},u);var c=o.beforeRequest||videojs.Vhs.xhr.beforeRequest;if(c&&typeof c=="function"){var d=c(u);d&&(u=d)}var f=videojs.Vhs.xhr.original===!0?videojsXHR:videojs.Vhs.xhr,m=f(u,function(v,y){return callbackWrapper(m,v,y,s)}),g=m.abort;return m.abort=function(){return m.aborted=!0,g.apply(m,arguments)},m.uri=u.uri,m.requestTime=Date.now(),m};return a.original=!0,a},byterangeStr=function(a){var o,u=a.offset;return typeof a.offset=="bigint"||typeof a.length=="bigint"?o=window$1$1.BigInt(a.offset)+window$1$1.BigInt(a.length)-window$1$1.BigInt(1):o=a.offset+a.length-1,"bytes="+u+"-"+o},segmentXhrHeaders=function(a){var o={};return a.byterange&&(o.Range=byterangeStr(a.byterange)),o},textRange=function(a,o){return a.start(o)+"-"+a.end(o)},formatHexString=function(a,o){var u=a.toString(16);return"00".substring(0,2-u.length)+u+(o%2?" ":"")},formatAsciiString=function(a){return a>=32&&a<126?String.fromCharCode(a):"."},createTransferableMessage=function(a){var o={};return Object.keys(a).forEach(function(u){var s=a[u];isArrayBufferView(s)?o[u]={bytes:s.buffer,byteOffset:s.byteOffset,byteLength:s.byteLength}:o[u]=s}),o},initSegmentId=function(a){var o=a.byterange||{length:1/0,offset:0};return[o.length,o.offset,a.resolvedUri].join(",")},segmentKeyId=function(a){return a.resolvedUri},hexDump=function(a){for(var o=Array.prototype.slice.call(a),u=16,s="",c,d,f=0;f<o.length/u;f++)c=o.slice(f*u,f*u+u).map(formatHexString).join(""),d=o.slice(f*u,f*u+u).map(formatAsciiString).join(""),s+=c+" "+d+`
`;return s},tagDump=function(a){var o=a.bytes;return hexDump(o)},textRanges=function(a){var o="",u;for(u=0;u<a.length;u++)o+=textRange(a,u)+" ";return o},utils=Object.freeze({__proto__:null,createTransferableMessage,initSegmentId,segmentKeyId,hexDump,tagDump,textRanges}),SEGMENT_END_FUDGE_PERCENT=.25,playerTimeToProgramTime=function(a,o){if(!o.dateTimeObject)return null;var u=o.videoTimingInfo.transmuxerPrependedSeconds,s=o.videoTimingInfo.transmuxedPresentationStart,c=s+u,d=a-c;return new Date(o.dateTimeObject.getTime()+d*1e3)},originalSegmentVideoDuration=function(a){return a.transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds},findSegmentForProgramTime=function(a,o){var u;try{u=new Date(a)}catch{return null}if(!o||!o.segments||o.segments.length===0)return null;var s=o.segments[0];if(u<s.dateTimeObject)return null;for(var c=0;c<o.segments.length-1;c++){s=o.segments[c];var d=o.segments[c+1].dateTimeObject;if(u<d)break}var f=o.segments[o.segments.length-1],m=f.dateTimeObject,g=f.videoTimingInfo?originalSegmentVideoDuration(f.videoTimingInfo):f.duration+f.duration*SEGMENT_END_FUDGE_PERCENT,v=new Date(m.getTime()+g*1e3);return u>v?null:(u>m&&(s=f),{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:Playlist.duration(o,o.mediaSequence+o.segments.indexOf(s)),type:s.videoTimingInfo?"accurate":"estimate"})},findSegmentForPlayerTime=function(a,o){if(!o||!o.segments||o.segments.length===0)return null;for(var u=0,s,c=0;c<o.segments.length&&(s=o.segments[c],u=s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationEnd:u+s.duration,!(a<=u));c++);var d=o.segments[o.segments.length-1];if(d.videoTimingInfo&&d.videoTimingInfo.transmuxedPresentationEnd<a)return null;if(a>u){if(a>u+d.duration*SEGMENT_END_FUDGE_PERCENT)return null;s=d}return{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:u-s.duration,type:s.videoTimingInfo?"accurate":"estimate"}},getOffsetFromTimestamp=function(a,o){var u,s;try{u=new Date(a),s=new Date(o)}catch{}var c=u.getTime(),d=s.getTime();return(d-c)/1e3},verifyProgramDateTimeTags=function(a){if(!a.segments||a.segments.length===0)return!1;for(var o=0;o<a.segments.length;o++){var u=a.segments[o];if(!u.dateTimeObject)return!1}return!0},getProgramTime=function(a){var o=a.playlist,u=a.time,s=u===void 0?void 0:u,c=a.callback;if(!c)throw new Error("getProgramTime: callback must be provided");if(!o||s===void 0)return c({message:"getProgramTime: playlist and time must be provided"});var d=findSegmentForPlayerTime(s,o);if(!d)return c({message:"valid programTime was not found"});if(d.type==="estimate")return c({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:d.estimatedStart});var f={mediaSeconds:s},m=playerTimeToProgramTime(s,d.segment);return m&&(f.programDateTime=m.toISOString()),c(null,f)},seekToProgramTime=function l(a){var o=a.programTime,u=a.playlist,s=a.retryCount,c=s===void 0?2:s,d=a.seekTo,f=a.pauseAfterSeek,m=f===void 0?!0:f,g=a.tech,v=a.callback;if(!v)throw new Error("seekToProgramTime: callback must be provided");if(typeof o>"u"||!u||!d)return v({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!u.endList&&!g.hasStarted_)return v({message:"player must be playing a live stream to start buffering"});if(!verifyProgramDateTimeTags(u))return v({message:"programDateTime tags must be provided in the manifest "+u.resolvedUri});var y=findSegmentForProgramTime(o,u);if(!y)return v({message:o+" was not found in the stream"});var _=y.segment,b=getOffsetFromTimestamp(_.dateTimeObject,o);if(y.type==="estimate"){if(c===0)return v({message:o+" is not buffered yet. Try again"});d(y.estimatedStart+b),g.one("seeked",function(){l({programTime:o,playlist:u,retryCount:c-1,seekTo:d,pauseAfterSeek:m,tech:g,callback:v})});return}var x=_.start+b,w=function(){return v(null,g.currentTime())};g.one("seeked",w),m&&g.pause(),d(x)},callbackOnCompleted=function(a,o){if(a.readyState===4)return o()},containerRequest=function(a,o,u){var s=[],c,d=!1,f=function(_,b,x,w){return b.abort(),d=!0,u(_,b,x,w)},m=function(_,b){if(!d){if(_)return f(_,b,"",s);var x=b.responseText.substring(s&&s.byteLength||0,b.responseText.length);if(s=concatTypedArrays(s,stringToBytes(x,!0)),c=c||getId3Offset(s),s.length<10||c&&s.length<c+2)return callbackOnCompleted(b,function(){return f(_,b,"",s)});var w=detectContainerForBytes(s);return w==="ts"&&s.length<188?callbackOnCompleted(b,function(){return f(_,b,"",s)}):!w&&s.length<376?callbackOnCompleted(b,function(){return f(_,b,"",s)}):f(null,b,w,s)}},g={uri:a,beforeSend:function(_){_.overrideMimeType("text/plain; charset=x-user-defined"),_.addEventListener("progress",function(b){return b.total,b.loaded,callbackWrapper(_,null,{statusCode:_.status},m)})}},v=o(g,function(y,_){return callbackWrapper(v,y,_,m)});return v},EventTarget$3=videojs.EventTarget,mergeOptions=videojs.mergeOptions,dashPlaylistUnchanged=function(a,o){if(!isPlaylistUnchanged(a,o)||a.sidx&&o.sidx&&(a.sidx.offset!==o.sidx.offset||a.sidx.length!==o.sidx.length))return!1;if(!a.sidx&&o.sidx||a.sidx&&!o.sidx||a.segments&&!o.segments||!a.segments&&o.segments)return!1;if(!a.segments&&!o.segments)return!0;for(var u=0;u<a.segments.length;u++){var s=a.segments[u],c=o.segments[u];if(s.uri!==c.uri)return!1;if(!(!s.byterange&&!c.byterange)){var d=s.byterange,f=c.byterange;if(d&&!f||!d&&f||d.offset!==f.offset||d.length!==f.length)return!1}}return!0},dashGroupId=function(a,o,u,s){var c=s.attributes.NAME||u;return"placeholder-uri-"+a+"-"+o+"-"+c},parseMasterXml=function(a){var o=a.masterXml,u=a.srcUrl,s=a.clientOffset,c=a.sidxMapping,d=a.previousManifest,f=parse(o,{manifestUri:u,clientOffset:s,sidxMapping:c,previousManifest:d});return addPropertiesToMaster(f,u,dashGroupId),f},removeOldMediaGroupLabels=function(a,o){forEachMediaGroup(a,function(u,s,c,d){d in o.mediaGroups[s][c]||delete a.mediaGroups[s][c][d]})},updateMaster=function(a,o,u){for(var s=!0,c=mergeOptions(a,{duration:o.duration,minimumUpdatePeriod:o.minimumUpdatePeriod,timelineStarts:o.timelineStarts}),d=0;d<o.playlists.length;d++){var f=o.playlists[d];if(f.sidx){var m=generateSidxKey(f.sidx);u&&u[m]&&u[m].sidx&&addSidxSegmentsToPlaylist$1(f,u[m].sidx,f.sidx.resolvedUri)}var g=updateMaster$1(c,f,dashPlaylistUnchanged);g&&(c=g,s=!1)}return forEachMediaGroup(o,function(v,y,_,b){if(v.playlists&&v.playlists.length){var x=v.playlists[0].id,w=updateMaster$1(c,v.playlists[0],dashPlaylistUnchanged);w&&(c=w,b in c.mediaGroups[y][_]||(c.mediaGroups[y][_][b]=v),c.mediaGroups[y][_][b].playlists[0]=c.playlists[x],s=!1)}}),removeOldMediaGroupLabels(c,o),o.minimumUpdatePeriod!==a.minimumUpdatePeriod&&(s=!1),s?null:c},equivalentSidx=function(a,o){var u=!a.map&&!o.map,s=u||!!(a.map&&o.map&&a.map.byterange.offset===o.map.byterange.offset&&a.map.byterange.length===o.map.byterange.length);return s&&a.uri===o.uri&&a.byterange.offset===o.byterange.offset&&a.byterange.length===o.byterange.length},compareSidxEntry=function(a,o){var u={};for(var s in a){var c=a[s],d=c.sidx;if(d){var f=generateSidxKey(d);if(!o[f])break;var m=o[f].sidxInfo;equivalentSidx(m,d)&&(u[f]=o[f])}}return u},filterChangedSidxMappings=function(a,o){var u=compareSidxEntry(a.playlists,o),s=u;return forEachMediaGroup(a,function(c,d,f,m){if(c.playlists&&c.playlists.length){var g=c.playlists;s=mergeOptions(s,compareSidxEntry(g,o))}}),s},DashPlaylistLoader=function(l){_inheritsLoose(a,l);function a(u,s,c,d){var f;c===void 0&&(c={}),f=l.call(this)||this,f.masterPlaylistLoader_=d||_assertThisInitialized$1(f),d||(f.isMaster_=!0);var m=c,g=m.withCredentials,v=g===void 0?!1:g,y=m.handleManifestRedirects,_=y===void 0?!1:y;if(f.vhs_=s,f.withCredentials=v,f.handleManifestRedirects=_,!u)throw new Error("A non-empty playlist URL or object is required");return f.on("minimumUpdatePeriod",function(){f.refreshXml_()}),f.on("mediaupdatetimeout",function(){f.refreshMedia_(f.media().id)}),f.state="HAVE_NOTHING",f.loadedPlaylists_={},f.logger_=logger("DashPlaylistLoader"),f.isMaster_?(f.masterPlaylistLoader_.srcUrl=u,f.masterPlaylistLoader_.sidxMapping_={}):f.childPlaylist_=u,f}var o=a.prototype;return o.requestErrored_=function(s,c,d){if(!this.request)return!0;if(this.request=null,s)return this.error=typeof s=="object"&&!(s instanceof Error)?s:{status:c.status,message:"DASH request error at URL: "+c.uri,response:c.response,code:2},d&&(this.state=d),this.trigger("error"),!0},o.addSidxSegments_=function(s,c,d){var f=this,m=s.sidx&&generateSidxKey(s.sidx);if(!s.sidx||!m||this.masterPlaylistLoader_.sidxMapping_[m]){this.mediaRequest_=window$1$1.setTimeout(function(){return d(!1)},0);return}var g=resolveManifestRedirect(this.handleManifestRedirects,s.sidx.resolvedUri),v=function(_,b){if(!f.requestErrored_(_,b,c)){var x=f.masterPlaylistLoader_.sidxMapping_,w;try{w=parseSidx$1(toUint8(b.response).subarray(8))}catch(A){f.requestErrored_(A,b,c);return}return x[m]={sidxInfo:s.sidx,sidx:w},addSidxSegmentsToPlaylist$1(s,w,s.sidx.resolvedUri),d(!0)}};this.request=containerRequest(g,this.vhs_.xhr,function(y,_,b,x){if(y)return v(y,_);if(!b||b!=="mp4")return v({status:_.status,message:"Unsupported "+(b||"unknown")+" container type for sidx segment at URL: "+g,response:"",playlist:s,internal:!0,blacklistDuration:1/0,code:2},_);var w=s.sidx.byterange,A=w.offset,D=w.length;if(x.length>=D+A)return v(y,{response:x.subarray(A,A+D),status:_.status,uri:_.uri});f.request=f.vhs_.xhr({uri:g,responseType:"arraybuffer",headers:segmentXhrHeaders({byterange:s.sidx.byterange})},v)})},o.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window$1$1.clearTimeout(this.minimumUpdatePeriodTimeout_),window$1$1.clearTimeout(this.mediaRequest_),window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},o.hasPendingRequest=function(){return this.request||this.mediaRequest_},o.stopRequest=function(){if(this.request){var s=this.request;this.request=null,s.onreadystatechange=null,s.abort()}},o.media=function(s){var c=this;if(!s)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var d=this.state;if(typeof s=="string"){if(!this.masterPlaylistLoader_.master.playlists[s])throw new Error("Unknown playlist URI: "+s);s=this.masterPlaylistLoader_.master.playlists[s]}var f=!this.media_||s.id!==this.media_.id;if(f&&this.loadedPlaylists_[s.id]&&this.loadedPlaylists_[s.id].endList){this.state="HAVE_METADATA",this.media_=s,f&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}f&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(s,d,function(m){c.haveMetadata({startingState:d,playlist:s})}))},o.haveMetadata=function(s){var c=s.startingState,d=s.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[d.id]=d,this.mediaRequest_=null,this.refreshMedia_(d.id),c==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},o.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(window$1$1.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},o.load=function(s){var c=this;window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var d=this.media();if(s){var f=d?d.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=window$1$1.setTimeout(function(){return c.load()},f);return}if(!this.started){this.start();return}d&&!d.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},o.start=function(){var s=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=window$1$1.setTimeout(function(){return s.haveMaster_()},0);return}this.requestMaster_(function(c,d){s.haveMaster_(),!s.hasPendingRequest()&&!s.media_&&s.media(s.masterPlaylistLoader_.master.playlists[0])})},o.requestMaster_=function(s){var c=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(d,f){if(c.requestErrored_(d,f)){c.state==="HAVE_NOTHING"&&(c.started=!1);return}var m=f.responseText!==c.masterPlaylistLoader_.masterXml_;if(c.masterPlaylistLoader_.masterXml_=f.responseText,f.responseHeaders&&f.responseHeaders.date?c.masterLoaded_=Date.parse(f.responseHeaders.date):c.masterLoaded_=Date.now(),c.masterPlaylistLoader_.srcUrl=resolveManifestRedirect(c.handleManifestRedirects,c.masterPlaylistLoader_.srcUrl,f),m){c.handleMaster_(),c.syncClientServerClock_(function(){return s(f,m)});return}return s(f,m)})},o.syncClientServerClock_=function(s){var c=this,d=parseUTCTiming(this.masterPlaylistLoader_.masterXml_);if(d===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),s();if(d.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=d.value-Date.now(),s();this.request=this.vhs_.xhr({uri:resolveUrl(this.masterPlaylistLoader_.srcUrl,d.value),method:d.method,withCredentials:this.withCredentials},function(f,m){if(c.request){if(f)return c.masterPlaylistLoader_.clientOffset_=c.masterLoaded_-Date.now(),s();var g;d.method==="HEAD"?!m.responseHeaders||!m.responseHeaders.date?g=c.masterLoaded_:g=Date.parse(m.responseHeaders.date):g=Date.parse(m.responseText),c.masterPlaylistLoader_.clientOffset_=g-Date.now(),s()}})},o.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},o.handleMaster_=function(){this.mediaRequest_=null;var s=this.masterPlaylistLoader_.master,c=parseMasterXml({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:s});s&&(c=updateMaster(s,c,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=c||s;var d=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return d&&d!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=d),(!s||c&&c.minimumUpdatePeriod!==s.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),!!c},o.updateMinimumUpdatePeriodTimeout_=function(){var s=this.masterPlaylistLoader_;s.createMupOnMedia_&&(s.off("loadedmetadata",s.createMupOnMedia_),s.createMupOnMedia_=null),s.minimumUpdatePeriodTimeout_&&(window$1$1.clearTimeout(s.minimumUpdatePeriodTimeout_),s.minimumUpdatePeriodTimeout_=null);var c=s.master&&s.master.minimumUpdatePeriod;if(c===0&&(s.media()?c=s.media().targetDuration*1e3:(s.createMupOnMedia_=s.updateMinimumUpdatePeriodTimeout_,s.one("loadedmetadata",s.createMupOnMedia_))),typeof c!="number"||c<=0){c<0&&this.logger_("found invalid minimumUpdatePeriod of "+c+", not setting a timeout");return}this.createMUPTimeout_(c)},o.createMUPTimeout_=function(s){var c=this.masterPlaylistLoader_;c.minimumUpdatePeriodTimeout_=window$1$1.setTimeout(function(){c.minimumUpdatePeriodTimeout_=null,c.trigger("minimumUpdatePeriod"),c.createMUPTimeout_(s)},s)},o.refreshXml_=function(){var s=this;this.requestMaster_(function(c,d){d&&(s.media_&&(s.media_=s.masterPlaylistLoader_.master.playlists[s.media_.id]),s.masterPlaylistLoader_.sidxMapping_=filterChangedSidxMappings(s.masterPlaylistLoader_.master,s.masterPlaylistLoader_.sidxMapping_),s.addSidxSegments_(s.media(),s.state,function(f){s.refreshMedia_(s.media().id)}))})},o.refreshMedia_=function(s){var c=this;if(!s)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var d=this.masterPlaylistLoader_.master.playlists,f=!this.media_||this.media_!==d[s];if(f?this.media_=d[s]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var m=function g(){c.media().endList||(c.mediaUpdateTimeout=window$1$1.setTimeout(function(){c.trigger("mediaupdatetimeout"),g()},refreshDelay(c.media(),!!f)))};m()}this.trigger("loadedplaylist")},a}(EventTarget$3),Config={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},stringToArrayBuffer=function(a){for(var o=new Uint8Array(new ArrayBuffer(a.length)),u=0;u<a.length;u++)o[u]=a.charCodeAt(u);return o.buffer},browserWorkerPolyFill=function(a){return a.on=a.addEventListener,a.off=a.removeEventListener,a},createObjectURL=function(a){try{return URL.createObjectURL(new Blob([a],{type:"application/javascript"}))}catch{var o=new BlobBuilder;return o.append(a),URL.createObjectURL(o.getBlob())}},factory=function(a){return function(){var o=createObjectURL(a),u=browserWorkerPolyFill(new Worker(o));u.objURL=o;var s=u.terminate;return u.on=u.addEventListener,u.off=u.removeEventListener,u.terminate=function(){return URL.revokeObjectURL(o),s.call(this)},u}},transform=function(a){return"var browserWorkerPolyFill = "+browserWorkerPolyFill.toString()+`;
browserWorkerPolyFill(self);
`+a},getWorkerString=function(a){return a.toString().replace(/^function.+?{/,"").slice(0,-1)},workerCode$1=transform(getWorkerString(function(){var l=function(){this.init=function(){var T={};this.on=function(E,S){T[E]||(T[E]=[]),T[E]=T[E].concat(S)},this.off=function(E,S){var C;return T[E]?(C=T[E].indexOf(S),T[E]=T[E].slice(),T[E].splice(C,1),C>-1):!1},this.trigger=function(E){var S,C,k,P;if(S=T[E],!!S)if(arguments.length===2)for(k=S.length,C=0;C<k;++C)S[C].call(this,arguments[1]);else{for(P=[],C=arguments.length,C=1;C<arguments.length;++C)P.push(arguments[C]);for(k=S.length,C=0;C<k;++C)S[C].apply(this,P)}},this.dispose=function(){T={}}}};l.prototype.pipe=function(R){return this.on("data",function(T){R.push(T)}),this.on("done",function(T){R.flush(T)}),this.on("partialdone",function(T){R.partialFlush(T)}),this.on("endedtimeline",function(T){R.endTimeline(T)}),this.on("reset",function(T){R.reset(T)}),R},l.prototype.push=function(R){this.trigger("data",R)},l.prototype.flush=function(R){this.trigger("done",R)},l.prototype.partialFlush=function(R){this.trigger("partialdone",R)},l.prototype.endTimeline=function(R){this.trigger("endedtimeline",R)},l.prototype.reset=function(R){this.trigger("reset",R)};var a=l,o=Math.pow(2,32),u=function(T){var E=new DataView(T.buffer,T.byteOffset,T.byteLength),S;return E.getBigUint64?(S=E.getBigUint64(0),S<Number.MAX_SAFE_INTEGER?Number(S):S):E.getUint32(0)*o+E.getUint32(4)},s={getUint64:u,MAX_UINT32:o},c=s.MAX_UINT32,d,f,m,g,v,y,_,b,x,w,A,D,I,N,O,B,M,j,L,z,W,ne,V,Y,Z,pe,ee,se,ge,De,oe,ae,Ae,J,ve,de;(function(){var R;if(V={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(R in V)V.hasOwnProperty(R)&&(V[R]=[R.charCodeAt(0),R.charCodeAt(1),R.charCodeAt(2),R.charCodeAt(3)]);Y=new Uint8Array([105,115,111,109]),pe=new Uint8Array([97,118,99,49]),Z=new Uint8Array([0,0,0,1]),ee=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),se=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ge={video:ee,audio:se},ae=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),oe=new Uint8Array([0,0,0,0,0,0,0,0]),Ae=new Uint8Array([0,0,0,0,0,0,0,0]),J=Ae,ve=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),de=Ae,De=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),d=function(T){var E=[],S=0,C,k,P;for(C=1;C<arguments.length;C++)E.push(arguments[C]);for(C=E.length;C--;)S+=E[C].byteLength;for(k=new Uint8Array(S+8),P=new DataView(k.buffer,k.byteOffset,k.byteLength),P.setUint32(0,k.byteLength),k.set(T,4),C=0,S=8;C<E.length;C++)k.set(E[C],S),S+=E[C].byteLength;return k},f=function(){return d(V.dinf,d(V.dref,ae))},m=function(T){return d(V.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,T.audioobjecttype<<3|T.samplingfrequencyindex>>>1,T.samplingfrequencyindex<<7|T.channelcount<<3,6,1,2]))},g=function(){return d(V.ftyp,Y,Z,Y,pe)},B=function(T){return d(V.hdlr,ge[T])},v=function(T){return d(V.mdat,T)},O=function(T){var E=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,T.duration>>>24&255,T.duration>>>16&255,T.duration>>>8&255,T.duration&255,85,196,0,0]);return T.samplerate&&(E[12]=T.samplerate>>>24&255,E[13]=T.samplerate>>>16&255,E[14]=T.samplerate>>>8&255,E[15]=T.samplerate&255),d(V.mdhd,E)},N=function(T){return d(V.mdia,O(T),B(T.type),_(T))},y=function(T){return d(V.mfhd,new Uint8Array([0,0,0,0,(T&4278190080)>>24,(T&16711680)>>16,(T&65280)>>8,T&255]))},_=function(T){return d(V.minf,T.type==="video"?d(V.vmhd,De):d(V.smhd,oe),f(),j(T))},b=function(T,E){for(var S=[],C=E.length;C--;)S[C]=z(E[C]);return d.apply(null,[V.moof,y(T)].concat(S))},x=function(T){for(var E=T.length,S=[];E--;)S[E]=D(T[E]);return d.apply(null,[V.moov,A(4294967295)].concat(S).concat(w(T)))},w=function(T){for(var E=T.length,S=[];E--;)S[E]=W(T[E]);return d.apply(null,[V.mvex].concat(S))},A=function(T){var E=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(T&4278190080)>>24,(T&16711680)>>16,(T&65280)>>8,T&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return d(V.mvhd,E)},M=function(T){var E=T.samples||[],S=new Uint8Array(4+E.length),C,k;for(k=0;k<E.length;k++)C=E[k].flags,S[k+4]=C.dependsOn<<4|C.isDependedOn<<2|C.hasRedundancy;return d(V.sdtp,S)},j=function(T){return d(V.stbl,L(T),d(V.stts,de),d(V.stsc,J),d(V.stsz,ve),d(V.stco,Ae))},function(){var R,T;L=function(S){return d(V.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),S.type==="video"?R(S):T(S))},R=function(S){var C=S.sps||[],k=S.pps||[],P=[],F=[],U,K;for(U=0;U<C.length;U++)P.push((C[U].byteLength&65280)>>>8),P.push(C[U].byteLength&255),P=P.concat(Array.prototype.slice.call(C[U]));for(U=0;U<k.length;U++)F.push((k[U].byteLength&65280)>>>8),F.push(k[U].byteLength&255),F=F.concat(Array.prototype.slice.call(k[U]));if(K=[V.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(S.width&65280)>>8,S.width&255,(S.height&65280)>>8,S.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d(V.avcC,new Uint8Array([1,S.profileIdc,S.profileCompatibility,S.levelIdc,255].concat([C.length],P,[k.length],F))),d(V.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],S.sarRatio){var q=S.sarRatio[0],X=S.sarRatio[1];K.push(d(V.pasp,new Uint8Array([(q&4278190080)>>24,(q&16711680)>>16,(q&65280)>>8,q&255,(X&4278190080)>>24,(X&16711680)>>16,(X&65280)>>8,X&255])))}return d.apply(null,K)},T=function(S){return d(V.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(S.channelcount&65280)>>8,S.channelcount&255,(S.samplesize&65280)>>8,S.samplesize&255,0,0,0,0,(S.samplerate&65280)>>8,S.samplerate&255,0,0]),m(S))}}(),I=function(T){var E=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(T.id&4278190080)>>24,(T.id&16711680)>>16,(T.id&65280)>>8,T.id&255,0,0,0,0,(T.duration&4278190080)>>24,(T.duration&16711680)>>16,(T.duration&65280)>>8,T.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(T.width&65280)>>8,T.width&255,0,0,(T.height&65280)>>8,T.height&255,0,0]);return d(V.tkhd,E)},z=function(T){var E,S,C,k,P,F,U;return E=d(V.tfhd,new Uint8Array([0,0,0,58,(T.id&4278190080)>>24,(T.id&16711680)>>16,(T.id&65280)>>8,T.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),F=Math.floor(T.baseMediaDecodeTime/c),U=Math.floor(T.baseMediaDecodeTime%c),S=d(V.tfdt,new Uint8Array([1,0,0,0,F>>>24&255,F>>>16&255,F>>>8&255,F&255,U>>>24&255,U>>>16&255,U>>>8&255,U&255])),P=92,T.type==="audio"?(C=ne(T,P),d(V.traf,E,S,C)):(k=M(T),C=ne(T,k.length+P),d(V.traf,E,S,C,k))},D=function(T){return T.duration=T.duration||4294967295,d(V.trak,I(T),N(T))},W=function(T){var E=new Uint8Array([0,0,0,0,(T.id&4278190080)>>24,(T.id&16711680)>>16,(T.id&65280)>>8,T.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return T.type!=="video"&&(E[E.length-1]=0),d(V.trex,E)},function(){var R,T,E;E=function(C,k){var P=0,F=0,U=0,K=0;return C.length&&(C[0].duration!==void 0&&(P=1),C[0].size!==void 0&&(F=2),C[0].flags!==void 0&&(U=4),C[0].compositionTimeOffset!==void 0&&(K=8)),[0,0,P|F|U|K,1,(C.length&4278190080)>>>24,(C.length&16711680)>>>16,(C.length&65280)>>>8,C.length&255,(k&4278190080)>>>24,(k&16711680)>>>16,(k&65280)>>>8,k&255]},T=function(C,k){var P,F,U,K,q,X;for(K=C.samples||[],k+=20+16*K.length,U=E(K,k),F=new Uint8Array(U.length+K.length*16),F.set(U),P=U.length,X=0;X<K.length;X++)q=K[X],F[P++]=(q.duration&4278190080)>>>24,F[P++]=(q.duration&16711680)>>>16,F[P++]=(q.duration&65280)>>>8,F[P++]=q.duration&255,F[P++]=(q.size&4278190080)>>>24,F[P++]=(q.size&16711680)>>>16,F[P++]=(q.size&65280)>>>8,F[P++]=q.size&255,F[P++]=q.flags.isLeading<<2|q.flags.dependsOn,F[P++]=q.flags.isDependedOn<<6|q.flags.hasRedundancy<<4|q.flags.paddingValue<<1|q.flags.isNonSyncSample,F[P++]=q.flags.degradationPriority&61440,F[P++]=q.flags.degradationPriority&15,F[P++]=(q.compositionTimeOffset&4278190080)>>>24,F[P++]=(q.compositionTimeOffset&16711680)>>>16,F[P++]=(q.compositionTimeOffset&65280)>>>8,F[P++]=q.compositionTimeOffset&255;return d(V.trun,F)},R=function(C,k){var P,F,U,K,q,X;for(K=C.samples||[],k+=20+8*K.length,U=E(K,k),P=new Uint8Array(U.length+K.length*8),P.set(U),F=U.length,X=0;X<K.length;X++)q=K[X],P[F++]=(q.duration&4278190080)>>>24,P[F++]=(q.duration&16711680)>>>16,P[F++]=(q.duration&65280)>>>8,P[F++]=q.duration&255,P[F++]=(q.size&4278190080)>>>24,P[F++]=(q.size&16711680)>>>16,P[F++]=(q.size&65280)>>>8,P[F++]=q.size&255;return d(V.trun,P)},ne=function(C,k){return C.type==="audio"?R(C,k):T(C,k)}}();var xe={ftyp:g,mdat:v,moof:b,moov:x,initSegment:function(T){var E=g(),S=x(T),C;return C=new Uint8Array(E.byteLength+S.byteLength),C.set(E),C.set(S,E.byteLength),C}},te=function(T){var E,S,C=[],k=[];for(k.byteLength=0,k.nalCount=0,k.duration=0,C.byteLength=0,E=0;E<T.length;E++)S=T[E],S.nalUnitType==="access_unit_delimiter_rbsp"?(C.length&&(C.duration=S.dts-C.dts,k.byteLength+=C.byteLength,k.nalCount+=C.length,k.duration+=C.duration,k.push(C)),C=[S],C.byteLength=S.data.byteLength,C.pts=S.pts,C.dts=S.dts):(S.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(C.keyFrame=!0),C.duration=S.dts-C.dts,C.byteLength+=S.data.byteLength,C.push(S));return k.length&&(!C.duration||C.duration<=0)&&(C.duration=k[k.length-1].duration),k.byteLength+=C.byteLength,k.nalCount+=C.length,k.duration+=C.duration,k.push(C),k},_e=function(T){var E,S,C=[],k=[];for(C.byteLength=0,C.nalCount=0,C.duration=0,C.pts=T[0].pts,C.dts=T[0].dts,k.byteLength=0,k.nalCount=0,k.duration=0,k.pts=T[0].pts,k.dts=T[0].dts,E=0;E<T.length;E++)S=T[E],S.keyFrame?(C.length&&(k.push(C),k.byteLength+=C.byteLength,k.nalCount+=C.nalCount,k.duration+=C.duration),C=[S],C.nalCount=S.length,C.byteLength=S.byteLength,C.pts=S.pts,C.dts=S.dts,C.duration=S.duration):(C.duration+=S.duration,C.nalCount+=S.length,C.byteLength+=S.byteLength,C.push(S));return k.length&&C.duration<=0&&(C.duration=k[k.length-1].duration),k.byteLength+=C.byteLength,k.nalCount+=C.nalCount,k.duration+=C.duration,k.push(C),k},Se=function(T){var E;return!T[0][0].keyFrame&&T.length>1&&(E=T.shift(),T.byteLength-=E.byteLength,T.nalCount-=E.nalCount,T[0][0].dts=E.dts,T[0][0].pts=E.pts,T[0][0].duration+=E.duration),T},ke=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Me=function(T,E){var S=ke();return S.dataOffset=E,S.compositionTimeOffset=T.pts-T.dts,S.duration=T.duration,S.size=4*T.length,S.size+=T.byteLength,T.keyFrame&&(S.flags.dependsOn=2,S.flags.isNonSyncSample=0),S},Be=function(T,E){var S,C,k,P,F,U=E||0,K=[];for(S=0;S<T.length;S++)for(P=T[S],C=0;C<P.length;C++)F=P[C],k=Me(F,U),U+=k.size,K.push(k);return K},H=function(T){var E,S,C,k,P,F,U=0,K=T.byteLength,q=T.nalCount,X=K+4*q,re=new Uint8Array(X),Te=new DataView(re.buffer);for(E=0;E<T.length;E++)for(k=T[E],S=0;S<k.length;S++)for(P=k[S],C=0;C<P.length;C++)F=P[C],Te.setUint32(U,F.data.byteLength),U+=4,re.set(F.data,U),U+=F.data.byteLength;return re},G=function(T,E){var S,C=E||0,k=[];return S=Me(T,C),k.push(S),k},Q=function(T){var E,S,C=0,k=T.byteLength,P=T.length,F=k+4*P,U=new Uint8Array(F),K=new DataView(U.buffer);for(E=0;E<T.length;E++)S=T[E],K.setUint32(C,S.data.byteLength),C+=4,U.set(S.data,C),C+=S.data.byteLength;return U},ue={groupNalsIntoFrames:te,groupFramesIntoGops:_e,extendFirstKeyFrame:Se,generateSampleTable:Be,concatenateNalData:H,generateSampleTableForFrame:G,concatenateNalDataForFrame:Q},ie=[33,16,5,32,164,27],fe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ce=function(T){for(var E=[];T--;)E.push(0);return E},be=function(T){return Object.keys(T).reduce(function(E,S){return E[S]=new Uint8Array(T[S].reduce(function(C,k){return C.concat(k)},[])),E},{})},ye,he=function(){if(!ye){var T={96e3:[ie,[227,64],ce(154),[56]],88200:[ie,[231],ce(170),[56]],64e3:[ie,[248,192],ce(240),[56]],48e3:[ie,[255,192],ce(268),[55,148,128],ce(54),[112]],44100:[ie,[255,192],ce(268),[55,163,128],ce(84),[112]],32e3:[ie,[255,192],ce(268),[55,234],ce(226),[112]],24e3:[ie,[255,192],ce(268),[55,255,128],ce(268),[111,112],ce(126),[224]],16e3:[ie,[255,192],ce(268),[55,255,128],ce(268),[111,255],ce(269),[223,108],ce(195),[1,192]],12e3:[fe,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,253,128],ce(259),[56]],11025:[fe,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,255,192],ce(268),[55,175,128],ce(108),[112]],8e3:[fe,ce(268),[3,121,16],ce(47),[7]]};ye=be(T)}return ye},Pe=9e4,Ee,le,we,Re,Ne,Le,He;Ee=function(T){return T*Pe},le=function(T,E){return T*E},we=function(T){return T/Pe},Re=function(T,E){return T/E},Ne=function(T,E){return Ee(Re(T,E))},Le=function(T,E){return le(we(T),E)},He=function(T,E,S){return we(S?T:T-E)};var Ie={ONE_SECOND_IN_TS:Pe,secondsToVideoTs:Ee,secondsToAudioTs:le,videoTsToSeconds:we,audioTsToSeconds:Re,audioTsToVideoTs:Ne,videoTsToAudioTs:Le,metadataTsToSeconds:He},We=function(T){var E,S,C=0;for(E=0;E<T.length;E++)S=T[E],C+=S.data.byteLength;return C},Ge=function(T,E,S,C){var k,P=0,F=0,U=0,K=0,q,X,re;if(E.length&&(k=Ie.audioTsToVideoTs(T.baseMediaDecodeTime,T.samplerate),P=Math.ceil(Ie.ONE_SECOND_IN_TS/(T.samplerate/1024)),S&&C&&(F=k-Math.max(S,C),U=Math.floor(F/P),K=U*P),!(U<1||K>Ie.ONE_SECOND_IN_TS/2))){for(q=he()[T.samplerate],q||(q=E[0].data),X=0;X<U;X++)re=E[0],E.splice(0,0,{data:q,dts:re.dts-P,pts:re.pts-P});return T.baseMediaDecodeTime-=Math.floor(Ie.videoTsToAudioTs(K,T.samplerate)),K}},rt=function(T,E,S){return E.minSegmentDts>=S?T:(E.minSegmentDts=1/0,T.filter(function(C){return C.dts>=S?(E.minSegmentDts=Math.min(E.minSegmentDts,C.dts),E.minSegmentPts=E.minSegmentDts,!0):!1}))},bt=function(T){var E,S,C=[];for(E=0;E<T.length;E++)S=T[E],C.push({size:S.data.byteLength,duration:1024});return C},Ke=function(T){var E,S,C=0,k=new Uint8Array(We(T));for(E=0;E<T.length;E++)S=T[E],k.set(S.data,C),C+=S.data.byteLength;return k},Ye={prefixWithSilence:Ge,trimAdtsFramesByEarliestDts:rt,generateSampleTable:bt,concatenateFrameData:Ke},St=Ie.ONE_SECOND_IN_TS,Or=function(T,E){typeof E.pts=="number"&&(T.timelineStartInfo.pts===void 0&&(T.timelineStartInfo.pts=E.pts),T.minSegmentPts===void 0?T.minSegmentPts=E.pts:T.minSegmentPts=Math.min(T.minSegmentPts,E.pts),T.maxSegmentPts===void 0?T.maxSegmentPts=E.pts:T.maxSegmentPts=Math.max(T.maxSegmentPts,E.pts)),typeof E.dts=="number"&&(T.timelineStartInfo.dts===void 0&&(T.timelineStartInfo.dts=E.dts),T.minSegmentDts===void 0?T.minSegmentDts=E.dts:T.minSegmentDts=Math.min(T.minSegmentDts,E.dts),T.maxSegmentDts===void 0?T.maxSegmentDts=E.dts:T.maxSegmentDts=Math.max(T.maxSegmentDts,E.dts))},Rr=function(T){delete T.minSegmentDts,delete T.maxSegmentDts,delete T.minSegmentPts,delete T.maxSegmentPts},Nr=function(T,E){var S,C,k=T.minSegmentDts;return E||(k-=T.timelineStartInfo.dts),S=T.timelineStartInfo.baseMediaDecodeTime,S+=k,S=Math.max(0,S),T.type==="audio"&&(C=T.samplerate/St,S*=C,S=Math.floor(S)),S},Ze={clearDtsInfo:Rr,calculateTrackBaseMediaDecodeTime:Nr,collectDtsInfo:Or},Jt=4,Lr=128,Mr=function(T){for(var E=0,S={payloadType:-1,payloadSize:0},C=0,k=0;E<T.byteLength&&T[E]!==Lr;){for(;T[E]===255;)C+=255,E++;for(C+=T[E++];T[E]===255;)k+=255,E++;if(k+=T[E++],!S.payload&&C===Jt){var P=String.fromCharCode(T[E+3],T[E+4],T[E+5],T[E+6]);if(P==="GA94"){S.payloadType=C,S.payloadSize=k,S.payload=T.subarray(E,E+k);break}else S.payload=void 0}E+=k,C=0,k=0}return S},Br=function(T){return T.payload[0]!==181||(T.payload[1]<<8|T.payload[2])!==49||String.fromCharCode(T.payload[3],T.payload[4],T.payload[5],T.payload[6])!=="GA94"||T.payload[7]!==3?null:T.payload.subarray(8,T.payload.length-1)},$r=function(T,E){var S=[],C,k,P,F;if(!(E[0]&64))return S;for(k=E[0]&31,C=0;C<k;C++)P=C*3,F={type:E[P+2]&3,pts:T},E[P+2]&4&&(F.ccData=E[P+3]<<8|E[P+4],S.push(F));return S},Fr=function(T){for(var E=T.byteLength,S=[],C=1,k,P;C<E-2;)T[C]===0&&T[C+1]===0&&T[C+2]===3?(S.push(C+2),C+=2):C++;if(S.length===0)return T;k=E-S.length,P=new Uint8Array(k);var F=0;for(C=0;C<k;F++,C++)F===S[0]&&(F++,S.shift()),P[C]=T[F];return P},pt={parseSei:Mr,parseUserData:Br,parseCaptionPackets:$r,discardEmulationPreventionBytes:Fr,USER_DATA_REGISTERED_ITU_T_T35:Jt},Je=function R(T){T=T||{},R.prototype.init.call(this),this.parse708captions_=typeof T.parse708captions=="boolean"?T.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new je(0,0),new je(0,1),new je(1,0),new je(1,1)],this.parse708captions_&&(this.cc708Stream_=new Fe({captionServices:T.captionServices})),this.reset(),this.ccStreams_.forEach(function(E){E.on("data",this.trigger.bind(this,"data")),E.on("partialdone",this.trigger.bind(this,"partialdone")),E.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Je.prototype=new a,Je.prototype.push=function(R){var T,E,S;if(R.nalUnitType==="sei_rbsp"&&(T=pt.parseSei(R.escapedRBSP),!!T.payload&&T.payloadType===pt.USER_DATA_REGISTERED_ITU_T_T35&&(E=pt.parseUserData(T),!!E))){if(R.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(R.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}S=pt.parseCaptionPackets(R.pts,E),this.captionPackets_=this.captionPackets_.concat(S),this.latestDts_!==R.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=R.dts}},Je.prototype.flushCCStreams=function(R){this.ccStreams_.forEach(function(T){return R==="flush"?T.flush():T.partialFlush()},this)},Je.prototype.flushStream=function(R){if(!this.captionPackets_.length){this.flushCCStreams(R);return}this.captionPackets_.forEach(function(T,E){T.presortIndex=E}),this.captionPackets_.sort(function(T,E){return T.pts===E.pts?T.presortIndex-E.presortIndex:T.pts-E.pts}),this.captionPackets_.forEach(function(T){T.type<2?this.dispatchCea608Packet(T):this.dispatchCea708Packet(T)},this),this.captionPackets_.length=0,this.flushCCStreams(R)},Je.prototype.flush=function(){return this.flushStream("flush")},Je.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Je.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(R){R.reset()})},Je.prototype.dispatchCea608Packet=function(R){this.setsTextOrXDSActive(R)?this.activeCea608Channel_[R.type]=null:this.setsChannel1Active(R)?this.activeCea608Channel_[R.type]=0:this.setsChannel2Active(R)&&(this.activeCea608Channel_[R.type]=1),this.activeCea608Channel_[R.type]!==null&&this.ccStreams_[(R.type<<1)+this.activeCea608Channel_[R.type]].push(R)},Je.prototype.setsChannel1Active=function(R){return(R.ccData&30720)===4096},Je.prototype.setsChannel2Active=function(R){return(R.ccData&30720)===6144},Je.prototype.setsTextOrXDSActive=function(R){return(R.ccData&28928)===256||(R.ccData&30974)===4138||(R.ccData&30974)===6186},Je.prototype.dispatchCea708Packet=function(R){this.parse708captions_&&this.cc708Stream_.push(R)};var Vr={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},jr=function(T){var E=Vr[T]||T;return T&4096&&T===E?"":String.fromCharCode(E)},Et=function(T){return 32<=T&&T<=127||160<=T&&T<=255},nt=function(T){this.windowNum=T,this.reset()};nt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},nt.prototype.getText=function(){return this.rows.join(`
`)},nt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},nt.prototype.newLine=function(R){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(R),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},nt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},nt.prototype.addText=function(R){this.rows[this.rowIdx]+=R},nt.prototype.backspace=function(){if(!this.isEmpty()){var R=this.rows[this.rowIdx];this.rows[this.rowIdx]=R.substr(0,R.length-1)}};var xt=function(T,E,S){this.serviceNum=T,this.text="",this.currentWindow=new nt(-1),this.windows=[],this.stream=S,typeof E=="string"&&this.createTextDecoder(E)};xt.prototype.init=function(R,T){this.startPts=R;for(var E=0;E<8;E++)this.windows[E]=new nt(E),typeof T=="function"&&(this.windows[E].beforeRowOverflow=T)},xt.prototype.setCurrentWindow=function(R){this.currentWindow=this.windows[R]},xt.prototype.createTextDecoder=function(R){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(R)}catch(T){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+R+" encoding. "+T})}};var Fe=function R(T){T=T||{},R.prototype.init.call(this);var E=this,S=T.captionServices||{},C={},k;Object.keys(S).forEach(function(P){k=S[P],/^SERVICE/.test(P)&&(C[P]=k.encoding)}),this.serviceEncodings=C,this.current708Packet=null,this.services={},this.push=function(P){P.type===3?(E.new708Packet(),E.add708Bytes(P)):(E.current708Packet===null&&E.new708Packet(),E.add708Bytes(P))}};Fe.prototype=new a,Fe.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Fe.prototype.add708Bytes=function(R){var T=R.ccData,E=T>>>8,S=T&255;this.current708Packet.ptsVals.push(R.pts),this.current708Packet.data.push(E),this.current708Packet.data.push(S)},Fe.prototype.push708Packet=function(){var R=this.current708Packet,T=R.data,E=null,S=null,C=0,k=T[C++];for(R.seq=k>>6,R.sizeCode=k&63;C<T.length;C++)k=T[C++],E=k>>5,S=k&31,E===7&&S>0&&(k=T[C++],E=k),this.pushServiceBlock(E,C,S),S>0&&(C+=S-1)},Fe.prototype.pushServiceBlock=function(R,T,E){var S,C=T,k=this.current708Packet.data,P=this.services[R];for(P||(P=this.initService(R,C));C<T+E&&C<k.length;C++)S=k[C],Et(S)?C=this.handleText(C,P):S===24?C=this.multiByteCharacter(C,P):S===16?C=this.extendedCommands(C,P):128<=S&&S<=135?C=this.setCurrentWindow(C,P):152<=S&&S<=159?C=this.defineWindow(C,P):S===136?C=this.clearWindows(C,P):S===140?C=this.deleteWindows(C,P):S===137?C=this.displayWindows(C,P):S===138?C=this.hideWindows(C,P):S===139?C=this.toggleWindows(C,P):S===151?C=this.setWindowAttributes(C,P):S===144?C=this.setPenAttributes(C,P):S===145?C=this.setPenColor(C,P):S===146?C=this.setPenLocation(C,P):S===143?P=this.reset(C,P):S===8?P.currentWindow.backspace():S===12?P.currentWindow.clearText():S===13?P.currentWindow.pendingNewLine=!0:S===14?P.currentWindow.clearText():S===141&&C++},Fe.prototype.extendedCommands=function(R,T){var E=this.current708Packet.data,S=E[++R];return Et(S)&&(R=this.handleText(R,T,{isExtended:!0})),R},Fe.prototype.getPts=function(R){return this.current708Packet.ptsVals[Math.floor(R/2)]},Fe.prototype.initService=function(R,T){var S="SERVICE"+R,E=this,S,C;return S in this.serviceEncodings&&(C=this.serviceEncodings[S]),this.services[R]=new xt(R,C,E),this.services[R].init(this.getPts(T),function(k){E.flushDisplayed(k,E.services[R])}),this.services[R]},Fe.prototype.handleText=function(R,T,E){var S=E&&E.isExtended,C=E&&E.isMultiByte,k=this.current708Packet.data,P=S?4096:0,F=k[R],U=k[R+1],K=T.currentWindow,q,X;return T.textDecoder_&&!S?(C?(X=[F,U],R++):X=[F],q=T.textDecoder_.decode(new Uint8Array(X))):q=jr(P|F),K.pendingNewLine&&!K.isEmpty()&&K.newLine(this.getPts(R)),K.pendingNewLine=!1,K.addText(q),R},Fe.prototype.multiByteCharacter=function(R,T){var E=this.current708Packet.data,S=E[R+1],C=E[R+2];return Et(S)&&Et(C)&&(R=this.handleText(++R,T,{isMultiByte:!0})),R},Fe.prototype.setCurrentWindow=function(R,T){var E=this.current708Packet.data,S=E[R],C=S&7;return T.setCurrentWindow(C),R},Fe.prototype.defineWindow=function(R,T){var E=this.current708Packet.data,S=E[R],C=S&7;T.setCurrentWindow(C);var k=T.currentWindow;return S=E[++R],k.visible=(S&32)>>5,k.rowLock=(S&16)>>4,k.columnLock=(S&8)>>3,k.priority=S&7,S=E[++R],k.relativePositioning=(S&128)>>7,k.anchorVertical=S&127,S=E[++R],k.anchorHorizontal=S,S=E[++R],k.anchorPoint=(S&240)>>4,k.rowCount=S&15,S=E[++R],k.columnCount=S&63,S=E[++R],k.windowStyle=(S&56)>>3,k.penStyle=S&7,k.virtualRowCount=k.rowCount+1,R},Fe.prototype.setWindowAttributes=function(R,T){var E=this.current708Packet.data,S=E[R],C=T.currentWindow.winAttr;return S=E[++R],C.fillOpacity=(S&192)>>6,C.fillRed=(S&48)>>4,C.fillGreen=(S&12)>>2,C.fillBlue=S&3,S=E[++R],C.borderType=(S&192)>>6,C.borderRed=(S&48)>>4,C.borderGreen=(S&12)>>2,C.borderBlue=S&3,S=E[++R],C.borderType+=(S&128)>>5,C.wordWrap=(S&64)>>6,C.printDirection=(S&48)>>4,C.scrollDirection=(S&12)>>2,C.justify=S&3,S=E[++R],C.effectSpeed=(S&240)>>4,C.effectDirection=(S&12)>>2,C.displayEffect=S&3,R},Fe.prototype.flushDisplayed=function(R,T){for(var E=[],S=0;S<8;S++)T.windows[S].visible&&!T.windows[S].isEmpty()&&E.push(T.windows[S].getText());T.endPts=R,T.text=E.join(`

`),this.pushCaption(T),T.startPts=R},Fe.prototype.pushCaption=function(R){R.text!==""&&(this.trigger("data",{startPts:R.startPts,endPts:R.endPts,text:R.text,stream:"cc708_"+R.serviceNum}),R.text="",R.startPts=R.endPts)},Fe.prototype.displayWindows=function(R,T){var E=this.current708Packet.data,S=E[++R],C=this.getPts(R);this.flushDisplayed(C,T);for(var k=0;k<8;k++)S&1<<k&&(T.windows[k].visible=1);return R},Fe.prototype.hideWindows=function(R,T){var E=this.current708Packet.data,S=E[++R],C=this.getPts(R);this.flushDisplayed(C,T);for(var k=0;k<8;k++)S&1<<k&&(T.windows[k].visible=0);return R},Fe.prototype.toggleWindows=function(R,T){var E=this.current708Packet.data,S=E[++R],C=this.getPts(R);this.flushDisplayed(C,T);for(var k=0;k<8;k++)S&1<<k&&(T.windows[k].visible^=1);return R},Fe.prototype.clearWindows=function(R,T){var E=this.current708Packet.data,S=E[++R],C=this.getPts(R);this.flushDisplayed(C,T);for(var k=0;k<8;k++)S&1<<k&&T.windows[k].clearText();return R},Fe.prototype.deleteWindows=function(R,T){var E=this.current708Packet.data,S=E[++R],C=this.getPts(R);this.flushDisplayed(C,T);for(var k=0;k<8;k++)S&1<<k&&T.windows[k].reset();return R},Fe.prototype.setPenAttributes=function(R,T){var E=this.current708Packet.data,S=E[R],C=T.currentWindow.penAttr;return S=E[++R],C.textTag=(S&240)>>4,C.offset=(S&12)>>2,C.penSize=S&3,S=E[++R],C.italics=(S&128)>>7,C.underline=(S&64)>>6,C.edgeType=(S&56)>>3,C.fontStyle=S&7,R},Fe.prototype.setPenColor=function(R,T){var E=this.current708Packet.data,S=E[R],C=T.currentWindow.penColor;return S=E[++R],C.fgOpacity=(S&192)>>6,C.fgRed=(S&48)>>4,C.fgGreen=(S&12)>>2,C.fgBlue=S&3,S=E[++R],C.bgOpacity=(S&192)>>6,C.bgRed=(S&48)>>4,C.bgGreen=(S&12)>>2,C.bgBlue=S&3,S=E[++R],C.edgeRed=(S&48)>>4,C.edgeGreen=(S&12)>>2,C.edgeBlue=S&3,R},Fe.prototype.setPenLocation=function(R,T){var E=this.current708Packet.data,S=E[R],C=T.currentWindow.penLoc;return T.currentWindow.pendingNewLine=!0,S=E[++R],C.row=S&15,S=E[++R],C.column=S&63,R},Fe.prototype.reset=function(R,T){var E=this.getPts(R);return this.flushDisplayed(E,T),this.initService(T.serviceNum,R)};var Ur={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ct=function(T){return T===null?"":(T=Ur[T]||T,String.fromCharCode(T))},wt=14,Hr=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],at=function(){for(var T=[],E=wt+1;E--;)T.push("");return T},je=function R(T,E){R.prototype.init.call(this),this.field_=T||0,this.dataChannel_=E||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(S){var C,k,P,F,U;if(C=S.ccData&32639,C===this.lastControlCode_){this.lastControlCode_=null;return}if((C&61440)===4096?this.lastControlCode_=C:C!==this.PADDING_&&(this.lastControlCode_=null),P=C>>>8,F=C&255,C!==this.PADDING_)if(C===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(C===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(S.pts),this.flushDisplayed(S.pts),k=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=k,this.startPts_=S.pts;else if(C===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(S.pts);else if(C===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(S.pts);else if(C===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(S.pts);else if(C===this.CARRIAGE_RETURN_)this.clearFormatting(S.pts),this.flushDisplayed(S.pts),this.shiftRowsUp_(),this.startPts_=S.pts;else if(C===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(C===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(S.pts),this.displayed_=at();else if(C===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=at();else if(C===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(S.pts),this.displayed_=at()),this.mode_="paintOn",this.startPts_=S.pts;else if(this.isSpecialCharacter(P,F))P=(P&3)<<8,U=Ct(P|F),this[this.mode_](S.pts,U),this.column_++;else if(this.isExtCharacter(P,F))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),P=(P&3)<<8,U=Ct(P|F),this[this.mode_](S.pts,U),this.column_++;else if(this.isMidRowCode(P,F))this.clearFormatting(S.pts),this[this.mode_](S.pts," "),this.column_++,(F&14)===14&&this.addFormatting(S.pts,["i"]),(F&1)===1&&this.addFormatting(S.pts,["u"]);else if(this.isOffsetControlCode(P,F))this.column_+=F&3;else if(this.isPAC(P,F)){var K=Hr.indexOf(C&7968);this.mode_==="rollUp"&&(K-this.rollUpRows_+1<0&&(K=this.rollUpRows_-1),this.setRollUp(S.pts,K)),K!==this.row_&&(this.clearFormatting(S.pts),this.row_=K),F&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(S.pts,["u"]),(C&16)===16&&(this.column_=((C&14)>>1)*4),this.isColorPAC(F)&&(F&14)===14&&this.addFormatting(S.pts,["i"])}else this.isNormalChar(P)&&(F===0&&(F=null),U=Ct(P),U+=Ct(F),this[this.mode_](S.pts,U),this.column_+=U.length)}};je.prototype=new a,je.prototype.flushDisplayed=function(R){var T=this.displayed_.map(function(E,S){try{return E.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+S+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");T.length&&this.trigger("data",{startPts:this.startPts_,endPts:R,text:T,stream:this.name_})},je.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=at(),this.nonDisplayed_=at(),this.lastControlCode_=null,this.column_=0,this.row_=wt,this.rollUpRows_=2,this.formatting_=[]},je.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},je.prototype.isSpecialCharacter=function(R,T){return R===this.EXT_&&T>=48&&T<=63},je.prototype.isExtCharacter=function(R,T){return(R===this.EXT_+1||R===this.EXT_+2)&&T>=32&&T<=63},je.prototype.isMidRowCode=function(R,T){return R===this.EXT_&&T>=32&&T<=47},je.prototype.isOffsetControlCode=function(R,T){return R===this.OFFSET_&&T>=33&&T<=35},je.prototype.isPAC=function(R,T){return R>=this.BASE_&&R<this.BASE_+8&&T>=64&&T<=127},je.prototype.isColorPAC=function(R){return R>=64&&R<=79||R>=96&&R<=127},je.prototype.isNormalChar=function(R){return R>=32&&R<=127},je.prototype.setRollUp=function(R,T){if(this.mode_!=="rollUp"&&(this.row_=wt,this.mode_="rollUp",this.flushDisplayed(R),this.nonDisplayed_=at(),this.displayed_=at()),T!==void 0&&T!==this.row_)for(var E=0;E<this.rollUpRows_;E++)this.displayed_[T-E]=this.displayed_[this.row_-E],this.displayed_[this.row_-E]="";T===void 0&&(T=this.row_),this.topRow_=T-this.rollUpRows_+1},je.prototype.addFormatting=function(R,T){this.formatting_=this.formatting_.concat(T);var E=T.reduce(function(S,C){return S+"<"+C+">"},"");this[this.mode_](R,E)},je.prototype.clearFormatting=function(R){if(this.formatting_.length){var T=this.formatting_.reverse().reduce(function(E,S){return E+"</"+S+">"},"");this.formatting_=[],this[this.mode_](R,T)}},je.prototype.popOn=function(R,T){var E=this.nonDisplayed_[this.row_];E+=T,this.nonDisplayed_[this.row_]=E},je.prototype.rollUp=function(R,T){var E=this.displayed_[this.row_];E+=T,this.displayed_[this.row_]=E},je.prototype.shiftRowsUp_=function(){var R;for(R=0;R<this.topRow_;R++)this.displayed_[R]="";for(R=this.row_+1;R<wt+1;R++)this.displayed_[R]="";for(R=this.topRow_;R<this.row_;R++)this.displayed_[R]=this.displayed_[R+1];this.displayed_[this.row_]=""},je.prototype.paintOn=function(R,T){var E=this.displayed_[this.row_];E+=T,this.displayed_[this.row_]=E};var At={CaptionStream:Je,Cea608Stream:je,Cea708Stream:Fe},qe={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},zr=8589934592,Gr=4294967296,Zt="shared",Ut=function(T,E){var S=1;for(T>E&&(S=-1);Math.abs(E-T)>Gr;)T+=S*zr;return T},er=function R(T){var E,S;R.prototype.init.call(this),this.type_=T||Zt,this.push=function(C){this.type_!==Zt&&C.type!==this.type_||(S===void 0&&(S=C.dts),C.dts=Ut(C.dts,S),C.pts=Ut(C.pts,S),E=C.dts,this.trigger("data",C))},this.flush=function(){S=E,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){S=void 0,E=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};er.prototype=new a;var tr={TimestampRolloverStream:er,handleRollover:Ut},rr=function(T,E,S){var C,k="";for(C=E;C<S;C++)k+="%"+("00"+T[C].toString(16)).slice(-2);return k},kt=function(T,E,S){return decodeURIComponent(rr(T,E,S))},qr=function(T,E,S){return unescape(rr(T,E,S))},Pt=function(T){return T[0]<<21|T[1]<<14|T[2]<<7|T[3]},nr={TXXX:function(T){var E;if(T.data[0]===3){for(E=1;E<T.data.length;E++)if(T.data[E]===0){T.description=kt(T.data,1,E),T.value=kt(T.data,E+1,T.data.length).replace(/\0*$/,"");break}T.data=T.value}},WXXX:function(T){var E;if(T.data[0]===3){for(E=1;E<T.data.length;E++)if(T.data[E]===0){T.description=kt(T.data,1,E),T.url=kt(T.data,E+1,T.data.length);break}}},PRIV:function(T){var E;for(E=0;E<T.data.length;E++)if(T.data[E]===0){T.owner=qr(T.data,0,E);break}T.privateData=T.data.subarray(E+1),T.data=T.privateData}},Dt;Dt=function(T){var E={descriptor:T&&T.descriptor},S=0,C=[],k=0,P;if(Dt.prototype.init.call(this),this.dispatchType=qe.METADATA_STREAM_TYPE.toString(16),E.descriptor)for(P=0;P<E.descriptor.length;P++)this.dispatchType+=("00"+E.descriptor[P].toString(16)).slice(-2);this.push=function(F){var U,K,q,X,re,Te;if(F.type==="timed-metadata"){if(F.dataAlignmentIndicator&&(k=0,C.length=0),C.length===0&&(F.data.length<10||F.data[0]!==73||F.data[1]!==68||F.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(C.push(F),k+=F.data.byteLength,C.length===1&&(S=Pt(F.data.subarray(6,10)),S+=10),!(k<S)){for(U={data:new Uint8Array(S),frames:[],pts:C[0].pts,dts:C[0].dts},re=0;re<S;)U.data.set(C[0].data.subarray(0,S-re),re),re+=C[0].data.byteLength,k-=C[0].data.byteLength,C.shift();K=10,U.data[5]&64&&(K+=4,K+=Pt(U.data.subarray(10,14)),S-=Pt(U.data.subarray(16,20)));do{if(q=Pt(U.data.subarray(K+4,K+8)),q<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Te=String.fromCharCode(U.data[K],U.data[K+1],U.data[K+2],U.data[K+3]),X={id:Te,data:U.data.subarray(K+10,K+q+10)},X.key=X.id,nr[X.id]&&(nr[X.id](X),X.owner==="com.apple.streaming.transportStreamTimestamp")){var Ce=X.data,me=(Ce[3]&1)<<30|Ce[4]<<22|Ce[5]<<14|Ce[6]<<6|Ce[7]>>>2;me*=4,me+=Ce[7]&3,X.timeStamp=me,U.pts===void 0&&U.dts===void 0&&(U.pts=X.timeStamp,U.dts=X.timeStamp),this.trigger("timestamp",X)}U.frames.push(X),K+=10,K+=q}while(K<S);this.trigger("data",U)}}}},Dt.prototype=new a;var Wr=Dt,Kr=tr.TimestampRolloverStream,It,mt,Ot,dt=188,Ht=71;It=function(){var T=new Uint8Array(dt),E=0;It.prototype.init.call(this),this.push=function(S){var C=0,k=dt,P;for(E?(P=new Uint8Array(S.byteLength+E),P.set(T.subarray(0,E)),P.set(S,E),E=0):P=S;k<P.byteLength;){if(P[C]===Ht&&P[k]===Ht){this.trigger("data",P.subarray(C,k)),C+=dt,k+=dt;continue}C++,k++}C<P.byteLength&&(T.set(P.subarray(C),0),E=P.byteLength-C)},this.flush=function(){E===dt&&T[0]===Ht&&(this.trigger("data",T),E=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){E=0,this.trigger("reset")}},It.prototype=new a,mt=function(){var T,E,S,C;mt.prototype.init.call(this),C=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,T=function(P,F){var U=0;F.payloadUnitStartIndicator&&(U+=P[U]+1),F.type==="pat"?E(P.subarray(U),F):S(P.subarray(U),F)},E=function(P,F){F.section_number=P[7],F.last_section_number=P[8],C.pmtPid=(P[10]&31)<<8|P[11],F.pmtPid=C.pmtPid},S=function(P,F){var U,K,q,X;if(P[5]&1){for(C.programMapTable={video:null,audio:null,"timed-metadata":{}},U=(P[1]&15)<<8|P[2],K=3+U-4,q=(P[10]&15)<<8|P[11],X=12+q;X<K;){var re=P[X],Te=(P[X+1]&31)<<8|P[X+2];re===qe.H264_STREAM_TYPE&&C.programMapTable.video===null?C.programMapTable.video=Te:re===qe.ADTS_STREAM_TYPE&&C.programMapTable.audio===null?C.programMapTable.audio=Te:re===qe.METADATA_STREAM_TYPE&&(C.programMapTable["timed-metadata"][Te]=re),X+=((P[X+3]&15)<<8|P[X+4])+5}F.programMapTable=C.programMapTable}},this.push=function(k){var P={},F=4;if(P.payloadUnitStartIndicator=!!(k[1]&64),P.pid=k[1]&31,P.pid<<=8,P.pid|=k[2],(k[3]&48)>>>4>1&&(F+=k[F]+1),P.pid===0)P.type="pat",T(k.subarray(F),P),this.trigger("data",P);else if(P.pid===this.pmtPid)for(P.type="pmt",T(k.subarray(F),P),this.trigger("data",P);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([k,F,P]):this.processPes_(k,F,P)},this.processPes_=function(k,P,F){F.pid===this.programMapTable.video?F.streamType=qe.H264_STREAM_TYPE:F.pid===this.programMapTable.audio?F.streamType=qe.ADTS_STREAM_TYPE:F.streamType=this.programMapTable["timed-metadata"][F.pid],F.type="pes",F.data=k.subarray(P),this.trigger("data",F)}},mt.prototype=new a,mt.STREAM_TYPES={h264:27,adts:15},Ot=function(){var T=this,E=!1,S={data:[],size:0},C={data:[],size:0},k={data:[],size:0},P,F=function(q,X){var re,Te=q[0]<<16|q[1]<<8|q[2];X.data=new Uint8Array,Te===1&&(X.packetLength=6+(q[4]<<8|q[5]),X.dataAlignmentIndicator=(q[6]&4)!==0,re=q[7],re&192&&(X.pts=(q[9]&14)<<27|(q[10]&255)<<20|(q[11]&254)<<12|(q[12]&255)<<5|(q[13]&254)>>>3,X.pts*=4,X.pts+=(q[13]&6)>>>1,X.dts=X.pts,re&64&&(X.dts=(q[14]&14)<<27|(q[15]&255)<<20|(q[16]&254)<<12|(q[17]&255)<<5|(q[18]&254)>>>3,X.dts*=4,X.dts+=(q[18]&6)>>>1)),X.data=q.subarray(9+q[8]))},U=function(q,X,re){var Te=new Uint8Array(q.size),Ce={type:X},me=0,Oe=0,ze=!1,Qe;if(!(!q.data.length||q.size<9)){for(Ce.trackId=q.data[0].pid,me=0;me<q.data.length;me++)Qe=q.data[me],Te.set(Qe.data,Oe),Oe+=Qe.data.byteLength;F(Te,Ce),ze=X==="video"||Ce.packetLength<=q.size,(re||ze)&&(q.size=0,q.data.length=0),ze&&T.trigger("data",Ce)}};Ot.prototype.init.call(this),this.push=function(K){({pat:function(){},pes:function(){var X,re;switch(K.streamType){case qe.H264_STREAM_TYPE:X=S,re="video";break;case qe.ADTS_STREAM_TYPE:X=C,re="audio";break;case qe.METADATA_STREAM_TYPE:X=k,re="timed-metadata";break;default:return}K.payloadUnitStartIndicator&&U(X,re,!0),X.data.push(K),X.size+=K.data.byteLength},pmt:function(){var X={type:"metadata",tracks:[]};P=K.programMapTable,P.video!==null&&X.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+P.video,codec:"avc",type:"video"}),P.audio!==null&&X.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+P.audio,codec:"adts",type:"audio"}),E=!0,T.trigger("data",X)}})[K.type]()},this.reset=function(){S.size=0,S.data.length=0,C.size=0,C.data.length=0,this.trigger("reset")},this.flushStreams_=function(){U(S,"video"),U(C,"audio"),U(k,"timed-metadata")},this.flush=function(){if(!E&&P){var K={type:"metadata",tracks:[]};P.video!==null&&K.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+P.video,codec:"avc",type:"video"}),P.audio!==null&&K.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+P.audio,codec:"adts",type:"audio"}),T.trigger("data",K)}E=!1,this.flushStreams_(),this.trigger("done")}},Ot.prototype=new a;var ir={PAT_PID:0,MP2T_PACKET_LENGTH:dt,TransportPacketStream:It,TransportParseStream:mt,ElementaryStream:Ot,TimestampRolloverStream:Kr,CaptionStream:At.CaptionStream,Cea608Stream:At.Cea608Stream,Cea708Stream:At.Cea708Stream,MetadataStream:Wr};for(var zt in qe)qe.hasOwnProperty(zt)&&(ir[zt]=qe[zt]);var it=ir,Yr=Ie.ONE_SECOND_IN_TS,Rt,ar=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Rt=function(T){var E,S=0;Rt.prototype.init.call(this),this.skipWarn_=function(C,k){this.trigger("log",{level:"warn",message:"adts skiping bytes "+C+" to "+k+" in frame "+S+" outside syncword"})},this.push=function(C){var k=0,P,F,U,K,q;if(T||(S=0),C.type==="audio"){E&&E.length?(U=E,E=new Uint8Array(U.byteLength+C.data.byteLength),E.set(U),E.set(C.data,U.byteLength)):E=C.data;for(var X;k+7<E.length;){if(E[k]!==255||(E[k+1]&246)!==240){typeof X!="number"&&(X=k),k++;continue}if(typeof X=="number"&&(this.skipWarn_(X,k),X=null),F=(~E[k+1]&1)*2,P=(E[k+3]&3)<<11|E[k+4]<<3|(E[k+5]&224)>>5,K=((E[k+6]&3)+1)*1024,q=K*Yr/ar[(E[k+2]&60)>>>2],E.byteLength-k<P)break;this.trigger("data",{pts:C.pts+S*q,dts:C.dts+S*q,sampleCount:K,audioobjecttype:(E[k+2]>>>6&3)+1,channelcount:(E[k+2]&1)<<2|(E[k+3]&192)>>>6,samplerate:ar[(E[k+2]&60)>>>2],samplingfrequencyindex:(E[k+2]&60)>>>2,samplesize:16,data:E.subarray(k+7+F,k+P)}),S++,k+=P}typeof X=="number"&&(this.skipWarn_(X,k),X=null),E=E.subarray(k)}},this.flush=function(){S=0,this.trigger("done")},this.reset=function(){E=void 0,this.trigger("reset")},this.endTimeline=function(){E=void 0,this.trigger("endedtimeline")}},Rt.prototype=new a;var sr=Rt,or;or=function(T){var E=T.byteLength,S=0,C=0;this.length=function(){return 8*E},this.bitsAvailable=function(){return 8*E+C},this.loadWord=function(){var k=T.byteLength-E,P=new Uint8Array(4),F=Math.min(4,E);if(F===0)throw new Error("no bytes available");P.set(T.subarray(k,k+F)),S=new DataView(P.buffer).getUint32(0),C=F*8,E-=F},this.skipBits=function(k){var P;C>k?(S<<=k,C-=k):(k-=C,P=Math.floor(k/8),k-=P*8,E-=P,this.loadWord(),S<<=k,C-=k)},this.readBits=function(k){var P=Math.min(C,k),F=S>>>32-P;return C-=P,C>0?S<<=P:E>0&&this.loadWord(),P=k-P,P>0?F<<P|this.readBits(P):F},this.skipLeadingZeros=function(){var k;for(k=0;k<C;++k)if(S&2147483648>>>k)return S<<=k,C-=k,k;return this.loadWord(),k+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var k=this.skipLeadingZeros();return this.readBits(k+1)-1},this.readExpGolomb=function(){var k=this.readUnsignedExpGolomb();return 1&k?1+k>>>1:-1*(k>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Xr=or,Nt,gt,lr;gt=function(){var T=0,E,S;gt.prototype.init.call(this),this.push=function(C){var k;S?(k=new Uint8Array(S.byteLength+C.data.byteLength),k.set(S),k.set(C.data,S.byteLength),S=k):S=C.data;for(var P=S.byteLength;T<P-3;T++)if(S[T+2]===1){E=T+5;break}for(;E<P;)switch(S[E]){case 0:if(S[E-1]!==0){E+=2;break}else if(S[E-2]!==0){E++;break}T+3!==E-2&&this.trigger("data",S.subarray(T+3,E-2));do E++;while(S[E]!==1&&E<P);T=E-2,E+=3;break;case 1:if(S[E-1]!==0||S[E-2]!==0){E+=3;break}this.trigger("data",S.subarray(T+3,E-2)),T=E-2,E+=3;break;default:E+=3;break}S=S.subarray(T),E-=T,T=0},this.reset=function(){S=null,T=0,this.trigger("reset")},this.flush=function(){S&&S.byteLength>3&&this.trigger("data",S.subarray(T+3)),S=null,T=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},gt.prototype=new a,lr={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Nt=function(){var T=new gt,E,S,C,k,P,F,U;Nt.prototype.init.call(this),E=this,this.push=function(K){K.type==="video"&&(S=K.trackId,C=K.pts,k=K.dts,T.push(K))},T.on("data",function(K){var q={trackId:S,pts:C,dts:k,data:K,nalUnitTypeCode:K[0]&31};switch(q.nalUnitTypeCode){case 5:q.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:q.nalUnitType="sei_rbsp",q.escapedRBSP=P(K.subarray(1));break;case 7:q.nalUnitType="seq_parameter_set_rbsp",q.escapedRBSP=P(K.subarray(1)),q.config=F(q.escapedRBSP);break;case 8:q.nalUnitType="pic_parameter_set_rbsp";break;case 9:q.nalUnitType="access_unit_delimiter_rbsp";break}E.trigger("data",q)}),T.on("done",function(){E.trigger("done")}),T.on("partialdone",function(){E.trigger("partialdone")}),T.on("reset",function(){E.trigger("reset")}),T.on("endedtimeline",function(){E.trigger("endedtimeline")}),this.flush=function(){T.flush()},this.partialFlush=function(){T.partialFlush()},this.reset=function(){T.reset()},this.endTimeline=function(){T.endTimeline()},U=function(q,X){var re=8,Te=8,Ce,me;for(Ce=0;Ce<q;Ce++)Te!==0&&(me=X.readExpGolomb(),Te=(re+me+256)%256),re=Te===0?re:Te},P=function(q){for(var X=q.byteLength,re=[],Te=1,Ce,me;Te<X-2;)q[Te]===0&&q[Te+1]===0&&q[Te+2]===3?(re.push(Te+2),Te+=2):Te++;if(re.length===0)return q;Ce=X-re.length,me=new Uint8Array(Ce);var Oe=0;for(Te=0;Te<Ce;Oe++,Te++)Oe===re[0]&&(Oe++,re.shift()),me[Te]=q[Oe];return me},F=function(q){var X=0,re=0,Te=0,Ce=0,me,Oe,ze,Qe,ut,Xt,Ar,kr,Pr,Qt,Dr,Ue=[1,1],Ir,ct;if(me=new Xr(q),Oe=me.readUnsignedByte(),Qe=me.readUnsignedByte(),ze=me.readUnsignedByte(),me.skipUnsignedExpGolomb(),lr[Oe]&&(ut=me.readUnsignedExpGolomb(),ut===3&&me.skipBits(1),me.skipUnsignedExpGolomb(),me.skipUnsignedExpGolomb(),me.skipBits(1),me.readBoolean()))for(Dr=ut!==3?8:12,ct=0;ct<Dr;ct++)me.readBoolean()&&(ct<6?U(16,me):U(64,me));if(me.skipUnsignedExpGolomb(),Xt=me.readUnsignedExpGolomb(),Xt===0)me.readUnsignedExpGolomb();else if(Xt===1)for(me.skipBits(1),me.skipExpGolomb(),me.skipExpGolomb(),Ar=me.readUnsignedExpGolomb(),ct=0;ct<Ar;ct++)me.skipExpGolomb();if(me.skipUnsignedExpGolomb(),me.skipBits(1),kr=me.readUnsignedExpGolomb(),Pr=me.readUnsignedExpGolomb(),Qt=me.readBits(1),Qt===0&&me.skipBits(1),me.skipBits(1),me.readBoolean()&&(X=me.readUnsignedExpGolomb(),re=me.readUnsignedExpGolomb(),Te=me.readUnsignedExpGolomb(),Ce=me.readUnsignedExpGolomb()),me.readBoolean()&&me.readBoolean()){switch(Ir=me.readUnsignedByte(),Ir){case 1:Ue=[1,1];break;case 2:Ue=[12,11];break;case 3:Ue=[10,11];break;case 4:Ue=[16,11];break;case 5:Ue=[40,33];break;case 6:Ue=[24,11];break;case 7:Ue=[20,11];break;case 8:Ue=[32,11];break;case 9:Ue=[80,33];break;case 10:Ue=[18,11];break;case 11:Ue=[15,11];break;case 12:Ue=[64,33];break;case 13:Ue=[160,99];break;case 14:Ue=[4,3];break;case 15:Ue=[3,2];break;case 16:Ue=[2,1];break;case 255:{Ue=[me.readUnsignedByte()<<8|me.readUnsignedByte(),me.readUnsignedByte()<<8|me.readUnsignedByte()];break}}Ue&&Ue[0]/Ue[1]}return{profileIdc:Oe,levelIdc:ze,profileCompatibility:Qe,width:(kr+1)*16-X*2-re*2,height:(2-Qt)*(Pr+1)*16-Te*2-Ce*2,sarRatio:Ue}}},Nt.prototype=new a;var Qr={H264Stream:Nt,NalByteStream:gt},Jr=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ur=function(T,E){var S=T[E+6]<<21|T[E+7]<<14|T[E+8]<<7|T[E+9],C=T[E+5],k=(C&16)>>4;return S=S>=0?S:0,k?S+20:S+10},Zr=function R(T,E){return T.length-E<10||T[E]!==73||T[E+1]!==68||T[E+2]!==51?E:(E+=ur(T,E),R(T,E))},en=function(T){var E=Zr(T,0);return T.length>=E+2&&(T[E]&255)===255&&(T[E+1]&240)===240&&(T[E+1]&22)===16},cr=function(T){return T[0]<<21|T[1]<<14|T[2]<<7|T[3]},tn=function(T,E,S){var C,k="";for(C=E;C<S;C++)k+="%"+("00"+T[C].toString(16)).slice(-2);return k},rn=function(T,E,S){return unescape(tn(T,E,S))},nn=function(T,E){var S=(T[E+5]&224)>>5,C=T[E+4]<<3,k=T[E+3]&6144;return k|C|S},an=function(T,E){return T[E]===73&&T[E+1]===68&&T[E+2]===51?"timed-metadata":T[E]&!0&&(T[E+1]&240)===240?"audio":null},sn=function(T){for(var E=0;E+5<T.length;){if(T[E]!==255||(T[E+1]&246)!==240){E++;continue}return Jr[(T[E+2]&60)>>>2]}return null},ln=function(T){var E,S,C,k;E=10,T[5]&64&&(E+=4,E+=cr(T.subarray(10,14)));do{if(S=cr(T.subarray(E+4,E+8)),S<1)return null;if(k=String.fromCharCode(T[E],T[E+1],T[E+2],T[E+3]),k==="PRIV"){C=T.subarray(E+10,E+S+10);for(var P=0;P<C.byteLength;P++)if(C[P]===0){var F=rn(C,0,P);if(F==="com.apple.streaming.transportStreamTimestamp"){var U=C.subarray(P+1),K=(U[3]&1)<<30|U[4]<<22|U[5]<<14|U[6]<<6|U[7]>>>2;return K*=4,K+=U[7]&3,K}break}}E+=10,E+=S}while(E<T.byteLength);return null},Lt={isLikelyAacData:en,parseId3TagSize:ur,parseAdtsSize:nn,parseType:an,parseSampleRate:sn,parseAacTimestamp:ln},Mt;Mt=function(){var T=new Uint8Array,E=0;Mt.prototype.init.call(this),this.setTimestamp=function(S){E=S},this.push=function(S){var C=0,k=0,P,F,U,K;for(T.length?(K=T.length,T=new Uint8Array(S.byteLength+K),T.set(T.subarray(0,K)),T.set(S,K)):T=S;T.length-k>=3;){if(T[k]===73&&T[k+1]===68&&T[k+2]===51){if(T.length-k<10||(C=Lt.parseId3TagSize(T,k),k+C>T.length))break;F={type:"timed-metadata",data:T.subarray(k,k+C)},this.trigger("data",F),k+=C;continue}else if((T[k]&255)===255&&(T[k+1]&240)===240){if(T.length-k<7||(C=Lt.parseAdtsSize(T,k),k+C>T.length))break;U={type:"audio",data:T.subarray(k,k+C),pts:E,dts:E},this.trigger("data",U),k+=C;continue}k++}P=T.length-k,P>0?T=T.subarray(k):T=new Uint8Array},this.reset=function(){T=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){T=new Uint8Array,this.trigger("endedtimeline")}},Mt.prototype=new a;var un=Mt,cn=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Gt=cn,dn=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],qt=dn,fn=Qr.H264Stream,hn=Lt.isLikelyAacData,pn=Ie.ONE_SECOND_IN_TS,vt,ft,Bt,st,mn=function(T,E){E.stream=T,this.trigger("log",E)},dr=function(T,E){for(var S=Object.keys(E),C=0;C<S.length;C++){var k=S[C];k==="headOfPipeline"||!E[k].on||E[k].on("log",mn.bind(T,k))}},fr=function(T,E){var S;if(T.length!==E.length)return!1;for(S=0;S<T.length;S++)if(T[S]!==E[S])return!1;return!0},Wt=function(T,E,S,C,k,P){var F=S-E,U=C-E,K=k-S;return{start:{dts:T,pts:T+F},end:{dts:T+U,pts:T+K},prependedContentDuration:P,baseMediaDecodeTime:T}};ft=function(T,E){var S=[],C,k=0,P=0,F=1/0;E=E||{},C=E.firstSequenceNumber||0,ft.prototype.init.call(this),this.push=function(U){Ze.collectDtsInfo(T,U),T&&Gt.forEach(function(K){T[K]=U[K]}),S.push(U)},this.setEarliestDts=function(U){k=U},this.setVideoBaseMediaDecodeTime=function(U){F=U},this.setAudioAppendStart=function(U){P=U},this.flush=function(){var U,K,q,X,re,Te,Ce;if(S.length===0){this.trigger("done","AudioSegmentStream");return}U=Ye.trimAdtsFramesByEarliestDts(S,T,k),T.baseMediaDecodeTime=Ze.calculateTrackBaseMediaDecodeTime(T,E.keepOriginalTimestamps),Ce=Ye.prefixWithSilence(T,U,P,F),T.samples=Ye.generateSampleTable(U),q=xe.mdat(Ye.concatenateFrameData(U)),S=[],K=xe.moof(C,[T]),X=new Uint8Array(K.byteLength+q.byteLength),C++,X.set(K),X.set(q,K.byteLength),Ze.clearDtsInfo(T),re=Math.ceil(pn*1024/T.samplerate),U.length&&(Te=U.length*re,this.trigger("segmentTimingInfo",Wt(Ie.audioTsToVideoTs(T.baseMediaDecodeTime,T.samplerate),U[0].dts,U[0].pts,U[0].dts+Te,U[0].pts+Te,Ce||0)),this.trigger("timingInfo",{start:U[0].pts,end:U[0].pts+Te})),this.trigger("data",{track:T,boxes:X}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Ze.clearDtsInfo(T),S=[],this.trigger("reset")}},ft.prototype=new a,vt=function(T,E){var S,C=[],k=[],P,F;E=E||{},S=E.firstSequenceNumber||0,vt.prototype.init.call(this),delete T.minPTS,this.gopCache_=[],this.push=function(U){Ze.collectDtsInfo(T,U),U.nalUnitType==="seq_parameter_set_rbsp"&&!P&&(P=U.config,T.sps=[U.data],qt.forEach(function(K){T[K]=P[K]},this)),U.nalUnitType==="pic_parameter_set_rbsp"&&!F&&(F=U.data,T.pps=[U.data]),C.push(U)},this.flush=function(){for(var U,K,q,X,re,Te,Ce=0,me,Oe;C.length&&C[0].nalUnitType!=="access_unit_delimiter_rbsp";)C.shift();if(C.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(U=ue.groupNalsIntoFrames(C),q=ue.groupFramesIntoGops(U),q[0][0].keyFrame||(K=this.getGopForFusion_(C[0],T),K?(Ce=K.duration,q.unshift(K),q.byteLength+=K.byteLength,q.nalCount+=K.nalCount,q.pts=K.pts,q.dts=K.dts,q.duration+=K.duration):q=ue.extendFirstKeyFrame(q)),k.length){var ze;if(E.alignGopsAtEnd?ze=this.alignGopsAtEnd_(q):ze=this.alignGopsAtStart_(q),!ze){this.gopCache_.unshift({gop:q.pop(),pps:T.pps,sps:T.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),C=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Ze.clearDtsInfo(T),q=ze}Ze.collectDtsInfo(T,q),T.samples=ue.generateSampleTable(q),re=xe.mdat(ue.concatenateNalData(q)),T.baseMediaDecodeTime=Ze.calculateTrackBaseMediaDecodeTime(T,E.keepOriginalTimestamps),this.trigger("processedGopsInfo",q.map(function(Qe){return{pts:Qe.pts,dts:Qe.dts,byteLength:Qe.byteLength}})),me=q[0],Oe=q[q.length-1],this.trigger("segmentTimingInfo",Wt(T.baseMediaDecodeTime,me.dts,me.pts,Oe.dts+Oe.duration,Oe.pts+Oe.duration,Ce)),this.trigger("timingInfo",{start:q[0].pts,end:q[q.length-1].pts+q[q.length-1].duration}),this.gopCache_.unshift({gop:q.pop(),pps:T.pps,sps:T.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),C=[],this.trigger("baseMediaDecodeTime",T.baseMediaDecodeTime),this.trigger("timelineStartInfo",T.timelineStartInfo),X=xe.moof(S,[T]),Te=new Uint8Array(X.byteLength+re.byteLength),S++,Te.set(X),Te.set(re,X.byteLength),this.trigger("data",{track:T,boxes:Te}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),C=[],this.gopCache_.length=0,k.length=0,this.trigger("reset")},this.resetStream_=function(){Ze.clearDtsInfo(T),P=void 0,F=void 0},this.getGopForFusion_=function(U){var K=45e3,q=1e4,X=1/0,re,Te,Ce,me,Oe;for(Oe=0;Oe<this.gopCache_.length;Oe++)me=this.gopCache_[Oe],Ce=me.gop,!(!(T.pps&&fr(T.pps[0],me.pps[0]))||!(T.sps&&fr(T.sps[0],me.sps[0])))&&(Ce.dts<T.timelineStartInfo.dts||(re=U.dts-Ce.dts-Ce.duration,re>=-q&&re<=K&&(!Te||X>re)&&(Te=me,X=re)));return Te?Te.gop:null},this.alignGopsAtStart_=function(U){var K,q,X,re,Te,Ce,me,Oe;for(Te=U.byteLength,Ce=U.nalCount,me=U.duration,K=q=0;K<k.length&&q<U.length&&(X=k[K],re=U[q],X.pts!==re.pts);){if(re.pts>X.pts){K++;continue}q++,Te-=re.byteLength,Ce-=re.nalCount,me-=re.duration}return q===0?U:q===U.length?null:(Oe=U.slice(q),Oe.byteLength=Te,Oe.duration=me,Oe.nalCount=Ce,Oe.pts=Oe[0].pts,Oe.dts=Oe[0].dts,Oe)},this.alignGopsAtEnd_=function(U){var K,q,X,re,Te,Ce;for(K=k.length-1,q=U.length-1,Te=null,Ce=!1;K>=0&&q>=0;){if(X=k[K],re=U[q],X.pts===re.pts){Ce=!0;break}if(X.pts>re.pts){K--;continue}K===k.length-1&&(Te=q),q--}if(!Ce&&Te===null)return null;var me;if(Ce?me=q:me=Te,me===0)return U;var Oe=U.slice(me),ze=Oe.reduce(function(Qe,ut){return Qe.byteLength+=ut.byteLength,Qe.duration+=ut.duration,Qe.nalCount+=ut.nalCount,Qe},{byteLength:0,duration:0,nalCount:0});return Oe.byteLength=ze.byteLength,Oe.duration=ze.duration,Oe.nalCount=ze.nalCount,Oe.pts=Oe[0].pts,Oe.dts=Oe[0].dts,Oe},this.alignGopsWith=function(U){k=U}},vt.prototype=new a,st=function(T,E){this.numberOfTracks=0,this.metadataStream=E,T=T||{},typeof T.remux<"u"?this.remuxTracks=!!T.remux:this.remuxTracks=!0,typeof T.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=T.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,st.prototype.init.call(this),this.push=function(S){if(S.text)return this.pendingCaptions.push(S);if(S.frames)return this.pendingMetadata.push(S);this.pendingTracks.push(S.track),this.pendingBytes+=S.boxes.byteLength,S.track.type==="video"&&(this.videoTrack=S.track,this.pendingBoxes.push(S.boxes)),S.track.type==="audio"&&(this.audioTrack=S.track,this.pendingBoxes.unshift(S.boxes))}},st.prototype=new a,st.prototype.flush=function(R){var T=0,E={captions:[],captionStreams:{},metadata:[],info:{}},S,C,k,P=0,F;if(this.pendingTracks.length<this.numberOfTracks){if(R!=="VideoSegmentStream"&&R!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(P=this.videoTrack.timelineStartInfo.pts,qt.forEach(function(U){E.info[U]=this.videoTrack[U]},this)):this.audioTrack&&(P=this.audioTrack.timelineStartInfo.pts,Gt.forEach(function(U){E.info[U]=this.audioTrack[U]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?E.type=this.pendingTracks[0].type:E.type="combined",this.emittedTracks+=this.pendingTracks.length,k=xe.initSegment(this.pendingTracks),E.initSegment=new Uint8Array(k.byteLength),E.initSegment.set(k),E.data=new Uint8Array(this.pendingBytes),F=0;F<this.pendingBoxes.length;F++)E.data.set(this.pendingBoxes[F],T),T+=this.pendingBoxes[F].byteLength;for(F=0;F<this.pendingCaptions.length;F++)S=this.pendingCaptions[F],S.startTime=Ie.metadataTsToSeconds(S.startPts,P,this.keepOriginalTimestamps),S.endTime=Ie.metadataTsToSeconds(S.endPts,P,this.keepOriginalTimestamps),E.captionStreams[S.stream]=!0,E.captions.push(S);for(F=0;F<this.pendingMetadata.length;F++)C=this.pendingMetadata[F],C.cueTime=Ie.metadataTsToSeconds(C.pts,P,this.keepOriginalTimestamps),E.metadata.push(C);for(E.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",E),F=0;F<E.captions.length;F++)S=E.captions[F],this.trigger("caption",S);for(F=0;F<E.metadata.length;F++)C=E.metadata[F],this.trigger("id3Frame",C)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},st.prototype.setRemux=function(R){this.remuxTracks=R},Bt=function(T){var E=this,S=!0,C,k;Bt.prototype.init.call(this),T=T||{},this.baseMediaDecodeTime=T.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var P={};this.transmuxPipeline_=P,P.type="aac",P.metadataStream=new it.MetadataStream,P.aacStream=new un,P.audioTimestampRolloverStream=new it.TimestampRolloverStream("audio"),P.timedMetadataTimestampRolloverStream=new it.TimestampRolloverStream("timed-metadata"),P.adtsStream=new sr,P.coalesceStream=new st(T,P.metadataStream),P.headOfPipeline=P.aacStream,P.aacStream.pipe(P.audioTimestampRolloverStream).pipe(P.adtsStream),P.aacStream.pipe(P.timedMetadataTimestampRolloverStream).pipe(P.metadataStream).pipe(P.coalesceStream),P.metadataStream.on("timestamp",function(F){P.aacStream.setTimestamp(F.timeStamp)}),P.aacStream.on("data",function(F){F.type!=="timed-metadata"&&F.type!=="audio"||P.audioSegmentStream||(k=k||{timelineStartInfo:{baseMediaDecodeTime:E.baseMediaDecodeTime},codec:"adts",type:"audio"},P.coalesceStream.numberOfTracks++,P.audioSegmentStream=new ft(k,T),P.audioSegmentStream.on("log",E.getLogTrigger_("audioSegmentStream")),P.audioSegmentStream.on("timingInfo",E.trigger.bind(E,"audioTimingInfo")),P.adtsStream.pipe(P.audioSegmentStream).pipe(P.coalesceStream),E.trigger("trackinfo",{hasAudio:!!k,hasVideo:!!C}))}),P.coalesceStream.on("data",this.trigger.bind(this,"data")),P.coalesceStream.on("done",this.trigger.bind(this,"done")),dr(this,P)},this.setupTsPipeline=function(){var P={};this.transmuxPipeline_=P,P.type="ts",P.metadataStream=new it.MetadataStream,P.packetStream=new it.TransportPacketStream,P.parseStream=new it.TransportParseStream,P.elementaryStream=new it.ElementaryStream,P.timestampRolloverStream=new it.TimestampRolloverStream,P.adtsStream=new sr,P.h264Stream=new fn,P.captionStream=new it.CaptionStream(T),P.coalesceStream=new st(T,P.metadataStream),P.headOfPipeline=P.packetStream,P.packetStream.pipe(P.parseStream).pipe(P.elementaryStream).pipe(P.timestampRolloverStream),P.timestampRolloverStream.pipe(P.h264Stream),P.timestampRolloverStream.pipe(P.adtsStream),P.timestampRolloverStream.pipe(P.metadataStream).pipe(P.coalesceStream),P.h264Stream.pipe(P.captionStream).pipe(P.coalesceStream),P.elementaryStream.on("data",function(F){var U;if(F.type==="metadata"){for(U=F.tracks.length;U--;)!C&&F.tracks[U].type==="video"?(C=F.tracks[U],C.timelineStartInfo.baseMediaDecodeTime=E.baseMediaDecodeTime):!k&&F.tracks[U].type==="audio"&&(k=F.tracks[U],k.timelineStartInfo.baseMediaDecodeTime=E.baseMediaDecodeTime);C&&!P.videoSegmentStream&&(P.coalesceStream.numberOfTracks++,P.videoSegmentStream=new vt(C,T),P.videoSegmentStream.on("log",E.getLogTrigger_("videoSegmentStream")),P.videoSegmentStream.on("timelineStartInfo",function(K){k&&!T.keepOriginalTimestamps&&(k.timelineStartInfo=K,P.audioSegmentStream.setEarliestDts(K.dts-E.baseMediaDecodeTime))}),P.videoSegmentStream.on("processedGopsInfo",E.trigger.bind(E,"gopInfo")),P.videoSegmentStream.on("segmentTimingInfo",E.trigger.bind(E,"videoSegmentTimingInfo")),P.videoSegmentStream.on("baseMediaDecodeTime",function(K){k&&P.audioSegmentStream.setVideoBaseMediaDecodeTime(K)}),P.videoSegmentStream.on("timingInfo",E.trigger.bind(E,"videoTimingInfo")),P.h264Stream.pipe(P.videoSegmentStream).pipe(P.coalesceStream)),k&&!P.audioSegmentStream&&(P.coalesceStream.numberOfTracks++,P.audioSegmentStream=new ft(k,T),P.audioSegmentStream.on("log",E.getLogTrigger_("audioSegmentStream")),P.audioSegmentStream.on("timingInfo",E.trigger.bind(E,"audioTimingInfo")),P.audioSegmentStream.on("segmentTimingInfo",E.trigger.bind(E,"audioSegmentTimingInfo")),P.adtsStream.pipe(P.audioSegmentStream).pipe(P.coalesceStream)),E.trigger("trackinfo",{hasAudio:!!k,hasVideo:!!C})}}),P.coalesceStream.on("data",this.trigger.bind(this,"data")),P.coalesceStream.on("id3Frame",function(F){F.dispatchType=P.metadataStream.dispatchType,E.trigger("id3Frame",F)}),P.coalesceStream.on("caption",this.trigger.bind(this,"caption")),P.coalesceStream.on("done",this.trigger.bind(this,"done")),dr(this,P)},this.setBaseMediaDecodeTime=function(P){var F=this.transmuxPipeline_;T.keepOriginalTimestamps||(this.baseMediaDecodeTime=P),k&&(k.timelineStartInfo.dts=void 0,k.timelineStartInfo.pts=void 0,Ze.clearDtsInfo(k),F.audioTimestampRolloverStream&&F.audioTimestampRolloverStream.discontinuity()),C&&(F.videoSegmentStream&&(F.videoSegmentStream.gopCache_=[]),C.timelineStartInfo.dts=void 0,C.timelineStartInfo.pts=void 0,Ze.clearDtsInfo(C),F.captionStream.reset()),F.timestampRolloverStream&&F.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(P){k&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(P)},this.setRemux=function(P){var F=this.transmuxPipeline_;T.remux=P,F&&F.coalesceStream&&F.coalesceStream.setRemux(P)},this.alignGopsWith=function(P){C&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(P)},this.getLogTrigger_=function(P){var F=this;return function(U){U.stream=P,F.trigger("log",U)}},this.push=function(P){if(S){var F=hn(P);F&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!F&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),S=!1}this.transmuxPipeline_.headOfPipeline.push(P)},this.flush=function(){S=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Bt.prototype=new a;var gn={Transmuxer:Bt,VideoSegmentStream:vt,AudioSegmentStream:ft,AUDIO_PROPERTIES:Gt,VIDEO_PROPERTIES:qt,generateSegmentTimingInfo:Wt},vn=function(T){return T>>>0},yn=function(T){return("00"+T.toString(16)).slice(-2)},$t={toUnsigned:vn,toHexString:yn},_n=function(T){var E="";return E+=String.fromCharCode(T[0]),E+=String.fromCharCode(T[1]),E+=String.fromCharCode(T[2]),E+=String.fromCharCode(T[3]),E},ot=_n,Tn=$t.toUnsigned,bn=function R(T,E){var S=[],C,k,P,F,U;if(!E.length)return null;for(C=0;C<T.byteLength;)k=Tn(T[C]<<24|T[C+1]<<16|T[C+2]<<8|T[C+3]),P=ot(T.subarray(C+4,C+8)),F=k>1?C+k:T.byteLength,P===E[0]&&(E.length===1?S.push(T.subarray(C+8,F)):(U=R(T.subarray(C+8,F),E.slice(1)),U.length&&(S=S.concat(U)))),C=F;return S},Ve=bn,Sn=$t.toUnsigned,En=s.getUint64,xn=function(T){var E={version:T[0],flags:new Uint8Array(T.subarray(1,4))};return E.version===1?E.baseMediaDecodeTime=En(T.subarray(4)):E.baseMediaDecodeTime=Sn(T[4]<<24|T[5]<<16|T[6]<<8|T[7]),E},hr=xn,Cn=function(T){return{isLeading:(T[0]&12)>>>2,dependsOn:T[0]&3,isDependedOn:(T[1]&192)>>>6,hasRedundancy:(T[1]&48)>>>4,paddingValue:(T[1]&14)>>>1,isNonSyncSample:T[1]&1,degradationPriority:T[2]<<8|T[3]}},pr=Cn,wn=function(T){var E={version:T[0],flags:new Uint8Array(T.subarray(1,4)),samples:[]},S=new DataView(T.buffer,T.byteOffset,T.byteLength),C=E.flags[2]&1,k=E.flags[2]&4,P=E.flags[1]&1,F=E.flags[1]&2,U=E.flags[1]&4,K=E.flags[1]&8,q=S.getUint32(4),X=8,re;for(C&&(E.dataOffset=S.getInt32(X),X+=4),k&&q&&(re={flags:pr(T.subarray(X,X+4))},X+=4,P&&(re.duration=S.getUint32(X),X+=4),F&&(re.size=S.getUint32(X),X+=4),K&&(E.version===1?re.compositionTimeOffset=S.getInt32(X):re.compositionTimeOffset=S.getUint32(X),X+=4),E.samples.push(re),q--);q--;)re={},P&&(re.duration=S.getUint32(X),X+=4),F&&(re.size=S.getUint32(X),X+=4),U&&(re.flags=pr(T.subarray(X,X+4)),X+=4),K&&(E.version===1?re.compositionTimeOffset=S.getInt32(X):re.compositionTimeOffset=S.getUint32(X),X+=4),E.samples.push(re);return E},mr=wn,An=function(T){var E=new DataView(T.buffer,T.byteOffset,T.byteLength),S={version:T[0],flags:new Uint8Array(T.subarray(1,4)),trackId:E.getUint32(4)},C=S.flags[2]&1,k=S.flags[2]&2,P=S.flags[2]&8,F=S.flags[2]&16,U=S.flags[2]&32,K=S.flags[0]&65536,q=S.flags[0]&131072,X;return X=8,C&&(X+=4,S.baseDataOffset=E.getUint32(12),X+=4),k&&(S.sampleDescriptionIndex=E.getUint32(X),X+=4),P&&(S.defaultSampleDuration=E.getUint32(X),X+=4),F&&(S.defaultSampleSize=E.getUint32(X),X+=4),U&&(S.defaultSampleFlags=E.getUint32(X)),K&&(S.durationIsEmpty=!0),!C&&q&&(S.baseDataOffsetIsMoof=!0),S},gr=An,vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yt;typeof window<"u"?yt=window:typeof vr<"u"?yt=vr:typeof self<"u"?yt=self:yt={};var _t=yt,kn=pt.discardEmulationPreventionBytes,Pn=At.CaptionStream,Dn=function(T,E){for(var S=T,C=0;C<E.length;C++){var k=E[C];if(S<k.size)return k;S-=k.size}return null},In=function(T,E,S){var C=new DataView(T.buffer,T.byteOffset,T.byteLength),k={logs:[],seiNals:[]},P,F,U,K;for(F=0;F+4<T.length;F+=U)if(U=C.getUint32(F),F+=4,!(U<=0))switch(T[F]&31){case 6:var q=T.subarray(F+1,F+1+U),X=Dn(F,E);if(P={nalUnitType:"sei_rbsp",size:U,data:q,escapedRBSP:kn(q),trackId:S},X)P.pts=X.pts,P.dts=X.dts,K=X;else if(K)P.pts=K.pts,P.dts=K.dts;else{k.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+F+" for trackId "+S+". See mux.js#223."});break}k.seiNals.push(P);break}return k},On=function(T,E,S){var C=E,k=S.defaultSampleDuration||0,P=S.defaultSampleSize||0,F=S.trackId,U=[];return T.forEach(function(K){var q=mr(K),X=q.samples;X.forEach(function(re){re.duration===void 0&&(re.duration=k),re.size===void 0&&(re.size=P),re.trackId=F,re.dts=C,re.compositionTimeOffset===void 0&&(re.compositionTimeOffset=0),typeof C=="bigint"?(re.pts=C+_t.BigInt(re.compositionTimeOffset),C+=_t.BigInt(re.duration)):(re.pts=C+re.compositionTimeOffset,C+=re.duration)}),U=U.concat(X)}),U},Rn=function(T,E){var S=Ve(T,["moof","traf"]),C=Ve(T,["mdat"]),k={},P=[];return C.forEach(function(F,U){var K=S[U];P.push({mdat:F,traf:K})}),P.forEach(function(F){var U=F.mdat,K=F.traf,q=Ve(K,["tfhd"]),X=gr(q[0]),re=X.trackId,Te=Ve(K,["tfdt"]),Ce=Te.length>0?hr(Te[0]).baseMediaDecodeTime:0,me=Ve(K,["trun"]),Oe,ze;E===re&&me.length>0&&(Oe=On(me,Ce,X),ze=In(U,Oe,re),k[re]||(k[re]={seiNals:[],logs:[]}),k[re].seiNals=k[re].seiNals.concat(ze.seiNals),k[re].logs=k[re].logs.concat(ze.logs))}),k},Nn=function(T,E,S){var C;if(E===null)return null;C=Rn(T,E);var k=C[E]||{};return{seiNals:k.seiNals,logs:k.logs,timescale:S}},Ln=function(){var T=!1,E,S,C,k,P,F;this.isInitialized=function(){return T},this.init=function(U){E=new Pn,T=!0,F=U?U.isPartial:!1,E.on("data",function(K){K.startTime=K.startPts/k,K.endTime=K.endPts/k,P.captions.push(K),P.captionStreams[K.stream]=!0}),E.on("log",function(K){P.logs.push(K)})},this.isNewInit=function(U,K){return U&&U.length===0||K&&typeof K=="object"&&Object.keys(K).length===0?!1:C!==U[0]||k!==K[C]},this.parse=function(U,K,q){var X;if(this.isInitialized()){if(!K||!q)return null;if(this.isNewInit(K,q))C=K[0],k=q[C];else if(C===null||!k)return S.push(U),null}else return null;for(;S.length>0;){var re=S.shift();this.parse(re,K,q)}return X=Nn(U,C,k),X&&X.logs&&(P.logs=P.logs.concat(X.logs)),X===null||!X.seiNals?P.logs.length?{logs:P.logs,captions:[],captionStreams:[]}:null:(this.pushNals(X.seiNals),this.flushStream(),P)},this.pushNals=function(U){if(!this.isInitialized()||!U||U.length===0)return null;U.forEach(function(K){E.push(K)})},this.flushStream=function(){if(!this.isInitialized())return null;F?E.partialFlush():E.flush()},this.clearParsedCaptions=function(){P.captions=[],P.captionStreams={},P.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;E.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){S=[],C=null,k=null,P?this.clearParsedCaptions():P={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Mn=Ln,Ft=$t.toUnsigned,Tt=$t.toHexString,Bn=s.getUint64,yr,_r,Tr,br,Sr,Kt;yr=function(T){var E={},S=Ve(T,["moov","trak"]);return S.reduce(function(C,k){var P,F,U,K,q;return P=Ve(k,["tkhd"])[0],!P||(F=P[0],U=F===0?12:20,K=Ft(P[U]<<24|P[U+1]<<16|P[U+2]<<8|P[U+3]),q=Ve(k,["mdia","mdhd"])[0],!q)?null:(F=q[0],U=F===0?12:20,C[K]=Ft(q[U]<<24|q[U+1]<<16|q[U+2]<<8|q[U+3]),C)},E)},_r=function(T,E){var S;S=Ve(E,["moof","traf"]);var C=S.reduce(function(k,P){var F=Ve(P,["tfhd"])[0],U=Ft(F[4]<<24|F[5]<<16|F[6]<<8|F[7]),K=T[U]||9e4,q=Ve(P,["tfdt"])[0],X=new DataView(q.buffer,q.byteOffset,q.byteLength),re;q[0]===1?re=Bn(q.subarray(4,12)):re=X.getUint32(4);var Te;return typeof re=="bigint"?Te=re/_t.BigInt(K):typeof re=="number"&&!isNaN(re)&&(Te=re/K),Te<Number.MAX_SAFE_INTEGER&&(Te=Number(Te)),Te<k&&(k=Te),k},1/0);return typeof C=="bigint"||isFinite(C)?C:0},Tr=function(T,E){var S=Ve(E,["moof","traf"]),C=0,k=0,P;if(S&&S.length){var F=Ve(S[0],["tfhd"])[0],U=Ve(S[0],["trun"])[0],K=Ve(S[0],["tfdt"])[0];if(F){var q=gr(F);P=q.trackId}if(K){var X=hr(K);C=X.baseMediaDecodeTime}if(U){var re=mr(U);re.samples&&re.samples.length&&(k=re.samples[0].compositionTimeOffset||0)}}var Te=T[P]||9e4;typeof C=="bigint"&&(k=_t.BigInt(k),Te=_t.BigInt(Te));var Ce=(C+k)/Te;return typeof Ce=="bigint"&&Ce<Number.MAX_SAFE_INTEGER&&(Ce=Number(Ce)),Ce},br=function(T){var E=Ve(T,["moov","trak"]),S=[];return E.forEach(function(C){var k=Ve(C,["mdia","hdlr"]),P=Ve(C,["tkhd"]);k.forEach(function(F,U){var K=ot(F.subarray(8,12)),q=P[U],X,re,Te;K==="vide"&&(X=new DataView(q.buffer,q.byteOffset,q.byteLength),re=X.getUint8(0),Te=re===0?X.getUint32(12):X.getUint32(20),S.push(Te))})}),S},Kt=function(T){var E=T[0],S=E===0?12:20;return Ft(T[S]<<24|T[S+1]<<16|T[S+2]<<8|T[S+3])},Sr=function(T){var E=Ve(T,["moov","trak"]),S=[];return E.forEach(function(C){var k={},P=Ve(C,["tkhd"])[0],F,U;P&&(F=new DataView(P.buffer,P.byteOffset,P.byteLength),U=F.getUint8(0),k.id=U===0?F.getUint32(12):F.getUint32(20));var K=Ve(C,["mdia","hdlr"])[0];if(K){var q=ot(K.subarray(8,12));q==="vide"?k.type="video":q==="soun"?k.type="audio":k.type=q}var X=Ve(C,["mdia","minf","stbl","stsd"])[0];if(X){var re=X.subarray(8);k.codec=ot(re.subarray(4,8));var Te=Ve(re,[k.codec])[0],Ce,me;Te&&(/^[asm]vc[1-9]$/i.test(k.codec)?(Ce=Te.subarray(78),me=ot(Ce.subarray(4,8)),me==="avcC"&&Ce.length>11?(k.codec+=".",k.codec+=Tt(Ce[9]),k.codec+=Tt(Ce[10]),k.codec+=Tt(Ce[11])):k.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(k.codec)?(Ce=Te.subarray(28),me=ot(Ce.subarray(4,8)),me==="esds"&&Ce.length>20&&Ce[19]!==0?(k.codec+="."+Tt(Ce[19]),k.codec+="."+Tt(Ce[20]>>>2&63).replace(/^0/,"")):k.codec="mp4a.40.2"):k.codec=k.codec.toLowerCase())}var Oe=Ve(C,["mdia","mdhd"])[0];Oe&&(k.timescale=Kt(Oe)),S.push(k)}),S};var Er={findBox:Ve,parseType:ot,timescale:yr,startTime:_r,compositionStartTime:Tr,videoTrackIds:br,tracks:Sr,getTimescaleFromMediaHeader:Kt},xr=function(T){var E=T[1]&31;return E<<=8,E|=T[2],E},Vt=function(T){return!!(T[1]&64)},jt=function(T){var E=0;return(T[3]&48)>>>4>1&&(E+=T[4]+1),E},$n=function(T,E){var S=xr(T);return S===0?"pat":S===E?"pmt":E?"pes":null},Fn=function(T){var E=Vt(T),S=4+jt(T);return E&&(S+=T[S]+1),(T[S+10]&31)<<8|T[S+11]},Vn=function(T){var E={},S=Vt(T),C=4+jt(T);if(S&&(C+=T[C]+1),!!(T[C+5]&1)){var k,P,F;k=(T[C+1]&15)<<8|T[C+2],P=3+k-4,F=(T[C+10]&15)<<8|T[C+11];for(var U=12+F;U<P;){var K=C+U;E[(T[K+1]&31)<<8|T[K+2]]=T[K],U+=((T[K+3]&15)<<8|T[K+4])+5}return E}},jn=function(T,E){var S=xr(T),C=E[S];switch(C){case qe.H264_STREAM_TYPE:return"video";case qe.ADTS_STREAM_TYPE:return"audio";case qe.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Un=function(T){var E=Vt(T);if(!E)return null;var S=4+jt(T);if(S>=T.byteLength)return null;var C=null,k;return k=T[S+7],k&192&&(C={},C.pts=(T[S+9]&14)<<27|(T[S+10]&255)<<20|(T[S+11]&254)<<12|(T[S+12]&255)<<5|(T[S+13]&254)>>>3,C.pts*=4,C.pts+=(T[S+13]&6)>>>1,C.dts=C.pts,k&64&&(C.dts=(T[S+14]&14)<<27|(T[S+15]&255)<<20|(T[S+16]&254)<<12|(T[S+17]&255)<<5|(T[S+18]&254)>>>3,C.dts*=4,C.dts+=(T[S+18]&6)>>>1)),C},Yt=function(T){switch(T){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Hn=function(T){for(var E=4+jt(T),S=T.subarray(E),C=0,k=0,P=!1,F;k<S.byteLength-3;k++)if(S[k+2]===1){C=k+5;break}for(;C<S.byteLength;)switch(S[C]){case 0:if(S[C-1]!==0){C+=2;break}else if(S[C-2]!==0){C++;break}k+3!==C-2&&(F=Yt(S[k+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(P=!0));do C++;while(S[C]!==1&&C<S.length);k=C-2,C+=3;break;case 1:if(S[C-1]!==0||S[C-2]!==0){C+=3;break}F=Yt(S[k+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(P=!0),k=C-2,C+=3;break;default:C+=3;break}return S=S.subarray(k),C-=k,k=0,S&&S.byteLength>3&&(F=Yt(S[k+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(P=!0)),P},zn={parseType:$n,parsePat:Fn,parsePmt:Vn,parsePayloadUnitStartIndicator:Vt,parsePesType:jn,parsePesTime:Un,videoPacketContainsKeyFrame:Hn},ht=tr.handleRollover,$e={};$e.ts=zn,$e.aac=Lt;var lt=Ie.ONE_SECOND_IN_TS,Xe=188,et=71,Gn=function(T,E){for(var S=0,C=Xe,k,P;C<T.byteLength;){if(T[S]===et&&T[C]===et){switch(k=T.subarray(S,C),P=$e.ts.parseType(k,E.pid),P){case"pat":E.pid=$e.ts.parsePat(k);break;case"pmt":var F=$e.ts.parsePmt(k);E.table=E.table||{},Object.keys(F).forEach(function(U){E.table[U]=F[U]});break}S+=Xe,C+=Xe;continue}S++,C++}},Cr=function(T,E,S){for(var C=0,k=Xe,P,F,U,K,q,X=!1;k<=T.byteLength;){if(T[C]===et&&(T[k]===et||k===T.byteLength)){switch(P=T.subarray(C,k),F=$e.ts.parseType(P,E.pid),F){case"pes":U=$e.ts.parsePesType(P,E.table),K=$e.ts.parsePayloadUnitStartIndicator(P),U==="audio"&&K&&(q=$e.ts.parsePesTime(P),q&&(q.type="audio",S.audio.push(q),X=!0));break}if(X)break;C+=Xe,k+=Xe;continue}C++,k++}for(k=T.byteLength,C=k-Xe,X=!1;C>=0;){if(T[C]===et&&(T[k]===et||k===T.byteLength)){switch(P=T.subarray(C,k),F=$e.ts.parseType(P,E.pid),F){case"pes":U=$e.ts.parsePesType(P,E.table),K=$e.ts.parsePayloadUnitStartIndicator(P),U==="audio"&&K&&(q=$e.ts.parsePesTime(P),q&&(q.type="audio",S.audio.push(q),X=!0));break}if(X)break;C-=Xe,k-=Xe;continue}C--,k--}},qn=function(T,E,S){for(var C=0,k=Xe,P,F,U,K,q,X,re,Te,Ce=!1,me={data:[],size:0};k<T.byteLength;){if(T[C]===et&&T[k]===et){switch(P=T.subarray(C,k),F=$e.ts.parseType(P,E.pid),F){case"pes":if(U=$e.ts.parsePesType(P,E.table),K=$e.ts.parsePayloadUnitStartIndicator(P),U==="video"&&(K&&!Ce&&(q=$e.ts.parsePesTime(P),q&&(q.type="video",S.video.push(q),Ce=!0)),!S.firstKeyFrame)){if(K&&me.size!==0){for(X=new Uint8Array(me.size),re=0;me.data.length;)Te=me.data.shift(),X.set(Te,re),re+=Te.byteLength;if($e.ts.videoPacketContainsKeyFrame(X)){var Oe=$e.ts.parsePesTime(X);Oe?(S.firstKeyFrame=Oe,S.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}me.size=0}me.data.push(P),me.size+=P.byteLength}break}if(Ce&&S.firstKeyFrame)break;C+=Xe,k+=Xe;continue}C++,k++}for(k=T.byteLength,C=k-Xe,Ce=!1;C>=0;){if(T[C]===et&&T[k]===et){switch(P=T.subarray(C,k),F=$e.ts.parseType(P,E.pid),F){case"pes":U=$e.ts.parsePesType(P,E.table),K=$e.ts.parsePayloadUnitStartIndicator(P),U==="video"&&K&&(q=$e.ts.parsePesTime(P),q&&(q.type="video",S.video.push(q),Ce=!0));break}if(Ce)break;C-=Xe,k-=Xe;continue}C--,k--}},Wn=function(T,E){if(T.audio&&T.audio.length){var S=E;(typeof S>"u"||isNaN(S))&&(S=T.audio[0].dts),T.audio.forEach(function(P){P.dts=ht(P.dts,S),P.pts=ht(P.pts,S),P.dtsTime=P.dts/lt,P.ptsTime=P.pts/lt})}if(T.video&&T.video.length){var C=E;if((typeof C>"u"||isNaN(C))&&(C=T.video[0].dts),T.video.forEach(function(P){P.dts=ht(P.dts,C),P.pts=ht(P.pts,C),P.dtsTime=P.dts/lt,P.ptsTime=P.pts/lt}),T.firstKeyFrame){var k=T.firstKeyFrame;k.dts=ht(k.dts,C),k.pts=ht(k.pts,C),k.dtsTime=k.dts/lt,k.ptsTime=k.pts/lt}}},Kn=function(T){for(var E=!1,S=0,C=null,k=null,P=0,F=0,U;T.length-F>=3;){var K=$e.aac.parseType(T,F);switch(K){case"timed-metadata":if(T.length-F<10){E=!0;break}if(P=$e.aac.parseId3TagSize(T,F),P>T.length){E=!0;break}k===null&&(U=T.subarray(F,F+P),k=$e.aac.parseAacTimestamp(U)),F+=P;break;case"audio":if(T.length-F<7){E=!0;break}if(P=$e.aac.parseAdtsSize(T,F),P>T.length){E=!0;break}C===null&&(U=T.subarray(F,F+P),C=$e.aac.parseSampleRate(U)),S++,F+=P;break;default:F++;break}if(E)return null}if(C===null||k===null)return null;var q=lt/C,X={audio:[{type:"audio",dts:k,pts:k},{type:"audio",dts:k+S*1024*q,pts:k+S*1024*q}]};return X},Yn=function(T){var E={pid:null,table:null},S={};Gn(T,E);for(var C in E.table)if(E.table.hasOwnProperty(C)){var k=E.table[C];switch(k){case qe.H264_STREAM_TYPE:S.video=[],qn(T,E,S),S.video.length===0&&delete S.video;break;case qe.ADTS_STREAM_TYPE:S.audio=[],Cr(T,E,S),S.audio.length===0&&delete S.audio;break}}return S},Xn=function(T,E){var S=$e.aac.isLikelyAacData(T),C;return S?C=Kn(T):C=Yn(T),!C||!C.audio&&!C.video?null:(Wn(C,E),C)},Qn={inspect:Xn,parseAudioPes_:Cr},Jn=function(T,E){E.on("data",function(S){var C=S.initSegment;S.initSegment={data:C.buffer,byteOffset:C.byteOffset,byteLength:C.byteLength};var k=S.data;S.data=k.buffer,T.postMessage({action:"data",segment:S,byteOffset:k.byteOffset,byteLength:k.byteLength},[S.data])}),E.on("done",function(S){T.postMessage({action:"done"})}),E.on("gopInfo",function(S){T.postMessage({action:"gopInfo",gopInfo:S})}),E.on("videoSegmentTimingInfo",function(S){var C={start:{decode:Ie.videoTsToSeconds(S.start.dts),presentation:Ie.videoTsToSeconds(S.start.pts)},end:{decode:Ie.videoTsToSeconds(S.end.dts),presentation:Ie.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ie.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(C.prependedContentDuration=Ie.videoTsToSeconds(S.prependedContentDuration)),T.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:C})}),E.on("audioSegmentTimingInfo",function(S){var C={start:{decode:Ie.videoTsToSeconds(S.start.dts),presentation:Ie.videoTsToSeconds(S.start.pts)},end:{decode:Ie.videoTsToSeconds(S.end.dts),presentation:Ie.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ie.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(C.prependedContentDuration=Ie.videoTsToSeconds(S.prependedContentDuration)),T.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:C})}),E.on("id3Frame",function(S){T.postMessage({action:"id3Frame",id3Frame:S})}),E.on("caption",function(S){T.postMessage({action:"caption",caption:S})}),E.on("trackinfo",function(S){T.postMessage({action:"trackinfo",trackInfo:S})}),E.on("audioTimingInfo",function(S){T.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ie.videoTsToSeconds(S.start),end:Ie.videoTsToSeconds(S.end)}})}),E.on("videoTimingInfo",function(S){T.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ie.videoTsToSeconds(S.start),end:Ie.videoTsToSeconds(S.end)}})}),E.on("log",function(S){T.postMessage({action:"log",log:S})})},wr=function(){function R(E,S){this.options=S||{},this.self=E,this.init()}var T=R.prototype;return T.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new gn.Transmuxer(this.options),Jn(this.self,this.transmuxer)},T.pushMp4Captions=function(S){this.captionParser||(this.captionParser=new Mn,this.captionParser.init());var C=new Uint8Array(S.data,S.byteOffset,S.byteLength),k=this.captionParser.parse(C,S.trackIds,S.timescales);this.self.postMessage({action:"mp4Captions",captions:k&&k.captions||[],logs:k&&k.logs||[],data:C.buffer},[C.buffer])},T.probeMp4StartTime=function(S){var C=S.timescales,k=S.data,P=Er.startTime(C,k);this.self.postMessage({action:"probeMp4StartTime",startTime:P,data:k},[k.buffer])},T.probeMp4Tracks=function(S){var C=S.data,k=Er.tracks(C);this.self.postMessage({action:"probeMp4Tracks",tracks:k,data:C},[C.buffer])},T.probeTs=function(S){var C=S.data,k=S.baseStartTime,P=typeof k=="number"&&!isNaN(k)?k*Ie.ONE_SECOND_IN_TS:void 0,F=Qn.inspect(C,P),U=null;F&&(U={hasVideo:F.video&&F.video.length===2||!1,hasAudio:F.audio&&F.audio.length===2||!1},U.hasVideo&&(U.videoStart=F.video[0].ptsTime),U.hasAudio&&(U.audioStart=F.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:U,data:C},[C.buffer])},T.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},T.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},T.push=function(S){var C=new Uint8Array(S.data,S.byteOffset,S.byteLength);this.transmuxer.push(C)},T.reset=function(){this.transmuxer.reset()},T.setTimestampOffset=function(S){var C=S.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ie.secondsToVideoTs(C)))},T.setAudioAppendStart=function(S){this.transmuxer.setAudioAppendStart(Math.ceil(Ie.secondsToVideoTs(S.appendStart)))},T.setRemux=function(S){this.transmuxer.setRemux(S.remux)},T.flush=function(S){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},T.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},T.alignGopsWith=function(S){this.transmuxer.alignGopsWith(S.gopsToAlignWith.slice())},R}();self.onmessage=function(R){if(R.data.action==="init"&&R.data.options){this.messageHandlers=new wr(self,R.data.options);return}this.messageHandlers||(this.messageHandlers=new wr(self)),R.data&&R.data.action&&R.data.action!=="init"&&this.messageHandlers[R.data.action]&&this.messageHandlers[R.data.action](R.data)}})),TransmuxWorker=factory(workerCode$1),handleData_=function(a,o,u){var s=a.data.segment,c=s.type,d=s.initSegment,f=s.captions,m=s.captionStreams,g=s.metadata,v=s.videoFrameDtsTime,y=s.videoFramePtsTime;o.buffer.push({captions:f,captionStreams:m,metadata:g});var _=a.data.segment.boxes||{data:a.data.segment.data},b={type:c,data:new Uint8Array(_.data,_.data.byteOffset,_.data.byteLength),initSegment:new Uint8Array(d.data,d.byteOffset,d.byteLength)};typeof v<"u"&&(b.videoFrameDtsTime=v),typeof y<"u"&&(b.videoFramePtsTime=y),u(b)},handleDone_=function(a){var o=a.transmuxedData,u=a.callback;o.buffer=[],u(o)},handleGopInfo_=function(a,o){o.gopInfo=a.data.gopInfo},processTransmux=function(a){var o=a.transmuxer,u=a.bytes,s=a.audioAppendStart,c=a.gopsToAlignWith,d=a.remux,f=a.onData,m=a.onTrackInfo,g=a.onAudioTimingInfo,v=a.onVideoTimingInfo,y=a.onVideoSegmentTimingInfo,_=a.onAudioSegmentTimingInfo,b=a.onId3,x=a.onCaptions,w=a.onDone,A=a.onEndedTimeline,D=a.onTransmuxerLog,I=a.isEndOfTimeline,N={buffer:[]},O=I,B=function(z){o.currentTransmux===a&&(z.data.action==="data"&&handleData_(z,N,f),z.data.action==="trackinfo"&&m(z.data.trackInfo),z.data.action==="gopInfo"&&handleGopInfo_(z,N),z.data.action==="audioTimingInfo"&&g(z.data.audioTimingInfo),z.data.action==="videoTimingInfo"&&v(z.data.videoTimingInfo),z.data.action==="videoSegmentTimingInfo"&&y(z.data.videoSegmentTimingInfo),z.data.action==="audioSegmentTimingInfo"&&_(z.data.audioSegmentTimingInfo),z.data.action==="id3Frame"&&b([z.data.id3Frame],z.data.id3Frame.dispatchType),z.data.action==="caption"&&x(z.data.caption),z.data.action==="endedtimeline"&&(O=!1,A()),z.data.action==="log"&&D(z.data.log),z.data.type==="transmuxed"&&(O||(o.onmessage=null,handleDone_({transmuxedData:N,callback:w}),dequeue(o))))};if(o.onmessage=B,s&&o.postMessage({action:"setAudioAppendStart",appendStart:s}),Array.isArray(c)&&o.postMessage({action:"alignGopsWith",gopsToAlignWith:c}),typeof d<"u"&&o.postMessage({action:"setRemux",remux:d}),u.byteLength){var M=u instanceof ArrayBuffer?u:u.buffer,j=u instanceof ArrayBuffer?0:u.byteOffset;o.postMessage({action:"push",data:M,byteOffset:j,byteLength:u.byteLength},[M])}I&&o.postMessage({action:"endTimeline"}),o.postMessage({action:"flush"})},dequeue=function(a){a.currentTransmux=null,a.transmuxQueue.length&&(a.currentTransmux=a.transmuxQueue.shift(),typeof a.currentTransmux=="function"?a.currentTransmux():processTransmux(a.currentTransmux))},processAction=function(a,o){a.postMessage({action:o}),dequeue(a)},enqueueAction=function(a,o){if(!o.currentTransmux){o.currentTransmux=a,processAction(o,a);return}o.transmuxQueue.push(processAction.bind(null,o,a))},reset=function(a){enqueueAction("reset",a)},endTimeline=function(a){enqueueAction("endTimeline",a)},transmux=function(a){if(!a.transmuxer.currentTransmux){a.transmuxer.currentTransmux=a,processTransmux(a);return}a.transmuxer.transmuxQueue.push(a)},createTransmuxer=function(a){var o=new TransmuxWorker;o.currentTransmux=null,o.transmuxQueue=[];var u=o.terminate;return o.terminate=function(){return o.currentTransmux=null,o.transmuxQueue.length=0,u.call(o)},o.postMessage({action:"init",options:a}),o},segmentTransmuxer={reset,endTimeline,transmux,createTransmuxer},workerCallback=function(a){var o=a.transmuxer,u=a.endAction||a.action,s=a.callback,c=_extends$2({},a,{endAction:null,transmuxer:null,callback:null}),d=function g(v){v.data.action===u&&(o.removeEventListener("message",g),v.data.data&&(v.data.data=new Uint8Array(v.data.data,a.byteOffset||0,a.byteLength||v.data.data.byteLength),a.data&&(a.data=v.data.data)),s(v.data))};if(o.addEventListener("message",d),a.data){var f=a.data instanceof ArrayBuffer;c.byteOffset=f?0:a.data.byteOffset,c.byteLength=a.data.byteLength;var m=[f?a.data:a.data.buffer];o.postMessage(c,m)}else o.postMessage(c)},REQUEST_ERRORS={FAILURE:2,TIMEOUT:-101,ABORTED:-102},abortAll=function(a){a.forEach(function(o){o.abort()})},getRequestStats=function(a){return{bandwidth:a.bandwidth,bytesReceived:a.bytesReceived||0,roundTripTime:a.roundTripTime||0}},getProgressStats=function(a){var o=a.target,u=Date.now()-o.requestTime,s={bandwidth:1/0,bytesReceived:0,roundTripTime:u||0};return s.bytesReceived=a.loaded,s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3),s},handleErrors=function(a,o){return o.timedout?{status:o.status,message:"HLS request timed-out at URL: "+o.uri,code:REQUEST_ERRORS.TIMEOUT,xhr:o}:o.aborted?{status:o.status,message:"HLS request aborted at URL: "+o.uri,code:REQUEST_ERRORS.ABORTED,xhr:o}:a?{status:o.status,message:"HLS request errored at URL: "+o.uri,code:REQUEST_ERRORS.FAILURE,xhr:o}:o.responseType==="arraybuffer"&&o.response.byteLength===0?{status:o.status,message:"Empty HLS response at URL: "+o.uri,code:REQUEST_ERRORS.FAILURE,xhr:o}:null},handleKeyResponse=function(a,o,u){return function(s,c){var d=c.response,f=handleErrors(s,c);if(f)return u(f,a);if(d.byteLength!==16)return u({status:c.status,message:"Invalid HLS key at URL: "+c.uri,code:REQUEST_ERRORS.FAILURE,xhr:c},a);for(var m=new DataView(d),g=new Uint32Array([m.getUint32(0),m.getUint32(4),m.getUint32(8),m.getUint32(12)]),v=0;v<o.length;v++)o[v].bytes=g;return u(null,a)}},parseInitSegment=function(a,o){var u=detectContainerForBytes(a.map.bytes);if(u!=="mp4"){var s=a.map.resolvedUri||a.map.uri;return o({internal:!0,message:"Found unsupported "+(u||"unknown")+" container for initialization segment at URL: "+s,code:REQUEST_ERRORS.FAILURE})}workerCallback({action:"probeMp4Tracks",data:a.map.bytes,transmuxer:a.transmuxer,callback:function(d){var f=d.tracks,m=d.data;return a.map.bytes=m,f.forEach(function(g){a.map.tracks=a.map.tracks||{},!a.map.tracks[g.type]&&(a.map.tracks[g.type]=g,typeof g.id=="number"&&g.timescale&&(a.map.timescales=a.map.timescales||{},a.map.timescales[g.id]=g.timescale))}),o(null)}})},handleInitSegmentResponse=function(a){var o=a.segment,u=a.finishProcessingFn;return function(s,c){var d=handleErrors(s,c);if(d)return u(d,o);var f=new Uint8Array(c.response);if(o.map.key)return o.map.encryptedBytes=f,u(null,o);o.map.bytes=f,parseInitSegment(o,function(m){if(m)return m.xhr=c,m.status=c.status,u(m,o);u(null,o)})}},handleSegmentResponse=function(a){var o=a.segment,u=a.finishProcessingFn,s=a.responseType;return function(c,d){var f=handleErrors(c,d);if(f)return u(f,o);var m=s==="arraybuffer"||!d.responseText?d.response:stringToArrayBuffer(d.responseText.substring(o.lastReachedChar||0));return o.stats=getRequestStats(d),o.key?o.encryptedBytes=new Uint8Array(m):o.bytes=new Uint8Array(m),u(null,o)}},transmuxAndNotify=function(a){var o=a.segment,u=a.bytes,s=a.trackInfoFn,c=a.timingInfoFn,d=a.videoSegmentTimingInfoFn,f=a.audioSegmentTimingInfoFn,m=a.id3Fn,g=a.captionsFn,v=a.isEndOfTimeline,y=a.endedTimelineFn,_=a.dataFn,b=a.doneFn,x=a.onTransmuxerLog,w=o.map&&o.map.tracks||{},A=!!(w.audio&&w.video),D=c.bind(null,o,"audio","start"),I=c.bind(null,o,"audio","end"),N=c.bind(null,o,"video","start"),O=c.bind(null,o,"video","end"),B=function(){return transmux({bytes:u,transmuxer:o.transmuxer,audioAppendStart:o.audioAppendStart,gopsToAlignWith:o.gopsToAlignWith,remux:A,onData:function(L){L.type=L.type==="combined"?"video":L.type,_(o,L)},onTrackInfo:function(L){s&&(A&&(L.isMuxed=!0),s(o,L))},onAudioTimingInfo:function(L){D&&typeof L.start<"u"&&(D(L.start),D=null),I&&typeof L.end<"u"&&I(L.end)},onVideoTimingInfo:function(L){N&&typeof L.start<"u"&&(N(L.start),N=null),O&&typeof L.end<"u"&&O(L.end)},onVideoSegmentTimingInfo:function(L){d(L)},onAudioSegmentTimingInfo:function(L){f(L)},onId3:function(L,z){m(o,L,z)},onCaptions:function(L){g(o,[L])},isEndOfTimeline:v,onEndedTimeline:function(){y()},onTransmuxerLog:x,onDone:function(L){b&&(L.type=L.type==="combined"?"video":L.type,b(null,o,L))}})};workerCallback({action:"probeTs",transmuxer:o.transmuxer,data:u,baseStartTime:o.baseStartTime,callback:function(j){o.bytes=u=j.data;var L=j.result;L&&(s(o,{hasAudio:L.hasAudio,hasVideo:L.hasVideo,isMuxed:A}),s=null,L.hasAudio&&!A&&D(L.audioStart),L.hasVideo&&N(L.videoStart),D=null,N=null),B()}})},handleSegmentBytes=function(a){var o=a.segment,u=a.bytes,s=a.trackInfoFn,c=a.timingInfoFn,d=a.videoSegmentTimingInfoFn,f=a.audioSegmentTimingInfoFn,m=a.id3Fn,g=a.captionsFn,v=a.isEndOfTimeline,y=a.endedTimelineFn,_=a.dataFn,b=a.doneFn,x=a.onTransmuxerLog,w=new Uint8Array(u);if(isLikelyFmp4MediaSegment(w)){o.isFmp4=!0;var A=o.map.tracks,D={isFmp4:!0,hasVideo:!!A.video,hasAudio:!!A.audio};A.audio&&A.audio.codec&&A.audio.codec!=="enca"&&(D.audioCodec=A.audio.codec),A.video&&A.video.codec&&A.video.codec!=="encv"&&(D.videoCodec=A.video.codec),A.video&&A.audio&&(D.isMuxed=!0),s(o,D);var I=function(O){_(o,{data:w,type:D.hasAudio&&!D.isMuxed?"audio":"video"}),O&&O.length&&g(o,O),b(null,o,{})};workerCallback({action:"probeMp4StartTime",timescales:o.map.timescales,data:w,transmuxer:o.transmuxer,callback:function(O){var B=O.data,M=O.startTime;if(u=B.buffer,o.bytes=w=B,D.hasAudio&&!D.isMuxed&&c(o,"audio","start",M),D.hasVideo&&c(o,"video","start",M),!A.video||!B.byteLength||!o.transmuxer){I();return}workerCallback({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:o.transmuxer,data:w,timescales:o.map.timescales,trackIds:[A.video.id],callback:function(L){u=L.data.buffer,o.bytes=w=L.data,L.logs.forEach(function(z){x(videojs.mergeOptions(z,{stream:"mp4CaptionParser"}))}),I(L.captions)}})}});return}if(!o.transmuxer){b(null,o,{});return}if(typeof o.container>"u"&&(o.container=detectContainerForBytes(w)),o.container!=="ts"&&o.container!=="aac"){s(o,{hasAudio:!1,hasVideo:!1}),b(null,o,{});return}transmuxAndNotify({segment:o,bytes:u,trackInfoFn:s,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:f,id3Fn:m,captionsFn:g,isEndOfTimeline:v,endedTimelineFn:y,dataFn:_,doneFn:b,onTransmuxerLog:x})},decrypt=function(a,o){var u=a.id,s=a.key,c=a.encryptedBytes,d=a.decryptionWorker,f=function g(v){if(v.data.source===u){d.removeEventListener("message",g);var y=v.data.decrypted;o(new Uint8Array(y.bytes,y.byteOffset,y.byteLength))}};d.addEventListener("message",f);var m;s.bytes.slice?m=s.bytes.slice():m=new Uint32Array(Array.prototype.slice.call(s.bytes)),d.postMessage(createTransferableMessage({source:u,encrypted:c,key:m,iv:s.iv}),[c.buffer,m.buffer])},decryptSegment=function(a){var o=a.decryptionWorker,u=a.segment,s=a.trackInfoFn,c=a.timingInfoFn,d=a.videoSegmentTimingInfoFn,f=a.audioSegmentTimingInfoFn,m=a.id3Fn,g=a.captionsFn,v=a.isEndOfTimeline,y=a.endedTimelineFn,_=a.dataFn,b=a.doneFn,x=a.onTransmuxerLog;decrypt({id:u.requestId,key:u.key,encryptedBytes:u.encryptedBytes,decryptionWorker:o},function(w){u.bytes=w,handleSegmentBytes({segment:u,bytes:u.bytes,trackInfoFn:s,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:f,id3Fn:m,captionsFn:g,isEndOfTimeline:v,endedTimelineFn:y,dataFn:_,doneFn:b,onTransmuxerLog:x})})},waitForCompletion=function(a){var o=a.activeXhrs,u=a.decryptionWorker,s=a.trackInfoFn,c=a.timingInfoFn,d=a.videoSegmentTimingInfoFn,f=a.audioSegmentTimingInfoFn,m=a.id3Fn,g=a.captionsFn,v=a.isEndOfTimeline,y=a.endedTimelineFn,_=a.dataFn,b=a.doneFn,x=a.onTransmuxerLog,w=0,A=!1;return function(D,I){if(!A){if(D)return A=!0,abortAll(o),b(D,I);if(w+=1,w===o.length){var N=function(){if(I.encryptedBytes)return decryptSegment({decryptionWorker:u,segment:I,trackInfoFn:s,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:f,id3Fn:m,captionsFn:g,isEndOfTimeline:v,endedTimelineFn:y,dataFn:_,doneFn:b,onTransmuxerLog:x});handleSegmentBytes({segment:I,bytes:I.bytes,trackInfoFn:s,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:f,id3Fn:m,captionsFn:g,isEndOfTimeline:v,endedTimelineFn:y,dataFn:_,doneFn:b,onTransmuxerLog:x})};if(I.endOfAllRequests=Date.now(),I.map&&I.map.encryptedBytes&&!I.map.bytes)return decrypt({decryptionWorker:u,id:I.requestId+"-init",encryptedBytes:I.map.encryptedBytes,key:I.map.key},function(O){I.map.bytes=O,parseInitSegment(I,function(B){if(B)return abortAll(o),b(B,I);N()})});N()}}}},handleLoadEnd=function(a){var o=a.loadendState,u=a.abortFn;return function(s){var c=s.target;c.aborted&&u&&!o.calledAbortFn&&(u(),o.calledAbortFn=!0)}},handleProgress=function(a){var o=a.segment,u=a.progressFn;return function(s){var c=s.target;if(!c.aborted)return o.stats=videojs.mergeOptions(o.stats,getProgressStats(s)),!o.stats.firstBytesReceivedAt&&o.stats.bytesReceived&&(o.stats.firstBytesReceivedAt=Date.now()),u(s,o)}},mediaSegmentRequest=function(a){var o=a.xhr,u=a.xhrOptions,s=a.decryptionWorker,c=a.segment,d=a.abortFn,f=a.progressFn,m=a.trackInfoFn,g=a.timingInfoFn,v=a.videoSegmentTimingInfoFn,y=a.audioSegmentTimingInfoFn,_=a.id3Fn,b=a.captionsFn,x=a.isEndOfTimeline,w=a.endedTimelineFn,A=a.dataFn,D=a.doneFn,I=a.onTransmuxerLog,N=[],O=waitForCompletion({activeXhrs:N,decryptionWorker:s,trackInfoFn:m,timingInfoFn:g,videoSegmentTimingInfoFn:v,audioSegmentTimingInfoFn:y,id3Fn:_,captionsFn:b,isEndOfTimeline:x,endedTimelineFn:w,dataFn:A,doneFn:D,onTransmuxerLog:I});if(c.key&&!c.key.bytes){var B=[c.key];c.map&&!c.map.bytes&&c.map.key&&c.map.key.resolvedUri===c.key.resolvedUri&&B.push(c.map.key);var M=videojs.mergeOptions(u,{uri:c.key.resolvedUri,responseType:"arraybuffer"}),j=handleKeyResponse(c,B,O),L=o(M,j);N.push(L)}if(c.map&&!c.map.bytes){var z=c.map.key&&(!c.key||c.key.resolvedUri!==c.map.key.resolvedUri);if(z){var W=videojs.mergeOptions(u,{uri:c.map.key.resolvedUri,responseType:"arraybuffer"}),ne=handleKeyResponse(c,[c.map.key],O),V=o(W,ne);N.push(V)}var Y=videojs.mergeOptions(u,{uri:c.map.resolvedUri,responseType:"arraybuffer",headers:segmentXhrHeaders(c.map)}),Z=handleInitSegmentResponse({segment:c,finishProcessingFn:O}),pe=o(Y,Z);N.push(pe)}var ee=videojs.mergeOptions(u,{uri:c.part&&c.part.resolvedUri||c.resolvedUri,responseType:"arraybuffer",headers:segmentXhrHeaders(c)}),se=handleSegmentResponse({segment:c,finishProcessingFn:O,responseType:ee.responseType}),ge=o(ee,se);ge.addEventListener("progress",handleProgress({segment:c,progressFn:f,trackInfoFn:m,timingInfoFn:g,videoSegmentTimingInfoFn:v,audioSegmentTimingInfoFn:y,id3Fn:_,captionsFn:b,isEndOfTimeline:x,endedTimelineFn:w,dataFn:A})),N.push(ge);var De={};return N.forEach(function(oe){oe.addEventListener("loadend",handleLoadEnd({loadendState:De,abortFn:d}))}),function(){return abortAll(N)}},logFn$1=logger("CodecUtils"),getCodecs=function(a){var o=a.attributes||{};if(o.CODECS)return parseCodecs(o.CODECS)},isMaat=function(a,o){var u=o.attributes||{};return a&&a.mediaGroups&&a.mediaGroups.AUDIO&&u.AUDIO&&a.mediaGroups.AUDIO[u.AUDIO]},isMuxed=function(a,o){if(!isMaat(a,o))return!0;var u=o.attributes||{},s=a.mediaGroups.AUDIO[u.AUDIO];for(var c in s)if(!s[c].uri&&!s[c].playlists)return!0;return!1},unwrapCodecList=function(a){var o={};return a.forEach(function(u){var s=u.mediaType,c=u.type,d=u.details;o[s]=o[s]||[],o[s].push(translateLegacyCodec(""+c+d))}),Object.keys(o).forEach(function(u){if(o[u].length>1){logFn$1("multiple "+u+" codecs found as attributes: "+o[u].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),o[u]=null;return}o[u]=o[u][0]}),o},codecCount=function(a){var o=0;return a.audio&&o++,a.video&&o++,o},codecsForPlaylist=function(a,o){var u=o.attributes||{},s=unwrapCodecList(getCodecs(o)||[]);if(isMaat(a,o)&&!s.audio&&!isMuxed(a,o)){var c=unwrapCodecList(codecsFromDefault(a,u.AUDIO)||[]);c.audio&&(s.audio=c.audio)}return s},logFn=logger("PlaylistSelector"),representationToString=function(a){if(!(!a||!a.playlist)){var o=a.playlist;return JSON.stringify({id:o.id,bandwidth:a.bandwidth,width:a.width,height:a.height,codecs:o.attributes&&o.attributes.CODECS||""})}},safeGetComputedStyle=function(a,o){if(!a)return"";var u=window$1$1.getComputedStyle(a);return u?u[o]:""},stableSort=function(a,o){var u=a.slice();a.sort(function(s,c){var d=o(s,c);return d===0?u.indexOf(s)-u.indexOf(c):d})},comparePlaylistBandwidth=function(a,o){var u,s;return a.attributes.BANDWIDTH&&(u=a.attributes.BANDWIDTH),u=u||window$1$1.Number.MAX_VALUE,o.attributes.BANDWIDTH&&(s=o.attributes.BANDWIDTH),s=s||window$1$1.Number.MAX_VALUE,u-s},comparePlaylistResolution=function(a,o){var u,s;return a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width&&(u=a.attributes.RESOLUTION.width),u=u||window$1$1.Number.MAX_VALUE,o.attributes.RESOLUTION&&o.attributes.RESOLUTION.width&&(s=o.attributes.RESOLUTION.width),s=s||window$1$1.Number.MAX_VALUE,u===s&&a.attributes.BANDWIDTH&&o.attributes.BANDWIDTH?a.attributes.BANDWIDTH-o.attributes.BANDWIDTH:u-s},simpleSelector=function(a,o,u,s,c,d){if(a){var f={bandwidth:o,width:u,height:s,limitRenditionByPlayerDimensions:c},m=a.playlists;Playlist.isAudioOnly(a)&&(m=d.getAudioTrackPlaylists_(),f.audioOnly=!0);var g=m.map(function(W){var ne,V=W.attributes&&W.attributes.RESOLUTION&&W.attributes.RESOLUTION.width,Y=W.attributes&&W.attributes.RESOLUTION&&W.attributes.RESOLUTION.height;return ne=W.attributes&&W.attributes.BANDWIDTH,ne=ne||window$1$1.Number.MAX_VALUE,{bandwidth:ne,width:V,height:Y,playlist:W}});stableSort(g,function(W,ne){return W.bandwidth-ne.bandwidth}),g=g.filter(function(W){return!Playlist.isIncompatible(W.playlist)});var v=g.filter(function(W){return Playlist.isEnabled(W.playlist)});v.length||(v=g.filter(function(W){return!Playlist.isDisabled(W.playlist)}));var y=v.filter(function(W){return W.bandwidth*Config.BANDWIDTH_VARIANCE<o}),_=y[y.length-1],b=y.filter(function(W){return W.bandwidth===_.bandwidth})[0];if(c===!1){var x=b||v[0]||g[0];if(x&&x.playlist){var w="sortedPlaylistReps";return b&&(w="bandwidthBestRep"),v[0]&&(w="enabledPlaylistReps"),logFn("choosing "+representationToString(x)+" using "+w+" with options",f),x.playlist}return logFn("could not choose a playlist with options",f),null}var A=y.filter(function(W){return W.width&&W.height});stableSort(A,function(W,ne){return W.width-ne.width});var D=A.filter(function(W){return W.width===u&&W.height===s});_=D[D.length-1];var I=D.filter(function(W){return W.bandwidth===_.bandwidth})[0],N,O,B;I||(N=A.filter(function(W){return W.width>u||W.height>s}),O=N.filter(function(W){return W.width===N[0].width&&W.height===N[0].height}),_=O[O.length-1],B=O.filter(function(W){return W.bandwidth===_.bandwidth})[0]);var M;if(d.experimentalLeastPixelDiffSelector){var j=A.map(function(W){return W.pixelDiff=Math.abs(W.width-u)+Math.abs(W.height-s),W});stableSort(j,function(W,ne){return W.pixelDiff===ne.pixelDiff?ne.bandwidth-W.bandwidth:W.pixelDiff-ne.pixelDiff}),M=j[0]}var L=M||B||I||b||v[0]||g[0];if(L&&L.playlist){var z="sortedPlaylistReps";return M?z="leastPixelDiffRep":B?z="resolutionPlusOneRep":I?z="resolutionBestRep":b?z="bandwidthBestRep":v[0]&&(z="enabledPlaylistReps"),logFn("choosing "+representationToString(L)+" using "+z+" with options",f),L.playlist}return logFn("could not choose a playlist with options",f),null}},lastBandwidthSelector=function(){var a=this.useDevicePixelRatio&&window$1$1.devicePixelRatio||1;return simpleSelector(this.playlists.master,this.systemBandwidth,parseInt(safeGetComputedStyle(this.tech_.el(),"width"),10)*a,parseInt(safeGetComputedStyle(this.tech_.el(),"height"),10)*a,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},movingAverageBandwidthSelector=function(a){var o=-1,u=-1;if(a<0||a>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var s=this.useDevicePixelRatio&&window$1$1.devicePixelRatio||1;return o<0&&(o=this.systemBandwidth,u=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==u&&(o=a*this.systemBandwidth+(1-a)*o,u=this.systemBandwidth),simpleSelector(this.playlists.master,o,parseInt(safeGetComputedStyle(this.tech_.el(),"width"),10)*s,parseInt(safeGetComputedStyle(this.tech_.el(),"height"),10)*s,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},minRebufferMaxBandwidthSelector=function(a){var o=a.master,u=a.currentTime,s=a.bandwidth,c=a.duration,d=a.segmentDuration,f=a.timeUntilRebuffer,m=a.currentTimeline,g=a.syncController,v=o.playlists.filter(function(w){return!Playlist.isIncompatible(w)}),y=v.filter(Playlist.isEnabled);y.length||(y=v.filter(function(w){return!Playlist.isDisabled(w)}));var _=y.filter(Playlist.hasAttribute.bind(null,"BANDWIDTH")),b=_.map(function(w){var A=g.getSyncPoint(w,c,m,u),D=A?1:2,I=Playlist.estimateSegmentRequestTime(d,s,w),N=I*D-f;return{playlist:w,rebufferingImpact:N}}),x=b.filter(function(w){return w.rebufferingImpact<=0});return stableSort(x,function(w,A){return comparePlaylistBandwidth(A.playlist,w.playlist)}),x.length?x[0]:(stableSort(b,function(w,A){return w.rebufferingImpact-A.rebufferingImpact}),b[0]||null)},lowestBitrateCompatibleVariantSelector=function(){var a=this,o=this.playlists.master.playlists.filter(Playlist.isEnabled);stableSort(o,function(s,c){return comparePlaylistBandwidth(s,c)});var u=o.filter(function(s){return!!codecsForPlaylist(a.playlists.master,s).video});return u[0]||null},concatSegments=function(a){var o=0,u;return a.bytes&&(u=new Uint8Array(a.bytes),a.segments.forEach(function(s){u.set(s,o),o+=s.byteLength})),u},createCaptionsTrackIfNotExists=function(a,o,u){if(!a[u]){o.trigger({type:"usage",name:"vhs-608"}),o.trigger({type:"usage",name:"hls-608"});var s=u;/^cc708_/.test(u)&&(s="SERVICE"+u.split("_")[1]);var c=o.textTracks().getTrackById(s);if(c)a[u]=c;else{var d=o.options_.vhs&&o.options_.vhs.captionServices||{},f=u,m=u,g=!1,v=d[s];v&&(f=v.label,m=v.language,g=v.default),a[u]=o.addRemoteTextTrack({kind:"captions",id:s,default:g,label:f,language:m},!1).track}}},addCaptionData=function(a){var o=a.inbandTextTracks,u=a.captionArray,s=a.timestampOffset;if(u){var c=window$1$1.WebKitDataCue||window$1$1.VTTCue;u.forEach(function(d){var f=d.stream;o[f].addCue(new c(d.startTime+s,d.endTime+s,d.text))})}},deprecateOldCue=function(a){Object.defineProperties(a.frame,{id:{get:function(){return videojs.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),a.value.key}},value:{get:function(){return videojs.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),a.value.data}},privateData:{get:function(){return videojs.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),a.value.data}}})},addMetadata=function(a){var o=a.inbandTextTracks,u=a.metadataArray,s=a.timestampOffset,c=a.videoDuration;if(u){var d=window$1$1.WebKitDataCue||window$1$1.VTTCue,f=o.metadataTrack_;if(f&&(u.forEach(function(b){var x=b.cueTime+s;typeof x!="number"||window$1$1.isNaN(x)||x<0||!(x<1/0)||b.frames.forEach(function(w){var A=new d(x,x,w.value||w.url||w.data||"");A.frame=w,A.value=w,deprecateOldCue(A),f.addCue(A)})}),!(!f.cues||!f.cues.length))){for(var m=f.cues,g=[],v=0;v<m.length;v++)m[v]&&g.push(m[v]);var y=g.reduce(function(b,x){var w=b[x.startTime]||[];return w.push(x),b[x.startTime]=w,b},{}),_=Object.keys(y).sort(function(b,x){return Number(b)-Number(x)});_.forEach(function(b,x){var w=y[b],A=Number(_[x+1])||c;w.forEach(function(D){D.endTime=A})})}}},createMetadataTrackIfNotExists=function(a,o,u){a.metadataTrack_||(a.metadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,a.metadataTrack_.inBandMetadataTrackDispatchType=o)},removeCuesFromTrack=function(a,o,u){var s,c;if(u&&u.cues)for(s=u.cues.length;s--;)c=u.cues[s],c.startTime>=a&&c.endTime<=o&&u.removeCue(c)},removeDuplicateCuesFromTrack=function(a){var o=a.cues;if(o)for(var u=0;u<o.length;u++){for(var s=[],c=0,d=0;d<o.length;d++)o[u].startTime===o[d].startTime&&o[u].endTime===o[d].endTime&&o[u].text===o[d].text&&(c++,c>1&&s.push(o[d]));s.length&&s.forEach(function(f){return a.removeCue(f)})}},gopsSafeToAlignWith=function(a,o,u){if(typeof o>"u"||o===null||!a.length)return[];var s=Math.ceil((o-u+3)*clock.ONE_SECOND_IN_TS),c;for(c=0;c<a.length&&!(a[c].pts>s);c++);return a.slice(c)},updateGopBuffer=function(a,o,u){if(!o.length)return a;if(u)return o.slice();var s=o[0].pts,c=0;for(c;c<a.length&&!(a[c].pts>=s);c++);return a.slice(0,c).concat(o)},removeGopBuffer=function(a,o,u,s){for(var c=Math.ceil((o-s)*clock.ONE_SECOND_IN_TS),d=Math.ceil((u-s)*clock.ONE_SECOND_IN_TS),f=a.slice(),m=a.length;m--&&!(a[m].pts<=d););if(m===-1)return f;for(var g=m+1;g--&&!(a[g].pts<=c););return g=Math.max(g,0),f.splice(g,m-g+1),f},shallowEqual=function(a,o){if(!a&&!o||!a&&o||a&&!o)return!1;if(a===o)return!0;var u=Object.keys(a).sort(),s=Object.keys(o).sort();if(u.length!==s.length)return!1;for(var c=0;c<u.length;c++){var d=u[c];if(d!==s[c]||a[d]!==o[d])return!1}return!0},QUOTA_EXCEEDED_ERR=22,getSyncSegmentCandidate=function(a,o,u){o=o||[];for(var s=[],c=0,d=0;d<o.length;d++){var f=o[d];if(a===f.timeline&&(s.push(d),c+=f.duration,c>u))return d}return s.length===0?0:s[s.length-1]},MIN_BACK_BUFFER=1,CHECK_BUFFER_DELAY=500,finite=function(a){return typeof a=="number"&&isFinite(a)},MIN_SEGMENT_DURATION_TO_SAVE_STATS=1/60,illegalMediaSwitch=function(a,o,u){return a!=="main"||!o||!u?null:!u.hasAudio&&!u.hasVideo?"Neither audio nor video found in segment.":o.hasVideo&&!u.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!o.hasVideo&&u.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},safeBackBufferTrimTime=function(a,o,u){var s=o-Config.BACK_BUFFER_LENGTH;a.length&&(s=Math.max(s,a.start(0)));var c=o-u;return Math.min(c,s)},segmentInfoString=function(a){var o=a.startOfSegment,u=a.duration,s=a.segment,c=a.part,d=a.playlist,f=d.mediaSequence,m=d.id,g=d.segments,v=g===void 0?[]:g,y=a.mediaIndex,_=a.partIndex,b=a.timeline,x=v.length-1,w="mediaIndex/partIndex increment";a.getMediaInfoForTime?w="getMediaInfoForTime ("+a.getMediaInfoForTime+")":a.isSyncRequest&&(w="getSyncSegmentCandidate (isSyncRequest)"),a.independent&&(w+=" with independent "+a.independent);var A=typeof _=="number",D=a.segment.uri?"segment":"pre-segment",I=A?getKnownPartCount({preloadSegment:s})-1:0;return D+" ["+(f+y)+"/"+(f+x)+"]"+(A?" part ["+_+"/"+I+"]":"")+(" segment start/end ["+s.start+" => "+s.end+"]")+(A?" part start/end ["+c.start+" => "+c.end+"]":"")+(" startOfSegment ["+o+"]")+(" duration ["+u+"]")+(" timeline ["+b+"]")+(" selected by ["+w+"]")+(" playlist ["+m+"]")},timingInfoPropertyForMedia=function(a){return a+"TimingInfo"},timestampOffsetForSegment=function(a){var o=a.segmentTimeline,u=a.currentTimeline,s=a.startOfSegment,c=a.buffered,d=a.overrideCheck;return!d&&o===u?null:o<u?s:c.length?c.end(c.length-1):s},shouldWaitForTimelineChange=function(a){var o=a.timelineChangeController,u=a.currentTimeline,s=a.segmentTimeline,c=a.loaderType,d=a.audioDisabled;if(u===s)return!1;if(c==="audio"){var f=o.lastTimelineChange({type:"main"});return!f||f.to!==s}if(c==="main"&&d){var m=o.pendingTimelineChange({type:"audio"});return!(m&&m.to===s)}return!1},mediaDuration=function(a){var o=0;return["video","audio"].forEach(function(u){var s=a[u+"TimingInfo"];if(s){var c=s.start,d=s.end,f;typeof c=="bigint"||typeof d=="bigint"?f=window$1$1.BigInt(d)-window$1$1.BigInt(c):typeof c=="number"&&typeof d=="number"&&(f=d-c),typeof f<"u"&&f>o&&(o=f)}}),typeof o=="bigint"&&o<Number.MAX_SAFE_INTEGER&&(o=Number(o)),o},segmentTooLong=function(a){var o=a.segmentDuration,u=a.maxDuration;return o?Math.round(o)>u+TIME_FUDGE_FACTOR:!1},getTroublesomeSegmentDurationMessage=function(a,o){if(o!=="hls")return null;var u=mediaDuration({audioTimingInfo:a.audioTimingInfo,videoTimingInfo:a.videoTimingInfo});if(!u)return null;var s=a.playlist.targetDuration,c=segmentTooLong({segmentDuration:u,maxDuration:s*2}),d=segmentTooLong({segmentDuration:u,maxDuration:s}),f="Segment with index "+a.mediaIndex+" "+("from playlist "+a.playlist.id+" ")+("has a duration of "+u+" ")+("when the reported duration is "+a.duration+" ")+("and the target duration is "+s+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return c||d?{severity:c?"warn":"info",message:f}:null},SegmentLoader=function(l){_inheritsLoose(a,l);function a(u,s){var c;if(c=l.call(this)||this,!u)throw new TypeError("Initialization settings are required");if(typeof u.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!u.mediaSource)throw new TypeError("No MediaSource specified");return c.bandwidth=u.bandwidth,c.throughput={rate:0,count:0},c.roundTrip=NaN,c.resetStats_(),c.mediaIndex=null,c.partIndex=null,c.hasPlayed_=u.hasPlayed,c.currentTime_=u.currentTime,c.seekable_=u.seekable,c.seeking_=u.seeking,c.duration_=u.duration,c.mediaSource_=u.mediaSource,c.vhs_=u.vhs,c.loaderType_=u.loaderType,c.currentMediaInfo_=void 0,c.startingMediaInfo_=void 0,c.segmentMetadataTrack_=u.segmentMetadataTrack,c.goalBufferLength_=u.goalBufferLength,c.sourceType_=u.sourceType,c.sourceUpdater_=u.sourceUpdater,c.inbandTextTracks_=u.inbandTextTracks,c.state_="INIT",c.timelineChangeController_=u.timelineChangeController,c.shouldSaveSegmentTimingInfo_=!0,c.parse708captions_=u.parse708captions,c.useDtsForTimestampOffset_=u.useDtsForTimestampOffset,c.captionServices_=u.captionServices,c.experimentalExactManifestTimings=u.experimentalExactManifestTimings,c.checkBufferTimeout_=null,c.error_=void 0,c.currentTimeline_=-1,c.pendingSegment_=null,c.xhrOptions_=null,c.pendingSegments_=[],c.audioDisabled_=!1,c.isPendingTimestampOffset_=!1,c.gopBuffer_=[],c.timeMapping_=0,c.safeAppend_=videojs.browser.IE_VERSION>=11,c.appendInitSegment_={audio:!0,video:!0},c.playlistOfLastInitSegment_={audio:null,video:null},c.callQueue_=[],c.loadQueue_=[],c.metadataQueue_={id3:[],caption:[]},c.waitingOnRemove_=!1,c.quotaExceededErrorRetryTimeout_=null,c.activeInitSegmentId_=null,c.initSegments_={},c.cacheEncryptionKeys_=u.cacheEncryptionKeys,c.keyCache_={},c.decrypter_=u.decrypter,c.syncController_=u.syncController,c.syncPoint_={segmentIndex:0,time:0},c.transmuxer_=c.createTransmuxer_(),c.triggerSyncInfoUpdate_=function(){return c.trigger("syncinfoupdate")},c.syncController_.on("syncinfoupdate",c.triggerSyncInfoUpdate_),c.mediaSource_.addEventListener("sourceopen",function(){c.isEndOfStream_()||(c.ended_=!1)}),c.fetchAtBuffer_=!1,c.logger_=logger("SegmentLoader["+c.loaderType_+"]"),Object.defineProperty(_assertThisInitialized$1(c),"state",{get:function(){return this.state_},set:function(f){f!==this.state_&&(this.logger_(this.state_+" -> "+f),this.state_=f,this.trigger("statechange"))}}),c.sourceUpdater_.on("ready",function(){c.hasEnoughInfoToAppend_()&&c.processCallQueue_()}),c.loaderType_==="main"&&c.timelineChangeController_.on("pendingtimelinechange",function(){c.hasEnoughInfoToAppend_()&&c.processCallQueue_()}),c.loaderType_==="audio"&&c.timelineChangeController_.on("timelinechange",function(){c.hasEnoughInfoToLoad_()&&c.processLoadQueue_(),c.hasEnoughInfoToAppend_()&&c.processCallQueue_()}),c}var o=a.prototype;return o.createTransmuxer_=function(){return segmentTransmuxer.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},o.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},o.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window$1$1.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},o.setAudio=function(s){this.audioDisabled_=!s,s?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},o.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},o.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window$1$1.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},o.checkForAbort_=function(s){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==s},o.error=function(s){return typeof s<"u"&&(this.logger_("error occurred:",s),this.error_=s),this.pendingSegment_=null,this.error_},o.endOfStream=function(){this.ended_=!0,this.transmuxer_&&segmentTransmuxer.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},o.buffered_=function(){var s=this.getMediaInfo_();if(!this.sourceUpdater_||!s)return videojs.createTimeRanges();if(this.loaderType_==="main"){var c=s.hasAudio,d=s.hasVideo,f=s.isMuxed;if(d&&c&&!this.audioDisabled_&&!f)return this.sourceUpdater_.buffered();if(d)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},o.initSegmentForMap=function(s,c){if(c===void 0&&(c=!1),!s)return null;var d=initSegmentId(s),f=this.initSegments_[d];return c&&!f&&s.bytes&&(this.initSegments_[d]=f={resolvedUri:s.resolvedUri,byterange:s.byterange,bytes:s.bytes,tracks:s.tracks,timescales:s.timescales}),f||s},o.segmentKey=function(s,c){if(c===void 0&&(c=!1),!s)return null;var d=segmentKeyId(s),f=this.keyCache_[d];this.cacheEncryptionKeys_&&c&&!f&&s.bytes&&(this.keyCache_[d]=f={resolvedUri:s.resolvedUri,bytes:s.bytes});var m={resolvedUri:(f||s).resolvedUri};return f&&(m.bytes=f.bytes),m},o.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},o.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},o.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},o.playlist=function(s,c){if(c===void 0&&(c={}),!!s){var d=this.playlist_,f=this.pendingSegment_;this.playlist_=s,this.xhrOptions_=c,this.state==="INIT"&&(s.syncInfo={mediaSequence:s.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(s));var m=null;if(d&&(d.id?m=d.id:d.uri&&(m=d.uri)),this.logger_("playlist update ["+m+" => "+(s.id||s.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!d||d.uri!==s.uri){this.mediaIndex!==null&&(s.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var g=s.mediaSequence-d.mediaSequence;if(this.logger_("live window shift ["+g+"]"),this.mediaIndex!==null)if(this.mediaIndex-=g,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var v=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!v.parts||!v.parts.length||!v.parts[this.partIndex])){var y=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=y}}f&&(f.mediaIndex-=g,f.mediaIndex<0?(f.mediaIndex=null,f.partIndex=null):(f.mediaIndex>=0&&(f.segment=s.segments[f.mediaIndex]),f.partIndex>=0&&f.segment.parts&&(f.part=f.segment.parts[f.partIndex]))),this.syncController_.saveExpiredSegmentInfo(d,s)}},o.pause=function(){this.checkBufferTimeout_&&(window$1$1.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},o.paused=function(){return this.checkBufferTimeout_===null},o.resetEverything=function(s){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,s),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},o.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},o.resyncLoader=function(){this.transmuxer_&&segmentTransmuxer.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},o.remove=function(s,c,d,f){if(d===void 0&&(d=function(){}),f===void 0&&(f=!1),c===1/0&&(c=this.duration_()),c<=s){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var m=1,g=function(){m--,m===0&&d()};(f||!this.audioDisabled_)&&(m++,this.sourceUpdater_.removeAudio(s,c,g)),(f||this.loaderType_==="main")&&(this.gopBuffer_=removeGopBuffer(this.gopBuffer_,s,c,this.timeMapping_),m++,this.sourceUpdater_.removeVideo(s,c,g));for(var v in this.inbandTextTracks_)removeCuesFromTrack(s,c,this.inbandTextTracks_[v]);removeCuesFromTrack(s,c,this.segmentMetadataTrack_),g()},o.monitorBuffer_=function(){this.checkBufferTimeout_&&window$1$1.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window$1$1.setTimeout(this.monitorBufferTick_.bind(this),1)},o.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&window$1$1.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window$1$1.setTimeout(this.monitorBufferTick_.bind(this),CHECK_BUFFER_DELAY)},o.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var s=this.chooseNextRequest_();s&&(typeof s.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:s.timeline})),this.loadSegment_(s))}},o.isEndOfStream_=function(s,c,d){if(s===void 0&&(s=this.mediaIndex),c===void 0&&(c=this.playlist_),d===void 0&&(d=this.partIndex),!c||!this.mediaSource_)return!1;var f=typeof s=="number"&&c.segments[s],m=s+1===c.segments.length,g=!f||!f.parts||d+1===f.parts.length;return c.endList&&this.mediaSource_.readyState==="open"&&m&&g},o.chooseNextRequest_=function(){var s=this.buffered_(),c=lastBufferedEnd(s)||0,d=timeAheadOf(s,this.currentTime_()),f=!this.hasPlayed_()&&d>=1,m=d>=this.goalBufferLength_(),g=this.playlist_.segments;if(!g.length||f||m)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var v={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(v.isSyncRequest)v.mediaIndex=getSyncSegmentCandidate(this.currentTimeline_,g,c);else if(this.mediaIndex!==null){var y=g[this.mediaIndex],_=typeof this.partIndex=="number"?this.partIndex:-1;v.startOfSegment=y.end?y.end:c,y.parts&&y.parts[_+1]?(v.mediaIndex=this.mediaIndex,v.partIndex=_+1):v.mediaIndex=this.mediaIndex+1}else{var b=Playlist.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?c:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),x=b.segmentIndex,w=b.startTime,A=b.partIndex;v.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+c:"currentTime "+this.currentTime_(),v.mediaIndex=x,v.startOfSegment=w,v.partIndex=A}var D=g[v.mediaIndex],I=D&&typeof v.partIndex=="number"&&D.parts&&D.parts[v.partIndex];if(!D||typeof v.partIndex=="number"&&!I)return null;if(typeof v.partIndex!="number"&&D.parts&&(v.partIndex=0,I=D.parts[0]),!d&&I&&!I.independent)if(v.partIndex===0){var N=g[v.mediaIndex-1],O=N.parts&&N.parts.length&&N.parts[N.parts.length-1];O&&O.independent&&(v.mediaIndex-=1,v.partIndex=N.parts.length-1,v.independent="previous segment")}else D.parts[v.partIndex-1].independent&&(v.partIndex-=1,v.independent="previous part");var B=this.mediaSource_&&this.mediaSource_.readyState==="ended";return v.mediaIndex>=g.length-1&&B&&!this.seeking_()?null:this.generateSegmentInfo_(v)},o.generateSegmentInfo_=function(s){var c=s.independent,d=s.playlist,f=s.mediaIndex,m=s.startOfSegment,g=s.isSyncRequest,v=s.partIndex,y=s.forceTimestampOffset,_=s.getMediaInfoForTime,b=d.segments[f],x=typeof v=="number"&&b.parts[v],w={requestId:"segment-loader-"+Math.random(),uri:x&&x.resolvedUri||b.resolvedUri,mediaIndex:f,partIndex:x?v:null,isSyncRequest:g,startOfSegment:m,playlist:d,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:b.timeline,duration:x&&x.duration||b.duration,segment:b,part:x,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:_,independent:c},A=typeof y<"u"?y:this.isPendingTimestampOffset_;w.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:b.timeline,currentTimeline:this.currentTimeline_,startOfSegment:m,buffered:this.buffered_(),overrideCheck:A});var D=lastBufferedEnd(this.sourceUpdater_.audioBuffered());return typeof D=="number"&&(w.audioAppendStart=D-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(w.gopsToAlignWith=gopsSafeToAlignWith(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),w},o.timestampOffsetForSegment_=function(s){return timestampOffsetForSegment(s)},o.earlyAbortWhenNeeded_=function(s){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(s.firstBytesReceivedAt||Date.now())<1e3)){var c=this.currentTime_(),d=s.bandwidth,f=this.pendingSegment_.duration,m=Playlist.estimateSegmentRequestTime(f,d,this.playlist_,s.bytesReceived),g=timeUntilRebuffer(this.buffered_(),c,this.vhs_.tech_.playbackRate())-1;if(!(m<=g)){var v=minRebufferMaxBandwidthSelector({master:this.vhs_.playlists.master,currentTime:c,bandwidth:d,duration:this.duration_(),segmentDuration:f,timeUntilRebuffer:g,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(v){var y=m-g,_=y-v.rebufferingImpact,b=.5;g<=TIME_FUDGE_FACTOR&&(b=1),!(!v.playlist||v.playlist.uri===this.playlist_.uri||_<b)&&(this.bandwidth=v.playlist.attributes.BANDWIDTH*Config.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},o.handleAbort_=function(s){this.logger_("Aborting "+segmentInfoString(s)),this.mediaRequestsAborted+=1},o.handleProgress_=function(s,c){this.earlyAbortWhenNeeded_(c.stats),!this.checkForAbort_(c.requestId)&&this.trigger("progress")},o.handleTrackInfo_=function(s,c){this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)&&(this.checkForIllegalMediaSwitch(c)||(c=c||{},shallowEqual(this.currentMediaInfo_,c)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=c,this.currentMediaInfo_=c,this.logger_("trackinfo update",c),this.trigger("trackinfo")),!this.checkForAbort_(s.requestId)&&(this.pendingSegment_.trackInfo=c,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},o.handleTimingInfo_=function(s,c,d,f){if(this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)){var m=this.pendingSegment_,g=timingInfoPropertyForMedia(c);m[g]=m[g]||{},m[g][d]=f,this.logger_("timinginfo: "+c+" - "+d+" - "+f),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},o.handleCaptions_=function(s,c){var d=this;if(this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)){if(c.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var f=this.pendingSegment_;if(!f.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,s,c));return}var m=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),g={};c.forEach(function(v){g[v.stream]=g[v.stream]||{startTime:1/0,captions:[],endTime:0};var y=g[v.stream];y.startTime=Math.min(y.startTime,v.startTime+m),y.endTime=Math.max(y.endTime,v.endTime+m),y.captions.push(v)}),Object.keys(g).forEach(function(v){var y=g[v],_=y.startTime,b=y.endTime,x=y.captions,w=d.inbandTextTracks_;d.logger_("adding cues from "+_+" -> "+b+" for "+v),createCaptionsTrackIfNotExists(w,d.vhs_.tech_,v),removeCuesFromTrack(_,b,w[v]),addCaptionData({captionArray:x,inbandTextTracks:w,timestampOffset:m})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},o.handleId3_=function(s,c,d){if(this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)){var f=this.pendingSegment_;if(!f.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,s,c,d));return}var m=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();createMetadataTrackIfNotExists(this.inbandTextTracks_,d,this.vhs_.tech_),addMetadata({inbandTextTracks:this.inbandTextTracks_,metadataArray:c,timestampOffset:m,videoDuration:this.duration_()})}},o.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(s){return s()}),this.metadataQueue_.caption.forEach(function(s){return s()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},o.processCallQueue_=function(){var s=this.callQueue_;this.callQueue_=[],s.forEach(function(c){return c()})},o.processLoadQueue_=function(){var s=this.loadQueue_;this.loadQueue_=[],s.forEach(function(c){return c()})},o.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var s=this.pendingSegment_;return s?this.getCurrentMediaInfo_()?!shouldWaitForTimelineChange({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:s.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},o.getCurrentMediaInfo_=function(s){return s===void 0&&(s=this.pendingSegment_),s&&s.trackInfo||this.currentMediaInfo_},o.getMediaInfo_=function(s){return s===void 0&&(s=this.pendingSegment_),this.getCurrentMediaInfo_(s)||this.startingMediaInfo_},o.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},o.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var s=this.pendingSegment_,c=this.getCurrentMediaInfo_();if(!s||!c)return!1;var d=c.hasAudio,f=c.hasVideo,m=c.isMuxed;return!(f&&!s.videoTimingInfo||d&&!this.audioDisabled_&&!m&&!s.audioTimingInfo||shouldWaitForTimelineChange({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:s.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},o.handleData_=function(s,c){if(this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,s,c));return}var d=this.pendingSegment_;if(this.setTimeMapping_(d.timeline),this.updateMediaSecondsLoaded_(d.part||d.segment),this.mediaSource_.readyState!=="closed"){if(s.map&&(s.map=this.initSegmentForMap(s.map,!0),d.segment.map=s.map),s.key&&this.segmentKey(s.key,!0),d.isFmp4=s.isFmp4,d.timingInfo=d.timingInfo||{},d.isFmp4)this.trigger("fmp4"),d.timingInfo.start=d[timingInfoPropertyForMedia(c.type)].start;else{var f=this.getCurrentMediaInfo_(),m=this.loaderType_==="main"&&f&&f.hasVideo,g;m&&(g=d.videoTimingInfo.start),d.timingInfo.start=this.trueSegmentStart_({currentStart:d.timingInfo.start,playlist:d.playlist,mediaIndex:d.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:m,firstVideoFrameTimeForData:g,videoTimingInfo:d.videoTimingInfo,audioTimingInfo:d.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(d,c.type),this.updateSourceBufferTimestampOffset_(d),d.isSyncRequest){this.updateTimingInfoEnd_(d),this.syncController_.saveSegmentTimingInfo({segmentInfo:d,shouldSaveTimelineMapping:this.loaderType_==="main"});var v=this.chooseNextRequest_();if(v.mediaIndex!==d.mediaIndex||v.partIndex!==d.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}d.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(d,c)}}},o.updateAppendInitSegmentStatus=function(s,c){this.loaderType_==="main"&&typeof s.timestampOffset=="number"&&!s.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[c]!==s.playlist&&(this.appendInitSegment_[c]=!0)},o.getInitSegmentAndUpdateState_=function(s){var c=s.type,d=s.initSegment,f=s.map,m=s.playlist;if(f){var g=initSegmentId(f);if(this.activeInitSegmentId_===g)return null;d=this.initSegmentForMap(f,!0).bytes,this.activeInitSegmentId_=g}return d&&this.appendInitSegment_[c]?(this.playlistOfLastInitSegment_[c]=m,this.appendInitSegment_[c]=!1,this.activeInitSegmentId_=null,d):null},o.handleQuotaExceededError_=function(s,c){var d=this,f=s.segmentInfo,m=s.type,g=s.bytes,v=this.sourceUpdater_.audioBuffered(),y=this.sourceUpdater_.videoBuffered();v.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+timeRangesToArray(v).join(", ")),y.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+timeRangesToArray(y).join(", "));var _=v.length?v.start(0):0,b=v.length?v.end(v.length-1):0,x=y.length?y.start(0):0,w=y.length?y.end(y.length-1):0;if(b-_<=MIN_BACK_BUFFER&&w-x<=MIN_BACK_BUFFER){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+g.byteLength+", ")+("audio buffer: "+timeRangesToArray(v).join(", ")+", ")+("video buffer: "+timeRangesToArray(y).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:f,type:m,bytes:g}));var A=this.currentTime_(),D=A-MIN_BACK_BUFFER;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+D),this.remove(0,D,function(){d.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+MIN_BACK_BUFFER+"s"),d.waitingOnRemove_=!1,d.quotaExceededErrorRetryTimeout_=window$1$1.setTimeout(function(){d.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),d.quotaExceededErrorRetryTimeout_=null,d.processCallQueue_()},MIN_BACK_BUFFER*1e3)},!0)},o.handleAppendError_=function(s,c){var d=s.segmentInfo,f=s.type,m=s.bytes;if(c){if(c.code===QUOTA_EXCEEDED_ERR){this.handleQuotaExceededError_({segmentInfo:d,type:f,bytes:m});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",c),this.error(f+" append of "+m.length+"b failed for segment "+("#"+d.mediaIndex+" in playlist "+d.playlist.id)),this.trigger("appenderror")}},o.appendToSourceBuffer_=function(s){var c=s.segmentInfo,d=s.type,f=s.initSegment,m=s.data,g=s.bytes;if(!g){var v=[m],y=m.byteLength;f&&(v.unshift(f),y+=f.byteLength),g=concatSegments({bytes:y,segments:v})}this.sourceUpdater_.appendBuffer({segmentInfo:c,type:d,bytes:g},this.handleAppendError_.bind(this,{segmentInfo:c,type:d,bytes:g}))},o.handleSegmentTimingInfo_=function(s,c,d){if(!(!this.pendingSegment_||c!==this.pendingSegment_.requestId)){var f=this.pendingSegment_.segment,m=s+"TimingInfo";f[m]||(f[m]={}),f[m].transmuxerPrependedSeconds=d.prependedContentDuration||0,f[m].transmuxedPresentationStart=d.start.presentation,f[m].transmuxedDecodeStart=d.start.decode,f[m].transmuxedPresentationEnd=d.end.presentation,f[m].transmuxedDecodeEnd=d.end.decode,f[m].baseMediaDecodeTime=d.baseMediaDecodeTime}},o.appendData_=function(s,c){var d=c.type,f=c.data;if(!(!f||!f.byteLength)&&!(d==="audio"&&this.audioDisabled_)){var m=this.getInitSegmentAndUpdateState_({type:d,initSegment:c.initSegment,playlist:s.playlist,map:s.isFmp4?s.segment.map:null});this.appendToSourceBuffer_({segmentInfo:s,type:d,initSegment:m,data:f})}},o.loadSegment_=function(s){var c=this;if(this.state="WAITING",this.pendingSegment_=s,this.trimBackBuffer_(s),typeof s.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var d=_extends$2({},s,{forceTimestampOffset:!0});_extends$2(s,c.generateSegmentInfo_(d)),c.isPendingTimestampOffset_=!1,c.updateTransmuxerAndRequestSegment_(s)});return}this.updateTransmuxerAndRequestSegment_(s)},o.updateTransmuxerAndRequestSegment_=function(s){var c=this;this.shouldUpdateTransmuxerTimestampOffset_(s.timestampOffset)&&(this.gopBuffer_.length=0,s.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:s.timestampOffset}));var d=this.createSimplifiedSegmentObj_(s),f=this.isEndOfStream_(s.mediaIndex,s.playlist,s.partIndex),m=this.mediaIndex!==null,g=s.timeline!==this.currentTimeline_&&s.timeline>0,v=f||m&&g;this.logger_("Requesting "+segmentInfoString(s)),d.map&&!d.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),s.abortRequests=mediaSegmentRequest({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:d,abortFn:this.handleAbort_.bind(this,s),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",s.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",s.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:v,endedTimelineFn:function(){c.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(_){var b=_.message,x=_.level,w=_.stream;c.logger_(segmentInfoString(s)+" logged from transmuxer stream "+w+" as a "+x+": "+b)}})},o.trimBackBuffer_=function(s){var c=safeBackBufferTrimTime(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);c>0&&this.remove(0,c)},o.createSimplifiedSegmentObj_=function(s){var c=s.segment,d=s.part,f={resolvedUri:d?d.resolvedUri:c.resolvedUri,byterange:d?d.byterange:c.byterange,requestId:s.requestId,transmuxer:s.transmuxer,audioAppendStart:s.audioAppendStart,gopsToAlignWith:s.gopsToAlignWith,part:s.part},m=s.playlist.segments[s.mediaIndex-1];if(m&&m.timeline===c.timeline&&(m.videoTimingInfo?f.baseStartTime=m.videoTimingInfo.transmuxedDecodeEnd:m.audioTimingInfo&&(f.baseStartTime=m.audioTimingInfo.transmuxedDecodeEnd)),c.key){var g=c.key.iv||new Uint32Array([0,0,0,s.mediaIndex+s.playlist.mediaSequence]);f.key=this.segmentKey(c.key),f.key.iv=g}return c.map&&(f.map=this.initSegmentForMap(c.map)),f},o.saveTransferStats_=function(s){this.mediaRequests+=1,s&&(this.mediaBytesTransferred+=s.bytesReceived,this.mediaTransferDuration+=s.roundTripTime)},o.saveBandwidthRelatedStats_=function(s,c){if(this.pendingSegment_.byteLength=c.bytesReceived,s<MIN_SEGMENT_DURATION_TO_SAVE_STATS){this.logger_("Ignoring segment's bandwidth because its duration of "+s+(" is less than the min to record "+MIN_SEGMENT_DURATION_TO_SAVE_STATS));return}this.bandwidth=c.bandwidth,this.roundTrip=c.roundTripTime},o.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},o.segmentRequestFinished_=function(s,c,d){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,s,c,d));return}if(this.saveTransferStats_(c.stats),!!this.pendingSegment_&&c.requestId===this.pendingSegment_.requestId){if(s){if(this.pendingSegment_=null,this.state="READY",s.code===REQUEST_ERRORS.ABORTED)return;if(this.pause(),s.code===REQUEST_ERRORS.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(s),this.trigger("error");return}var f=this.pendingSegment_;this.saveBandwidthRelatedStats_(f.duration,c.stats),f.endOfAllRequests=c.endOfAllRequests,d.gopInfo&&(this.gopBuffer_=updateGopBuffer(this.gopBuffer_,d.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(f)}},o.setTimeMapping_=function(s){var c=this.syncController_.mappingForTimeline(s);c!==null&&(this.timeMapping_=c)},o.updateMediaSecondsLoaded_=function(s){typeof s.start=="number"&&typeof s.end=="number"?this.mediaSecondsLoaded+=s.end-s.start:this.mediaSecondsLoaded+=s.duration},o.shouldUpdateTransmuxerTimestampOffset_=function(s){return s===null?!1:this.loaderType_==="main"&&s!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&s!==this.sourceUpdater_.audioTimestampOffset()},o.trueSegmentStart_=function(s){var c=s.currentStart,d=s.playlist,f=s.mediaIndex,m=s.firstVideoFrameTimeForData,g=s.currentVideoTimestampOffset,v=s.useVideoTimingInfo,y=s.videoTimingInfo,_=s.audioTimingInfo;if(typeof c<"u")return c;if(!v)return _.start;var b=d.segments[f-1];return f===0||!b||typeof b.start>"u"||b.end!==m+g?m:y.start},o.waitForAppendsToComplete_=function(s){var c=this.getCurrentMediaInfo_(s);if(!c){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var d=c.hasAudio,f=c.hasVideo,m=c.isMuxed,g=this.loaderType_==="main"&&f,v=!this.audioDisabled_&&d&&!m;if(s.waitingOnAppends=0,!s.hasAppendedData_){!s.timingInfo&&typeof s.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),s.timingInfo={start:0},s.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(s),this.processMetadataQueue_()),this.checkAppendsDone_(s);return}g&&s.waitingOnAppends++,v&&s.waitingOnAppends++,g&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,s)),v&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,s))},o.checkAppendsDone_=function(s){this.checkForAbort_(s.requestId)||(s.waitingOnAppends--,s.waitingOnAppends===0&&this.handleAppendsDone_())},o.checkForIllegalMediaSwitch=function(s){var c=illegalMediaSwitch(this.loaderType_,this.getCurrentMediaInfo_(),s);return c?(this.error({message:c,blacklistDuration:1/0}),this.trigger("error"),!0):!1},o.updateSourceBufferTimestampOffset_=function(s){if(!(s.timestampOffset===null||typeof s.timingInfo.start!="number"||s.changedTimestampOffset||this.loaderType_!=="main")){var c=!1;s.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:s.segment.videoTimingInfo,audioTimingInfo:s.segment.audioTimingInfo,timingInfo:s.timingInfo}),s.changedTimestampOffset=!0,s.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(s.timestampOffset),c=!0),s.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(s.timestampOffset),c=!0),c&&this.trigger("timestampoffset")}},o.getSegmentStartTimeForTimestampOffsetCalculation_=function(s){var c=s.videoTimingInfo,d=s.audioTimingInfo,f=s.timingInfo;return this.useDtsForTimestampOffset_?c&&typeof c.transmuxedDecodeStart=="number"?c.transmuxedDecodeStart:d&&typeof d.transmuxedDecodeStart=="number"?d.transmuxedDecodeStart:f.start:f.start},o.updateTimingInfoEnd_=function(s){s.timingInfo=s.timingInfo||{};var c=this.getMediaInfo_(),d=this.loaderType_==="main"&&c&&c.hasVideo,f=d&&s.videoTimingInfo?s.videoTimingInfo:s.audioTimingInfo;f&&(s.timingInfo.end=typeof f.end=="number"?f.end:f.start+s.duration)},o.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var s=this.pendingSegment_;this.updateTimingInfoEnd_(s),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=getTroublesomeSegmentDurationMessage(s,this.sourceType_);if(c&&(c.severity==="warn"?videojs.log.warn(c.message):this.logger_(c.message)),this.recordThroughput_(s),this.pendingSegment_=null,this.state="READY",s.isSyncRequest&&(this.trigger("syncinfoupdate"),!s.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+segmentInfoString(s));return}this.logger_("Appended "+segmentInfoString(s)),this.addSegmentMetadataCue_(s),this.fetchAtBuffer_=!0,this.currentTimeline_!==s.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:s.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:s.timeline})),this.currentTimeline_=s.timeline,this.trigger("syncinfoupdate");var d=s.segment,f=s.part,m=d.end&&this.currentTime_()-d.end>s.playlist.targetDuration*3,g=f&&f.end&&this.currentTime_()-f.end>s.playlist.partTargetDuration*3;if(m||g){this.logger_("bad "+(m?"segment":"part")+" "+segmentInfoString(s)),this.resetEverything();return}var v=this.mediaIndex!==null;v&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=s.mediaIndex,this.partIndex=s.partIndex,this.isEndOfStream_(s.mediaIndex,s.playlist,s.partIndex)&&this.endOfStream(),this.trigger("appended"),s.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},o.recordThroughput_=function(s){if(s.duration<MIN_SEGMENT_DURATION_TO_SAVE_STATS){this.logger_("Ignoring segment's throughput because its duration of "+s.duration+(" is less than the min to record "+MIN_SEGMENT_DURATION_TO_SAVE_STATS));return}var c=this.throughput.rate,d=Date.now()-s.endOfAllRequests+1,f=Math.floor(s.byteLength/d*8*1e3);this.throughput.rate+=(f-c)/++this.throughput.count},o.addSegmentMetadataCue_=function(s){if(this.segmentMetadataTrack_){var c=s.segment,d=c.start,f=c.end;if(!(!finite(d)||!finite(f))){removeCuesFromTrack(d,f,this.segmentMetadataTrack_);var m=window$1$1.WebKitDataCue||window$1$1.VTTCue,g={custom:c.custom,dateTimeObject:c.dateTimeObject,dateTimeString:c.dateTimeString,bandwidth:s.playlist.attributes.BANDWIDTH,resolution:s.playlist.attributes.RESOLUTION,codecs:s.playlist.attributes.CODECS,byteLength:s.byteLength,uri:s.uri,timeline:s.timeline,playlist:s.playlist.id,start:d,end:f},v=JSON.stringify(g),y=new m(d,f,v);y.value=g,this.segmentMetadataTrack_.addCue(y)}}},a}(videojs.EventTarget);function noop$1(){}var toTitleCase=function(a){return typeof a!="string"?a:a.replace(/./,function(o){return o.toUpperCase()})},bufferTypes=["video","audio"],_updating=function(a,o){var u=o[a+"Buffer"];return u&&u.updating||o.queuePending[a]},nextQueueIndexOfType=function(a,o){for(var u=0;u<o.length;u++){var s=o[u];if(s.type==="mediaSource")return null;if(s.type===a)return u}return null},shiftQueue=function l(a,o){if(o.queue.length!==0){var u=0,s=o.queue[u];if(s.type==="mediaSource"){!o.updating()&&o.mediaSource.readyState!=="closed"&&(o.queue.shift(),s.action(o),s.doneFn&&s.doneFn(),l("audio",o),l("video",o));return}if(a!=="mediaSource"&&!(!o.ready()||o.mediaSource.readyState==="closed"||_updating(a,o))){if(s.type!==a){if(u=nextQueueIndexOfType(a,o.queue),u===null)return;s=o.queue[u]}if(o.queue.splice(u,1),o.queuePending[a]=s,s.action(a,o),!s.doneFn){o.queuePending[a]=null,l(a,o);return}}}},cleanupBuffer=function(a,o){var u=o[a+"Buffer"],s=toTitleCase(a);u&&(u.removeEventListener("updateend",o["on"+s+"UpdateEnd_"]),u.removeEventListener("error",o["on"+s+"Error_"]),o.codecs[a]=null,o[a+"Buffer"]=null)},inSourceBuffers=function(a,o){return a&&o&&Array.prototype.indexOf.call(a.sourceBuffers,o)!==-1},actions={appendBuffer:function(a,o,u){return function(s,c){var d=c[s+"Buffer"];if(inSourceBuffers(c.mediaSource,d)){c.logger_("Appending segment "+o.mediaIndex+"'s "+a.length+" bytes to "+s+"Buffer");try{d.appendBuffer(a)}catch(f){c.logger_("Error with code "+f.code+" "+(f.code===QUOTA_EXCEEDED_ERR?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+o.mediaIndex+" to "+s+"Buffer")),c.queuePending[s]=null,u(f)}}}},remove:function(a,o){return function(u,s){var c=s[u+"Buffer"];if(inSourceBuffers(s.mediaSource,c)){s.logger_("Removing "+a+" to "+o+" from "+u+"Buffer");try{c.remove(a,o)}catch{s.logger_("Remove "+a+" to "+o+" from "+u+"Buffer failed")}}}},timestampOffset:function(a){return function(o,u){var s=u[o+"Buffer"];inSourceBuffers(u.mediaSource,s)&&(u.logger_("Setting "+o+"timestampOffset to "+a),s.timestampOffset=a)}},callback:function(a){return function(o,u){a()}},endOfStream:function(a){return function(o){if(o.mediaSource.readyState==="open"){o.logger_("Calling mediaSource endOfStream("+(a||"")+")");try{o.mediaSource.endOfStream(a)}catch(u){videojs.log.warn("Failed to call media source endOfStream",u)}}}},duration:function(a){return function(o){o.logger_("Setting mediaSource duration to "+a);try{o.mediaSource.duration=a}catch(u){videojs.log.warn("Failed to set media source duration",u)}}},abort:function(){return function(a,o){if(o.mediaSource.readyState==="open"){var u=o[a+"Buffer"];if(inSourceBuffers(o.mediaSource,u)){o.logger_("calling abort on "+a+"Buffer");try{u.abort()}catch(s){videojs.log.warn("Failed to abort on "+a+"Buffer",s)}}}}},addSourceBuffer:function(a,o){return function(u){var s=toTitleCase(a),c=getMimeForCodec(o);u.logger_("Adding "+a+"Buffer with codec "+o+" to mediaSource");var d=u.mediaSource.addSourceBuffer(c);d.addEventListener("updateend",u["on"+s+"UpdateEnd_"]),d.addEventListener("error",u["on"+s+"Error_"]),u.codecs[a]=o,u[a+"Buffer"]=d}},removeSourceBuffer:function(a){return function(o){var u=o[a+"Buffer"];if(cleanupBuffer(a,o),!!inSourceBuffers(o.mediaSource,u)){o.logger_("Removing "+a+"Buffer with codec "+o.codecs[a]+" from mediaSource");try{o.mediaSource.removeSourceBuffer(u)}catch(s){videojs.log.warn("Failed to removeSourceBuffer "+a+"Buffer",s)}}}},changeType:function(a){return function(o,u){var s=u[o+"Buffer"],c=getMimeForCodec(a);if(inSourceBuffers(u.mediaSource,s)&&u.codecs[o]!==a){u.logger_("changing "+o+"Buffer codec from "+u.codecs[o]+" to "+a);try{s.changeType(c),u.codecs[o]=a}catch(d){videojs.log.warn("Failed to changeType on "+o+"Buffer",d)}}}}},pushQueue=function(a){var o=a.type,u=a.sourceUpdater,s=a.action,c=a.doneFn,d=a.name;u.queue.push({type:o,action:s,doneFn:c,name:d}),shiftQueue(o,u)},onUpdateend=function(a,o){return function(u){if(o.queuePending[a]){var s=o.queuePending[a].doneFn;o.queuePending[a]=null,s&&s(o[a+"Error_"])}shiftQueue(a,o)}},SourceUpdater=function(l){_inheritsLoose(a,l);function a(u){var s;return s=l.call(this)||this,s.mediaSource=u,s.sourceopenListener_=function(){return shiftQueue("mediaSource",_assertThisInitialized$1(s))},s.mediaSource.addEventListener("sourceopen",s.sourceopenListener_),s.logger_=logger("SourceUpdater"),s.audioTimestampOffset_=0,s.videoTimestampOffset_=0,s.queue=[],s.queuePending={audio:null,video:null},s.delayedAudioAppendQueue_=[],s.videoAppendQueued_=!1,s.codecs={},s.onVideoUpdateEnd_=onUpdateend("video",_assertThisInitialized$1(s)),s.onAudioUpdateEnd_=onUpdateend("audio",_assertThisInitialized$1(s)),s.onVideoError_=function(c){s.videoError_=c},s.onAudioError_=function(c){s.audioError_=c},s.createdSourceBuffers_=!1,s.initializedEme_=!1,s.triggeredReady_=!1,s}var o=a.prototype;return o.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},o.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},o.hasInitializedAnyEme=function(){return this.initializedEme_},o.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},o.createSourceBuffers=function(s){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(s),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},o.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},o.addSourceBuffer=function(s,c){pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.addSourceBuffer(s,c),name:"addSourceBuffer"})},o.abort=function(s){pushQueue({type:s,sourceUpdater:this,action:actions.abort(s),name:"abort"})},o.removeSourceBuffer=function(s){if(!this.canRemoveSourceBuffer()){videojs.log.error("removeSourceBuffer is not supported!");return}pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.removeSourceBuffer(s),name:"removeSourceBuffer"})},o.canRemoveSourceBuffer=function(){return!videojs.browser.IE_VERSION&&!videojs.browser.IS_FIREFOX&&window$1$1.MediaSource&&window$1$1.MediaSource.prototype&&typeof window$1$1.MediaSource.prototype.removeSourceBuffer=="function"},a.canChangeType=function(){return window$1$1.SourceBuffer&&window$1$1.SourceBuffer.prototype&&typeof window$1$1.SourceBuffer.prototype.changeType=="function"},o.canChangeType=function(){return this.constructor.canChangeType()},o.changeType=function(s,c){if(!this.canChangeType()){videojs.log.error("changeType is not supported!");return}pushQueue({type:s,sourceUpdater:this,action:actions.changeType(c),name:"changeType"})},o.addOrChangeSourceBuffers=function(s){var c=this;if(!s||typeof s!="object"||Object.keys(s).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(s).forEach(function(d){var f=s[d];if(!c.hasCreatedSourceBuffers())return c.addSourceBuffer(d,f);c.canChangeType()&&c.changeType(d,f)})},o.appendBuffer=function(s,c){var d=this,f=s.segmentInfo,m=s.type,g=s.bytes;if(this.processedAppend_=!0,m==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([s,c]),this.logger_("delayed audio append of "+g.length+" until video append");return}var v=c;if(pushQueue({type:m,sourceUpdater:this,action:actions.appendBuffer(g,f||{mediaIndex:-1},v),doneFn:c,name:"appendBuffer"}),m==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var y=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+y.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,y.forEach(function(_){d.appendBuffer.apply(d,_)})}},o.audioBuffered=function(){return inSourceBuffers(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:videojs.createTimeRange()},o.videoBuffered=function(){return inSourceBuffers(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:videojs.createTimeRange()},o.buffered=function(){var s=inSourceBuffers(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,c=inSourceBuffers(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return c&&!s?this.audioBuffered():s&&!c?this.videoBuffered():bufferIntersection(this.audioBuffered(),this.videoBuffered())},o.setDuration=function(s,c){c===void 0&&(c=noop$1),pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.duration(s),name:"duration",doneFn:c})},o.endOfStream=function(s,c){s===void 0&&(s=null),c===void 0&&(c=noop$1),typeof s!="string"&&(s=void 0),pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.endOfStream(s),name:"endOfStream",doneFn:c})},o.removeAudio=function(s,c,d){if(d===void 0&&(d=noop$1),!this.audioBuffered().length||this.audioBuffered().end(0)===0){d();return}pushQueue({type:"audio",sourceUpdater:this,action:actions.remove(s,c),doneFn:d,name:"remove"})},o.removeVideo=function(s,c,d){if(d===void 0&&(d=noop$1),!this.videoBuffered().length||this.videoBuffered().end(0)===0){d();return}pushQueue({type:"video",sourceUpdater:this,action:actions.remove(s,c),doneFn:d,name:"remove"})},o.updating=function(){return!!(_updating("audio",this)||_updating("video",this))},o.audioTimestampOffset=function(s){return typeof s<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==s&&(pushQueue({type:"audio",sourceUpdater:this,action:actions.timestampOffset(s),name:"timestampOffset"}),this.audioTimestampOffset_=s),this.audioTimestampOffset_},o.videoTimestampOffset=function(s){return typeof s<"u"&&this.videoBuffer&&this.videoTimestampOffset!==s&&(pushQueue({type:"video",sourceUpdater:this,action:actions.timestampOffset(s),name:"timestampOffset"}),this.videoTimestampOffset_=s),this.videoTimestampOffset_},o.audioQueueCallback=function(s){this.audioBuffer&&pushQueue({type:"audio",sourceUpdater:this,action:actions.callback(s),name:"callback"})},o.videoQueueCallback=function(s){this.videoBuffer&&pushQueue({type:"video",sourceUpdater:this,action:actions.callback(s),name:"callback"})},o.dispose=function(){var s=this;this.trigger("dispose"),bufferTypes.forEach(function(c){s.abort(c),s.canRemoveSourceBuffer()?s.removeSourceBuffer(c):s[c+"QueueCallback"](function(){return cleanupBuffer(c,s)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},a}(videojs.EventTarget),uint8ToUtf8=function(a){return decodeURIComponent(escape(String.fromCharCode.apply(null,a)))},VTT_LINE_TERMINATORS=new Uint8Array(`

`.split("").map(function(l){return l.charCodeAt(0)})),NoVttJsError=function(l){_inheritsLoose(a,l);function a(){return l.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return a}(_wrapNativeSuper$1(Error)),VTTSegmentLoader=function(l){_inheritsLoose(a,l);function a(u,s){var c;return s===void 0&&(s={}),c=l.call(this,u,s)||this,c.mediaSource_=null,c.subtitlesTrack_=null,c.loaderType_="subtitle",c.featuresNativeTextTracks_=u.featuresNativeTextTracks,c.loadVttJs=u.loadVttJs,c.shouldSaveSegmentTimingInfo_=!1,c}var o=a.prototype;return o.createTransmuxer_=function(){return null},o.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return videojs.createTimeRanges();var s=this.subtitlesTrack_.cues,c=s[0].startTime,d=s[s.length-1].startTime;return videojs.createTimeRanges([[c,d]])},o.initSegmentForMap=function(s,c){if(c===void 0&&(c=!1),!s)return null;var d=initSegmentId(s),f=this.initSegments_[d];if(c&&!f&&s.bytes){var m=VTT_LINE_TERMINATORS.byteLength+s.bytes.byteLength,g=new Uint8Array(m);g.set(s.bytes),g.set(VTT_LINE_TERMINATORS,s.bytes.byteLength),this.initSegments_[d]=f={resolvedUri:s.resolvedUri,byterange:s.byterange,bytes:g}}return f||s},o.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},o.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},o.track=function(s){return typeof s>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=s,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},o.remove=function(s,c){removeCuesFromTrack(s,c,this.subtitlesTrack_)},o.fillBuffer_=function(){var s=this,c=this.chooseNextRequest_();if(c){if(this.syncController_.timestampOffsetForTimeline(c.timeline)===null){var d=function(){s.state="READY",s.paused()||s.monitorBuffer_()};this.syncController_.one("timestampoffset",d),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(c)}},o.timestampOffsetForSegment_=function(){return null},o.chooseNextRequest_=function(){return this.skipEmptySegments_(l.prototype.chooseNextRequest_.call(this))},o.skipEmptySegments_=function(s){for(;s&&s.segment.empty;){if(s.mediaIndex+1>=s.playlist.segments.length){s=null;break}s=this.generateSegmentInfo_({playlist:s.playlist,mediaIndex:s.mediaIndex+1,startOfSegment:s.startOfSegment+s.duration,isSyncRequest:s.isSyncRequest})}return s},o.stopForError=function(s){this.error(s),this.state="READY",this.pause(),this.trigger("error")},o.segmentRequestFinished_=function(s,c,d){var f=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(c.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(s){s.code===REQUEST_ERRORS.TIMEOUT&&this.handleTimeout_(),s.code===REQUEST_ERRORS.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(s);return}var m=this.pendingSegment_;this.saveBandwidthRelatedStats_(m.duration,c.stats),c.key&&this.segmentKey(c.key,!0),this.state="APPENDING",this.trigger("appending");var g=m.segment;if(g.map&&(g.map.bytes=c.map.bytes),m.bytes=c.bytes,typeof window$1$1.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return f.segmentRequestFinished_(s,c,d)},function(){return f.stopForError({message:"Error loading vtt.js"})});return}g.requested=!0;try{this.parseVTTCues_(m)}catch(v){this.stopForError({message:v.message});return}if(this.updateTimeMapping_(m,this.syncController_.timelines[m.timeline],this.playlist_),m.cues.length?m.timingInfo={start:m.cues[0].startTime,end:m.cues[m.cues.length-1].endTime}:m.timingInfo={start:m.startOfSegment,end:m.startOfSegment+m.duration},m.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}m.byteLength=m.bytes.byteLength,this.mediaSecondsLoaded+=g.duration,m.cues.forEach(function(v){f.subtitlesTrack_.addCue(f.featuresNativeTextTracks_?new window$1$1.VTTCue(v.startTime,v.endTime,v.text):v)}),removeDuplicateCuesFromTrack(this.subtitlesTrack_),this.handleAppendsDone_()},o.handleData_=function(){},o.updateTimingInfoEnd_=function(){},o.parseVTTCues_=function(s){var c,d=!1;if(typeof window$1$1.WebVTT!="function")throw new NoVttJsError;typeof window$1$1.TextDecoder=="function"?c=new window$1$1.TextDecoder("utf8"):(c=window$1$1.WebVTT.StringDecoder(),d=!0);var f=new window$1$1.WebVTT.Parser(window$1$1,window$1$1.vttjs,c);if(s.cues=[],s.timestampmap={MPEGTS:0,LOCAL:0},f.oncue=s.cues.push.bind(s.cues),f.ontimestampmap=function(v){s.timestampmap=v},f.onparsingerror=function(v){videojs.log.warn("Error encountered when parsing cues: "+v.message)},s.segment.map){var m=s.segment.map.bytes;d&&(m=uint8ToUtf8(m)),f.parse(m)}var g=s.bytes;d&&(g=uint8ToUtf8(g)),f.parse(g),f.flush()},o.updateTimeMapping_=function(s,c,d){var f=s.segment;if(c){if(!s.cues.length){f.empty=!0;return}var m=s.timestampmap,g=m.MPEGTS/clock.ONE_SECOND_IN_TS-m.LOCAL+c.mapping;if(s.cues.forEach(function(_){_.startTime+=g,_.endTime+=g}),!d.syncInfo){var v=s.cues[0].startTime,y=s.cues[s.cues.length-1].startTime;d.syncInfo={mediaSequence:d.mediaSequence+s.mediaIndex,time:Math.min(v,y-f.duration)}}}},a}(SegmentLoader),findAdCue=function(a,o){for(var u=a.cues,s=0;s<u.length;s++){var c=u[s];if(o>=c.adStartTime&&o<=c.adEndTime)return c}return null},updateAdCues=function(a,o,u){if(u===void 0&&(u=0),!!a.segments)for(var s=u,c,d=0;d<a.segments.length;d++){var f=a.segments[d];if(c||(c=findAdCue(o,s+f.duration/2)),c){if("cueIn"in f){c.endTime=s,c.adEndTime=s,s+=f.duration,c=null;continue}if(s<c.endTime){s+=f.duration;continue}c.endTime+=f.duration}else if("cueOut"in f&&(c=new window$1$1.VTTCue(s,s+f.duration,f.cueOut),c.adStartTime=s,c.adEndTime=s+parseFloat(f.cueOut),o.addCue(c)),"cueOutCont"in f){var m=f.cueOutCont.split("/").map(parseFloat),g=m[0],v=m[1];c=new window$1$1.VTTCue(s,s+f.duration,""),c.adStartTime=s-g,c.adEndTime=c.adStartTime+v,o.addCue(c)}s+=f.duration}},MAX_MEDIA_SEQUENCE_DIFF_FOR_SYNC=86400,syncPointStrategies=[{name:"VOD",run:function(a,o,u,s,c){if(u!==1/0){var d={time:0,segmentIndex:0,partIndex:null};return d}return null}},{name:"ProgramDateTime",run:function(a,o,u,s,c){if(!Object.keys(a.timelineToDatetimeMappings).length)return null;var d=null,f=null,m=getPartsAndSegments(o);c=c||0;for(var g=0;g<m.length;g++){var v=o.endList||c===0?g:m.length-(g+1),y=m[v],_=y.segment,b=a.timelineToDatetimeMappings[_.timeline];if(!(!b||!_.dateTimeObject)){var x=_.dateTimeObject.getTime()/1e3,w=x+b;if(_.parts&&typeof y.partIndex=="number")for(var A=0;A<y.partIndex;A++)w+=_.parts[A].duration;var D=Math.abs(c-w);if(f!==null&&(D===0||f<D))break;f=D,d={time:w,segmentIndex:y.segmentIndex,partIndex:y.partIndex}}}return d}},{name:"Segment",run:function(a,o,u,s,c){var d=null,f=null;c=c||0;for(var m=getPartsAndSegments(o),g=0;g<m.length;g++){var v=o.endList||c===0?g:m.length-(g+1),y=m[v],_=y.segment,b=y.part&&y.part.start||_&&_.start;if(_.timeline===s&&typeof b<"u"){var x=Math.abs(c-b);if(f!==null&&f<x)break;(!d||f===null||f>=x)&&(f=x,d={time:b,segmentIndex:y.segmentIndex,partIndex:y.partIndex})}}return d}},{name:"Discontinuity",run:function(a,o,u,s,c){var d=null;if(c=c||0,o.discontinuityStarts&&o.discontinuityStarts.length)for(var f=null,m=0;m<o.discontinuityStarts.length;m++){var g=o.discontinuityStarts[m],v=o.discontinuitySequence+m+1,y=a.discontinuities[v];if(y){var _=Math.abs(c-y.time);if(f!==null&&f<_)break;(!d||f===null||f>=_)&&(f=_,d={time:y.time,segmentIndex:g,partIndex:null})}}return d}},{name:"Playlist",run:function(a,o,u,s,c){if(o.syncInfo){var d={time:o.syncInfo.time,segmentIndex:o.syncInfo.mediaSequence-o.mediaSequence,partIndex:null};return d}return null}}],SyncController=function(l){_inheritsLoose(a,l);function a(u){var s;return s=l.call(this)||this,s.timelines=[],s.discontinuities=[],s.timelineToDatetimeMappings={},s.logger_=logger("SyncController"),s}var o=a.prototype;return o.getSyncPoint=function(s,c,d,f){var m=this.runStrategies_(s,c,d,f);return m.length?this.selectSyncPoint_(m,{key:"time",value:f}):null},o.getExpiredTime=function(s,c){if(!s||!s.segments)return null;var d=this.runStrategies_(s,c,s.discontinuitySequence,0);if(!d.length)return null;var f=this.selectSyncPoint_(d,{key:"segmentIndex",value:0});return f.segmentIndex>0&&(f.time*=-1),Math.abs(f.time+sumDurations({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:f.segmentIndex,endIndex:0}))},o.runStrategies_=function(s,c,d,f){for(var m=[],g=0;g<syncPointStrategies.length;g++){var v=syncPointStrategies[g],y=v.run(this,s,c,d,f);y&&(y.strategy=v.name,m.push({strategy:v.name,syncPoint:y}))}return m},o.selectSyncPoint_=function(s,c){for(var d=s[0].syncPoint,f=Math.abs(s[0].syncPoint[c.key]-c.value),m=s[0].strategy,g=1;g<s.length;g++){var v=Math.abs(s[g].syncPoint[c.key]-c.value);v<f&&(f=v,d=s[g].syncPoint,m=s[g].strategy)}return this.logger_("syncPoint for ["+c.key+": "+c.value+"] chosen with strategy"+(" ["+m+"]: [time:"+d.time+",")+(" segmentIndex:"+d.segmentIndex)+(typeof d.partIndex=="number"?",partIndex:"+d.partIndex:"")+"]"),d},o.saveExpiredSegmentInfo=function(s,c){var d=c.mediaSequence-s.mediaSequence;if(d>MAX_MEDIA_SEQUENCE_DIFF_FOR_SYNC){videojs.log.warn("Not saving expired segment info. Media sequence gap "+d+" is too large.");return}for(var f=d-1;f>=0;f--){var m=s.segments[f];if(m&&typeof m.start<"u"){c.syncInfo={mediaSequence:s.mediaSequence+f,time:m.start},this.logger_("playlist refresh sync: [time:"+c.syncInfo.time+","+(" mediaSequence: "+c.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},o.setDateTimeMappingForStart=function(s){if(this.timelineToDatetimeMappings={},s.segments&&s.segments.length&&s.segments[0].dateTimeObject){var c=s.segments[0],d=c.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[c.timeline]=-d}},o.saveSegmentTimingInfo=function(s){var c=s.segmentInfo,d=s.shouldSaveTimelineMapping,f=this.calculateSegmentTimeMapping_(c,c.timingInfo,d),m=c.segment;f&&(this.saveDiscontinuitySyncInfo_(c),c.playlist.syncInfo||(c.playlist.syncInfo={mediaSequence:c.playlist.mediaSequence+c.mediaIndex,time:m.start}));var g=m.dateTimeObject;m.discontinuity&&d&&g&&(this.timelineToDatetimeMappings[m.timeline]=-(g.getTime()/1e3))},o.timestampOffsetForTimeline=function(s){return typeof this.timelines[s]>"u"?null:this.timelines[s].time},o.mappingForTimeline=function(s){return typeof this.timelines[s]>"u"?null:this.timelines[s].mapping},o.calculateSegmentTimeMapping_=function(s,c,d){var f=s.segment,m=s.part,g=this.timelines[s.timeline],v,y;if(typeof s.timestampOffset=="number")g={time:s.startOfSegment,mapping:s.startOfSegment-c.start},d&&(this.timelines[s.timeline]=g,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+s.timeline+": "+("[time: "+g.time+"] [mapping: "+g.mapping+"]"))),v=s.startOfSegment,y=c.end+g.mapping;else if(g)v=c.start+g.mapping,y=c.end+g.mapping;else return!1;return m&&(m.start=v,m.end=y),(!f.start||v<f.start)&&(f.start=v),f.end=y,!0},o.saveDiscontinuitySyncInfo_=function(s){var c=s.playlist,d=s.segment;if(d.discontinuity)this.discontinuities[d.timeline]={time:d.start,accuracy:0};else if(c.discontinuityStarts&&c.discontinuityStarts.length)for(var f=0;f<c.discontinuityStarts.length;f++){var m=c.discontinuityStarts[f],g=c.discontinuitySequence+f+1,v=m-s.mediaIndex,y=Math.abs(v);if(!this.discontinuities[g]||this.discontinuities[g].accuracy>y){var _=void 0;v<0?_=d.start-sumDurations({defaultDuration:c.targetDuration,durationList:c.segments,startIndex:s.mediaIndex,endIndex:m}):_=d.end+sumDurations({defaultDuration:c.targetDuration,durationList:c.segments,startIndex:s.mediaIndex+1,endIndex:m}),this.discontinuities[g]={time:_,accuracy:y}}}},o.dispose=function(){this.trigger("dispose"),this.off()},a}(videojs.EventTarget),TimelineChangeController=function(l){_inheritsLoose(a,l);function a(){var u;return u=l.call(this)||this,u.pendingTimelineChanges_={},u.lastTimelineChanges_={},u}var o=a.prototype;return o.clearPendingTimelineChange=function(s){this.pendingTimelineChanges_[s]=null,this.trigger("pendingtimelinechange")},o.pendingTimelineChange=function(s){var c=s.type,d=s.from,f=s.to;return typeof d=="number"&&typeof f=="number"&&(this.pendingTimelineChanges_[c]={type:c,from:d,to:f},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[c]},o.lastTimelineChange=function(s){var c=s.type,d=s.from,f=s.to;return typeof d=="number"&&typeof f=="number"&&(this.lastTimelineChanges_[c]={type:c,from:d,to:f},delete this.pendingTimelineChanges_[c],this.trigger("timelinechange")),this.lastTimelineChanges_[c]},o.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},a}(videojs.EventTarget),workerCode=transform(getWorkerString(function(){var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a(O,B,M){return M={path:B,exports:{},require:function(L,z){return o(L,z??M.path)}},O(M,M.exports),M.exports}function o(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var u=a(function(O){function B(j,L){for(var z=0;z<L.length;z++){var W=L[z];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(j,W.key,W)}}function M(j,L,z){return L&&B(j.prototype,L),z&&B(j,z),j}O.exports=M,O.exports.default=O.exports,O.exports.__esModule=!0}),s=a(function(O){function B(M,j){return O.exports=B=Object.setPrototypeOf||function(z,W){return z.__proto__=W,z},O.exports.default=O.exports,O.exports.__esModule=!0,B(M,j)}O.exports=B,O.exports.default=O.exports,O.exports.__esModule=!0}),c=a(function(O){function B(M,j){M.prototype=Object.create(j.prototype),M.prototype.constructor=M,s(M,j)}O.exports=B,O.exports.default=O.exports,O.exports.__esModule=!0}),d=function(){function O(){this.listeners={}}var B=O.prototype;return B.on=function(j,L){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push(L)},B.off=function(j,L){if(!this.listeners[j])return!1;var z=this.listeners[j].indexOf(L);return this.listeners[j]=this.listeners[j].slice(0),this.listeners[j].splice(z,1),z>-1},B.trigger=function(j){var L=this.listeners[j];if(L)if(arguments.length===2)for(var z=L.length,W=0;W<z;++W)L[W].call(this,arguments[1]);else for(var ne=Array.prototype.slice.call(arguments,1),V=L.length,Y=0;Y<V;++Y)L[Y].apply(this,ne)},B.dispose=function(){this.listeners={}},B.pipe=function(j){this.on("data",function(L){j.push(L)})},O}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function f(O){return O.subarray(0,O.byteLength-O[O.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var m=function(){var B=[[[],[],[],[],[]],[[],[],[],[],[]]],M=B[0],j=B[1],L=M[4],z=j[4],W,ne,V,Y=[],Z=[],pe,ee,se,ge,De,oe;for(W=0;W<256;W++)Z[(Y[W]=W<<1^(W>>7)*283)^W]=W;for(ne=V=0;!L[ne];ne^=pe||1,V=Z[V]||1)for(ge=V^V<<1^V<<2^V<<3^V<<4,ge=ge>>8^ge&255^99,L[ne]=ge,z[ge]=ne,se=Y[ee=Y[pe=Y[ne]]],oe=se*16843009^ee*65537^pe*257^ne*16843008,De=Y[ge]*257^ge*16843008,W=0;W<4;W++)M[W][ne]=De=De<<24^De>>>8,j[W][ge]=oe=oe<<24^oe>>>8;for(W=0;W<5;W++)M[W]=M[W].slice(0),j[W]=j[W].slice(0);return B},g=null,v=function(){function O(M){g||(g=m()),this._tables=[[g[0][0].slice(),g[0][1].slice(),g[0][2].slice(),g[0][3].slice(),g[0][4].slice()],[g[1][0].slice(),g[1][1].slice(),g[1][2].slice(),g[1][3].slice(),g[1][4].slice()]];var j,L,z,W=this._tables[0][4],ne=this._tables[1],V=M.length,Y=1;if(V!==4&&V!==6&&V!==8)throw new Error("Invalid aes key size");var Z=M.slice(0),pe=[];for(this._key=[Z,pe],j=V;j<4*V+28;j++)z=Z[j-1],(j%V===0||V===8&&j%V===4)&&(z=W[z>>>24]<<24^W[z>>16&255]<<16^W[z>>8&255]<<8^W[z&255],j%V===0&&(z=z<<8^z>>>24^Y<<24,Y=Y<<1^(Y>>7)*283)),Z[j]=Z[j-V]^z;for(L=0;j;L++,j--)z=Z[L&3?j:j-4],j<=4||L<4?pe[L]=z:pe[L]=ne[0][W[z>>>24]]^ne[1][W[z>>16&255]]^ne[2][W[z>>8&255]]^ne[3][W[z&255]]}var B=O.prototype;return B.decrypt=function(j,L,z,W,ne,V){var Y=this._key[1],Z=j^Y[0],pe=W^Y[1],ee=z^Y[2],se=L^Y[3],ge,De,oe,ae=Y.length/4-2,Ae,J=4,ve=this._tables[1],de=ve[0],xe=ve[1],te=ve[2],_e=ve[3],Se=ve[4];for(Ae=0;Ae<ae;Ae++)ge=de[Z>>>24]^xe[pe>>16&255]^te[ee>>8&255]^_e[se&255]^Y[J],De=de[pe>>>24]^xe[ee>>16&255]^te[se>>8&255]^_e[Z&255]^Y[J+1],oe=de[ee>>>24]^xe[se>>16&255]^te[Z>>8&255]^_e[pe&255]^Y[J+2],se=de[se>>>24]^xe[Z>>16&255]^te[pe>>8&255]^_e[ee&255]^Y[J+3],J+=4,Z=ge,pe=De,ee=oe;for(Ae=0;Ae<4;Ae++)ne[(3&-Ae)+V]=Se[Z>>>24]<<24^Se[pe>>16&255]<<16^Se[ee>>8&255]<<8^Se[se&255]^Y[J++],ge=Z,Z=pe,pe=ee,ee=se,se=ge},O}(),y=function(O){c(B,O);function B(){var j;return j=O.call(this,d)||this,j.jobs=[],j.delay=1,j.timeout_=null,j}var M=B.prototype;return M.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},M.push=function(L){this.jobs.push(L),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},B}(d),_=function(B){return B<<24|(B&65280)<<8|(B&16711680)>>8|B>>>24},b=function(B,M,j){var L=new Int32Array(B.buffer,B.byteOffset,B.byteLength>>2),z=new v(Array.prototype.slice.call(M)),W=new Uint8Array(B.byteLength),ne=new Int32Array(W.buffer),V,Y,Z,pe,ee,se,ge,De,oe;for(V=j[0],Y=j[1],Z=j[2],pe=j[3],oe=0;oe<L.length;oe+=4)ee=_(L[oe]),se=_(L[oe+1]),ge=_(L[oe+2]),De=_(L[oe+3]),z.decrypt(ee,se,ge,De,ne,oe),ne[oe]=_(ne[oe]^V),ne[oe+1]=_(ne[oe+1]^Y),ne[oe+2]=_(ne[oe+2]^Z),ne[oe+3]=_(ne[oe+3]^pe),V=ee,Y=se,Z=ge,pe=De;return W},x=function(){function O(M,j,L,z){var W=O.STEP,ne=new Int32Array(M.buffer),V=new Uint8Array(M.byteLength),Y=0;for(this.asyncStream_=new y,this.asyncStream_.push(this.decryptChunk_(ne.subarray(Y,Y+W),j,L,V)),Y=W;Y<ne.length;Y+=W)L=new Uint32Array([_(ne[Y-4]),_(ne[Y-3]),_(ne[Y-2]),_(ne[Y-1])]),this.asyncStream_.push(this.decryptChunk_(ne.subarray(Y,Y+W),j,L,V));this.asyncStream_.push(function(){z(null,f(V))})}var B=O.prototype;return B.decryptChunk_=function(j,L,z,W){return function(){var ne=b(j,L,z);W.set(ne,j.byteOffset)}},u(O,null,[{key:"STEP",get:function(){return 32e3}}]),O}(),w;typeof window<"u"?w=window:typeof l<"u"?w=l:typeof self<"u"?w=self:w={};var A=w,D=function(B){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(B):B&&B.buffer instanceof ArrayBuffer},I=A.BigInt||Number;I("0x1"),I("0x100"),I("0x10000"),I("0x1000000"),I("0x100000000"),I("0x10000000000"),I("0x1000000000000"),I("0x100000000000000"),I("0x10000000000000000");var N=function(B){var M={};return Object.keys(B).forEach(function(j){var L=B[j];D(L)?M[j]={bytes:L.buffer,byteOffset:L.byteOffset,byteLength:L.byteLength}:M[j]=L}),M};self.onmessage=function(O){var B=O.data,M=new Uint8Array(B.encrypted.bytes,B.encrypted.byteOffset,B.encrypted.byteLength),j=new Uint32Array(B.key.bytes,B.key.byteOffset,B.key.byteLength/4),L=new Uint32Array(B.iv.bytes,B.iv.byteOffset,B.iv.byteLength/4);new x(M,j,L,function(z,W){self.postMessage(N({source:B.source,decrypted:W}),[W.buffer])})}})),Decrypter=factory(workerCode),audioTrackKind_=function(a){var o=a.default?"main":"alternative";return a.characteristics&&a.characteristics.indexOf("public.accessibility.describes-video")>=0&&(o="main-desc"),o},stopLoaders=function(a,o){a.abort(),a.pause(),o&&o.activePlaylistLoader&&(o.activePlaylistLoader.pause(),o.activePlaylistLoader=null)},startLoaders=function(a,o){o.activePlaylistLoader=a,a.load()},onGroupChanged=function(a,o){return function(){var u=o.segmentLoaders,s=u[a],c=u.main,d=o.mediaTypes[a],f=d.activeTrack(),m=d.getActiveGroup(),g=d.activePlaylistLoader,v=d.lastGroup_;if(!(m&&v&&m.id===v.id)&&(d.lastGroup_=m,d.lastTrack_=f,stopLoaders(s,d),!(!m||m.isMasterPlaylist))){if(!m.playlistLoader){g&&c.resetEverything();return}s.resyncLoader(),startLoaders(m.playlistLoader,d)}}},onGroupChanging=function(a,o){return function(){var u=o.segmentLoaders[a],s=o.mediaTypes[a];s.lastGroup_=null,u.abort(),u.pause()}},onTrackChanged=function(a,o){return function(){var u=o.masterPlaylistLoader,s=o.segmentLoaders,c=s[a],d=s.main,f=o.mediaTypes[a],m=f.activeTrack(),g=f.getActiveGroup(),v=f.activePlaylistLoader,y=f.lastTrack_;if(!(y&&m&&y.id===m.id)&&(f.lastGroup_=g,f.lastTrack_=m,stopLoaders(c,f),!!g)){if(g.isMasterPlaylist){if(!m||!y||m.id===y.id)return;var _=o.vhs.masterPlaylistController_,b=_.selectPlaylist();if(_.media()===b)return;f.logger_("track change. Switching master audio from "+y.id+" to "+m.id),u.pause(),d.resetEverything(),_.fastQualityChange_(b);return}if(a==="AUDIO"){if(!g.playlistLoader){d.setAudio(!0),d.resetEverything();return}c.setAudio(!0),d.setAudio(!1)}if(v===g.playlistLoader){startLoaders(g.playlistLoader,f);return}c.track&&c.track(m),c.resetEverything(),startLoaders(g.playlistLoader,f)}}},onError={AUDIO:function(a,o){return function(){var u=o.segmentLoaders[a],s=o.mediaTypes[a],c=o.blacklistCurrentPlaylist;stopLoaders(u,s);var d=s.activeTrack(),f=s.activeGroup(),m=(f.filter(function(y){return y.default})[0]||f[0]).id,g=s.tracks[m];if(d===g){c({message:"Problem encountered loading the default audio track."});return}videojs.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var v in s.tracks)s.tracks[v].enabled=s.tracks[v]===g;s.onTrackChanged()}},SUBTITLES:function(a,o){return function(){var u=o.segmentLoaders[a],s=o.mediaTypes[a];videojs.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),stopLoaders(u,s);var c=s.activeTrack();c&&(c.mode="disabled"),s.onTrackChanged()}}},setupListeners={AUDIO:function(a,o,u){if(o){var s=u.tech,c=u.requestOptions,d=u.segmentLoaders[a];o.on("loadedmetadata",function(){var f=o.media();d.playlist(f,c),(!s.paused()||f.endList&&s.preload()!=="none")&&d.load()}),o.on("loadedplaylist",function(){d.playlist(o.media(),c),s.paused()||d.load()}),o.on("error",onError[a](a,u))}},SUBTITLES:function(a,o,u){var s=u.tech,c=u.requestOptions,d=u.segmentLoaders[a],f=u.mediaTypes[a];o.on("loadedmetadata",function(){var m=o.media();d.playlist(m,c),d.track(f.activeTrack()),(!s.paused()||m.endList&&s.preload()!=="none")&&d.load()}),o.on("loadedplaylist",function(){d.playlist(o.media(),c),s.paused()||d.load()}),o.on("error",onError[a](a,u))}},initialize={AUDIO:function(a,o){var u=o.vhs,s=o.sourceType,c=o.segmentLoaders[a],d=o.requestOptions,f=o.master.mediaGroups,m=o.mediaTypes[a],g=m.groups,v=m.tracks,y=m.logger_,_=o.masterPlaylistLoader,b=isAudioOnly(_.master);(!f[a]||Object.keys(f[a]).length===0)&&(f[a]={main:{default:{default:!0}}},b&&(f[a].main.default.playlists=_.master.playlists));for(var x in f[a]){g[x]||(g[x]=[]);for(var w in f[a][x]){var A=f[a][x][w],D=void 0;if(b?(y("AUDIO group '"+x+"' label '"+w+"' is a master playlist"),A.isMasterPlaylist=!0,D=null):s==="vhs-json"&&A.playlists?D=new PlaylistLoader(A.playlists[0],u,d):A.resolvedUri?D=new PlaylistLoader(A.resolvedUri,u,d):A.playlists&&s==="dash"?D=new DashPlaylistLoader(A.playlists[0],u,d,_):D=null,A=videojs.mergeOptions({id:w,playlistLoader:D},A),setupListeners[a](a,A.playlistLoader,o),g[x].push(A),typeof v[w]>"u"){var I=new videojs.AudioTrack({id:w,kind:audioTrackKind_(A),enabled:!1,language:A.language,default:A.default,label:w});v[w]=I}}}c.on("error",onError[a](a,o))},SUBTITLES:function(a,o){var u=o.tech,s=o.vhs,c=o.sourceType,d=o.segmentLoaders[a],f=o.requestOptions,m=o.master.mediaGroups,g=o.mediaTypes[a],v=g.groups,y=g.tracks,_=o.masterPlaylistLoader;for(var b in m[a]){v[b]||(v[b]=[]);for(var x in m[a][b])if(!m[a][b][x].forced){var w=m[a][b][x],A=void 0;if(c==="hls")A=new PlaylistLoader(w.resolvedUri,s,f);else if(c==="dash"){var D=w.playlists.filter(function(N){return N.excludeUntil!==1/0});if(!D.length)return;A=new DashPlaylistLoader(w.playlists[0],s,f,_)}else c==="vhs-json"&&(A=new PlaylistLoader(w.playlists?w.playlists[0]:w.resolvedUri,s,f));if(w=videojs.mergeOptions({id:x,playlistLoader:A},w),setupListeners[a](a,w.playlistLoader,o),v[b].push(w),typeof y[x]>"u"){var I=u.addRemoteTextTrack({id:x,kind:"subtitles",default:w.default&&w.autoselect,language:w.language,label:x},!1).track;y[x]=I}}}d.on("error",onError[a](a,o))},"CLOSED-CAPTIONS":function(a,o){var u=o.tech,s=o.master.mediaGroups,c=o.mediaTypes[a],d=c.groups,f=c.tracks;for(var m in s[a]){d[m]||(d[m]=[]);for(var g in s[a][m]){var v=s[a][m][g];if(/^(?:CC|SERVICE)/.test(v.instreamId)){var y=u.options_.vhs&&u.options_.vhs.captionServices||{},_={label:g,language:v.language,instreamId:v.instreamId,default:v.default&&v.autoselect};if(y[_.instreamId]&&(_=videojs.mergeOptions(_,y[_.instreamId])),_.default===void 0&&delete _.default,d[m].push(videojs.mergeOptions({id:g},v)),typeof f[g]>"u"){var b=u.addRemoteTextTrack({id:_.instreamId,kind:"captions",default:_.default,language:_.language,label:_.label},!1).track;f[g]=b}}}}}},groupMatch=function l(a,o){for(var u=0;u<a.length;u++)if(playlistMatch(o,a[u])||a[u].playlists&&l(a[u].playlists,o))return!0;return!1},activeGroup=function(a,o){return function(u){var s=o.masterPlaylistLoader,c=o.mediaTypes[a].groups,d=s.media();if(!d)return null;var f=null;d.attributes[a]&&(f=c[d.attributes[a]]);var m=Object.keys(c);if(!f)if(a==="AUDIO"&&m.length>1&&isAudioOnly(o.master))for(var g=0;g<m.length;g++){var v=c[m[g]];if(groupMatch(v,d)){f=v;break}}else c.main?f=c.main:m.length===1&&(f=c[m[0]]);return typeof u>"u"?f:u===null||!f?null:f.filter(function(y){return y.id===u.id})[0]||null}},activeTrack={AUDIO:function(a,o){return function(){var u=o.mediaTypes[a].tracks;for(var s in u)if(u[s].enabled)return u[s];return null}},SUBTITLES:function(a,o){return function(){var u=o.mediaTypes[a].tracks;for(var s in u)if(u[s].mode==="showing"||u[s].mode==="hidden")return u[s];return null}}},getActiveGroup=function(a,o){var u=o.mediaTypes;return function(){var s=u[a].activeTrack();return s?u[a].activeGroup(s):null}},setupMediaGroups=function(a){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(x){initialize[x](x,a)});var o=a.mediaTypes,u=a.masterPlaylistLoader,s=a.tech,c=a.vhs,d=a.segmentLoaders,f=d.AUDIO,m=d.main;["AUDIO","SUBTITLES"].forEach(function(x){o[x].activeGroup=activeGroup(x,a),o[x].activeTrack=activeTrack[x](x,a),o[x].onGroupChanged=onGroupChanged(x,a),o[x].onGroupChanging=onGroupChanging(x,a),o[x].onTrackChanged=onTrackChanged(x,a),o[x].getActiveGroup=getActiveGroup(x,a)});var g=o.AUDIO.activeGroup();if(g){var v=(g.filter(function(x){return x.default})[0]||g[0]).id;o.AUDIO.tracks[v].enabled=!0,o.AUDIO.onGroupChanged(),o.AUDIO.onTrackChanged();var y=o.AUDIO.getActiveGroup();y.playlistLoader?(m.setAudio(!1),f.setAudio(!0)):m.setAudio(!0)}u.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(x){return o[x].onGroupChanged()})}),u.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(x){return o[x].onGroupChanging()})});var _=function(){o.AUDIO.onTrackChanged(),s.trigger({type:"usage",name:"vhs-audio-change"}),s.trigger({type:"usage",name:"hls-audio-change"})};s.audioTracks().addEventListener("change",_),s.remoteTextTracks().addEventListener("change",o.SUBTITLES.onTrackChanged),c.on("dispose",function(){s.audioTracks().removeEventListener("change",_),s.remoteTextTracks().removeEventListener("change",o.SUBTITLES.onTrackChanged)}),s.clearTracks("audio");for(var b in o.AUDIO.tracks)s.audioTracks().addTrack(o.AUDIO.tracks[b])},createMediaTypes=function(){var a={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(o){a[o]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:noop$1,activeTrack:noop$1,getActiveGroup:noop$1,onGroupChanged:noop$1,onTrackChanged:noop$1,lastTrack_:null,logger_:logger("MediaGroups["+o+"]")}}),a},ABORT_EARLY_BLACKLIST_SECONDS=60*2,Vhs$1,loaderStats=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],sumLoaderStat=function(a){return this.audioSegmentLoader_[a]+this.mainSegmentLoader_[a]},shouldSwitchToMedia=function(a){var o=a.currentPlaylist,u=a.buffered,s=a.currentTime,c=a.nextPlaylist,d=a.bufferLowWaterLine,f=a.bufferHighWaterLine,m=a.duration,g=a.experimentalBufferBasedABR,v=a.log;if(!c)return videojs.log.warn("We received no playlist to switch to. Please check your stream."),!1;var y="allowing switch "+(o&&o.id||"null")+" -> "+c.id;if(!o)return v(y+" as current playlist is not set"),!0;if(c.id===o.id)return!1;var _=!!findRange(u,s).length;if(!o.endList)return!_&&typeof o.partTargetDuration=="number"?(v("not "+y+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(v(y+" as current playlist is live"),!0);var b=timeAheadOf(u,s),x=g?Config.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Config.MAX_BUFFER_LOW_WATER_LINE;if(m<x)return v(y+" as duration < max low water line ("+m+" < "+x+")"),!0;var w=c.attributes.BANDWIDTH,A=o.attributes.BANDWIDTH;if(w<A&&(!g||b<f)){var D=y+" as next bandwidth < current bandwidth ("+w+" < "+A+")";return g&&(D+=" and forwardBuffer < bufferHighWaterLine ("+b+" < "+f+")"),v(D),!0}if((!g||w>A)&&b>=d){var I=y+" as forwardBuffer >= bufferLowWaterLine ("+b+" >= "+d+")";return g&&(I+=" and next bandwidth > current bandwidth ("+w+" > "+A+")"),v(I),!0}return v("not "+y+" as no switching criteria met"),!1},MasterPlaylistController=function(l){_inheritsLoose(a,l);function a(u){var s;s=l.call(this)||this;var c=u.src,d=u.handleManifestRedirects,f=u.withCredentials,m=u.tech,g=u.bandwidth,v=u.externVhs,y=u.useCueTags,_=u.blacklistDuration,b=u.enableLowInitialPlaylist,x=u.sourceType,w=u.cacheEncryptionKeys,A=u.experimentalBufferBasedABR,D=u.experimentalLeastPixelDiffSelector,I=u.captionServices;if(!c)throw new Error("A non-empty playlist URL or JSON manifest string is required");var N=u.maxPlaylistRetries;(N===null||typeof N>"u")&&(N=1/0),Vhs$1=v,s.experimentalBufferBasedABR=!!A,s.experimentalLeastPixelDiffSelector=!!D,s.withCredentials=f,s.tech_=m,s.vhs_=m.vhs,s.sourceType_=x,s.useCueTags_=y,s.blacklistDuration=_,s.maxPlaylistRetries=N,s.enableLowInitialPlaylist=b,s.useCueTags_&&(s.cueTagsTrack_=s.tech_.addTextTrack("metadata","ad-cues"),s.cueTagsTrack_.inBandMetadataTrackDispatchType=""),s.requestOptions_={withCredentials:f,handleManifestRedirects:d,maxPlaylistRetries:N,timeout:null},s.on("error",s.pauseLoading),s.mediaTypes_=createMediaTypes(),s.mediaSource=new window$1$1.MediaSource,s.handleDurationChange_=s.handleDurationChange_.bind(_assertThisInitialized$1(s)),s.handleSourceOpen_=s.handleSourceOpen_.bind(_assertThisInitialized$1(s)),s.handleSourceEnded_=s.handleSourceEnded_.bind(_assertThisInitialized$1(s)),s.mediaSource.addEventListener("durationchange",s.handleDurationChange_),s.mediaSource.addEventListener("sourceopen",s.handleSourceOpen_),s.mediaSource.addEventListener("sourceended",s.handleSourceEnded_),s.seekable_=videojs.createTimeRanges(),s.hasPlayed_=!1,s.syncController_=new SyncController(u),s.segmentMetadataTrack_=m.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,s.decrypter_=new Decrypter,s.sourceUpdater_=new SourceUpdater(s.mediaSource),s.inbandTextTracks_={},s.timelineChangeController_=new TimelineChangeController;var O={vhs:s.vhs_,parse708captions:u.parse708captions,useDtsForTimestampOffset:u.useDtsForTimestampOffset,captionServices:I,mediaSource:s.mediaSource,currentTime:s.tech_.currentTime.bind(s.tech_),seekable:function(){return s.seekable()},seeking:function(){return s.tech_.seeking()},duration:function(){return s.duration()},hasPlayed:function(){return s.hasPlayed_},goalBufferLength:function(){return s.goalBufferLength()},bandwidth:g,syncController:s.syncController_,decrypter:s.decrypter_,sourceType:s.sourceType_,inbandTextTracks:s.inbandTextTracks_,cacheEncryptionKeys:w,sourceUpdater:s.sourceUpdater_,timelineChangeController:s.timelineChangeController_,experimentalExactManifestTimings:u.experimentalExactManifestTimings};s.masterPlaylistLoader_=s.sourceType_==="dash"?new DashPlaylistLoader(c,s.vhs_,s.requestOptions_):new PlaylistLoader(c,s.vhs_,s.requestOptions_),s.setupMasterPlaylistLoaderListeners_(),s.mainSegmentLoader_=new SegmentLoader(videojs.mergeOptions(O,{segmentMetadataTrack:s.segmentMetadataTrack_,loaderType:"main"}),u),s.audioSegmentLoader_=new SegmentLoader(videojs.mergeOptions(O,{loaderType:"audio"}),u),s.subtitleSegmentLoader_=new VTTSegmentLoader(videojs.mergeOptions(O,{loaderType:"vtt",featuresNativeTextTracks:s.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(j,L){function z(){m.off("vttjserror",W),j()}function W(){m.off("vttjsloaded",z),L()}m.one("vttjsloaded",z),m.one("vttjserror",W),m.addWebVttScript_()})}}),u),s.setupSegmentLoaderListeners_(),s.experimentalBufferBasedABR&&(s.masterPlaylistLoader_.one("loadedplaylist",function(){return s.startABRTimer_()}),s.tech_.on("pause",function(){return s.stopABRTimer_()}),s.tech_.on("play",function(){return s.startABRTimer_()})),loaderStats.forEach(function(M){s[M+"_"]=sumLoaderStat.bind(_assertThisInitialized$1(s),M)}),s.logger_=logger("MPC"),s.triggeredFmp4Usage=!1,s.tech_.preload()==="none"?(s.loadOnPlay_=function(){s.loadOnPlay_=null,s.masterPlaylistLoader_.load()},s.tech_.one("play",s.loadOnPlay_)):s.masterPlaylistLoader_.load(),s.timeToLoadedData__=-1,s.mainAppendsToLoadedData__=-1,s.audioAppendsToLoadedData__=-1;var B=s.tech_.preload()==="none"?"play":"loadstart";return s.tech_.one(B,function(){var M=Date.now();s.tech_.one("loadeddata",function(){s.timeToLoadedData__=Date.now()-M,s.mainAppendsToLoadedData__=s.mainSegmentLoader_.mediaAppends,s.audioAppendsToLoadedData__=s.audioSegmentLoader_.mediaAppends})}),s}var o=a.prototype;return o.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},o.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},o.appendsToLoadedData_=function(){var s=this.mainAppendsToLoadedData_(),c=this.audioAppendsToLoadedData_();return s===-1||c===-1?-1:s+c},o.timeToLoadedData_=function(){return this.timeToLoadedData__},o.checkABR_=function(s){s===void 0&&(s="abr");var c=this.selectPlaylist();c&&this.shouldSwitchToMedia_(c)&&this.switchMedia_(c,s)},o.switchMedia_=function(s,c,d){var f=this.media(),m=f&&(f.id||f.uri),g=s.id||s.uri;m&&m!==g&&(this.logger_("switch media "+m+" -> "+g+" from "+c),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+c})),this.masterPlaylistLoader_.media(s,d)},o.startABRTimer_=function(){var s=this;this.stopABRTimer_(),this.abrTimer_=window$1$1.setInterval(function(){return s.checkABR_()},250)},o.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window$1$1.clearInterval(this.abrTimer_),this.abrTimer_=null)},o.getAudioTrackPlaylists_=function(){var s=this.master(),c=s&&s.playlists||[];if(!s||!s.mediaGroups||!s.mediaGroups.AUDIO)return c;var d=s.mediaGroups.AUDIO,f=Object.keys(d),m;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)m=this.mediaTypes_.AUDIO.activeTrack();else{var g=d.main||f.length&&d[f[0]];for(var v in g)if(g[v].default){m={label:v};break}}if(!m)return c;var y=[];for(var _ in d)if(d[_][m.label]){var b=d[_][m.label];if(b.playlists&&b.playlists.length)y.push.apply(y,b.playlists);else if(b.uri)y.push(b);else if(s.playlists.length)for(var x=0;x<s.playlists.length;x++){var w=s.playlists[x];w.attributes&&w.attributes.AUDIO&&w.attributes.AUDIO===_&&y.push(w)}}return y.length?y:c},o.setupMasterPlaylistLoaderListeners_=function(){var s=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var c=s.masterPlaylistLoader_.media(),d=c.targetDuration*1.5*1e3;isLowestEnabledRendition(s.masterPlaylistLoader_.master,s.masterPlaylistLoader_.media())?s.requestOptions_.timeout=0:s.requestOptions_.timeout=d,c.endList&&s.tech_.preload()!=="none"&&(s.mainSegmentLoader_.playlist(c,s.requestOptions_),s.mainSegmentLoader_.load()),setupMediaGroups({sourceType:s.sourceType_,segmentLoaders:{AUDIO:s.audioSegmentLoader_,SUBTITLES:s.subtitleSegmentLoader_,main:s.mainSegmentLoader_},tech:s.tech_,requestOptions:s.requestOptions_,masterPlaylistLoader:s.masterPlaylistLoader_,vhs:s.vhs_,master:s.master(),mediaTypes:s.mediaTypes_,blacklistCurrentPlaylist:s.blacklistCurrentPlaylist.bind(s)}),s.triggerPresenceUsage_(s.master(),c),s.setupFirstPlay(),!s.mediaTypes_.AUDIO.activePlaylistLoader||s.mediaTypes_.AUDIO.activePlaylistLoader.media()?s.trigger("selectedinitialmedia"):s.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){s.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){s.loadOnPlay_&&s.tech_.off("play",s.loadOnPlay_);var c=s.masterPlaylistLoader_.media();if(!c){s.excludeUnsupportedVariants_();var d;if(s.enableLowInitialPlaylist&&(d=s.selectInitialPlaylist()),d||(d=s.selectPlaylist()),!d||!s.shouldSwitchToMedia_(d))return;s.initialMedia_=d,s.switchMedia_(s.initialMedia_,"initial");var f=s.sourceType_==="vhs-json"&&s.initialMedia_.segments;if(!f)return;c=s.initialMedia_}s.handleUpdatedMediaPlaylist(c)}),this.masterPlaylistLoader_.on("error",function(){s.blacklistCurrentPlaylist(s.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){s.mainSegmentLoader_.abort(),s.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var c=s.masterPlaylistLoader_.media(),d=c.targetDuration*1.5*1e3;isLowestEnabledRendition(s.masterPlaylistLoader_.master,s.masterPlaylistLoader_.media())?s.requestOptions_.timeout=0:s.requestOptions_.timeout=d,s.masterPlaylistLoader_.load(),s.mainSegmentLoader_.playlist(c,s.requestOptions_),s.mainSegmentLoader_.load(),s.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var c=s.masterPlaylistLoader_.media();if(c.lastExcludeReason_!=="playlist-unchanged"){var d=s.stuckAtPlaylistEnd_(c);d&&(s.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),s.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){s.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),s.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){s.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),s.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},o.handleUpdatedMediaPlaylist=function(s){this.useCueTags_&&this.updateAdCues_(s),this.mainSegmentLoader_.playlist(s,this.requestOptions_),this.updateDuration(!s.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},o.triggerPresenceUsage_=function(s,c){var d=s.mediaGroups||{},f=!0,m=Object.keys(d.AUDIO);for(var g in d.AUDIO)for(var v in d.AUDIO[g]){var y=d.AUDIO[g][v];y.uri||(f=!1)}f&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(d.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Vhs$1.Playlist.isAes(c)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),m.length&&Object.keys(d.AUDIO[m[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},o.shouldSwitchToMedia_=function(s){var c=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,d=this.tech_.currentTime(),f=this.bufferLowWaterLine(),m=this.bufferHighWaterLine(),g=this.tech_.buffered();return shouldSwitchToMedia({buffered:g,currentTime:d,currentPlaylist:c,nextPlaylist:s,bufferLowWaterLine:f,bufferHighWaterLine:m,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},o.setupSegmentLoaderListeners_=function(){var s=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){s.checkABR_("bandwidthupdate"),s.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){s.experimentalBufferBasedABR&&s.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){s.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){s.blacklistCurrentPlaylist(s.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){s.error=s.mainSegmentLoader_.error_,s.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){s.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){s.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),s.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){s.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){s.error=s.audioSegmentLoader_.error_,s.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){s.logger_("main segment loader ended"),s.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(d){s.experimentalBufferBasedABR||(s.delegateLoaders_("all",["abort"]),s.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},ABORT_EARLY_BLACKLIST_SECONDS))});var c=function(){if(!s.sourceUpdater_.hasCreatedSourceBuffers())return s.tryToCreateSourceBuffers_();var f=s.getCodecsOrExclude_();f&&s.sourceUpdater_.addOrChangeSourceBuffers(f)};this.mainSegmentLoader_.on("trackinfo",c),this.audioSegmentLoader_.on("trackinfo",c),this.mainSegmentLoader_.on("fmp4",function(){s.triggeredFmp4Usage||(s.tech_.trigger({type:"usage",name:"vhs-fmp4"}),s.tech_.trigger({type:"usage",name:"hls-fmp4"}),s.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){s.triggeredFmp4Usage||(s.tech_.trigger({type:"usage",name:"vhs-fmp4"}),s.tech_.trigger({type:"usage",name:"hls-fmp4"}),s.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){s.logger_("audioSegmentLoader ended"),s.onEndOfStream()})},o.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},o.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},o.smoothQualityChange_=function(s){s===void 0&&(s=this.selectPlaylist()),this.fastQualityChange_(s)},o.fastQualityChange_=function(s){var c=this;if(s===void 0&&(s=this.selectPlaylist()),s===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(s,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){videojs.browser.IE_VERSION||videojs.browser.IS_EDGE?c.tech_.setCurrentTime(c.tech_.currentTime()+.04):c.tech_.setCurrentTime(c.tech_.currentTime())})},o.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var s=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<s.start(0))return this.tech_.setCurrentTime(s.end(s.length-1))}},o.setupFirstPlay=function(){var s=this,c=this.masterPlaylistLoader_.media();if(!c||this.tech_.paused()||this.hasPlayed_)return!1;if(!c.endList){var d=this.seekable();if(!d.length)return!1;if(videojs.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){s.trigger("firstplay"),s.tech_.setCurrentTime(d.end(0)),s.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(d.end(0))}return this.hasPlayed_=!0,this.load(),!0},o.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var s=this.tech_.play();typeof s<"u"&&typeof s.then=="function"&&s.then(null,function(c){})}this.trigger("sourceopen")},o.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var s=this.inbandTextTracks_.metadataTrack_.cues;if(!(!s||!s.length)){var c=this.duration();s[s.length-1].endTime=isNaN(c)||Math.abs(c)===1/0?Number.MAX_VALUE:c}}},o.handleDurationChange_=function(){this.tech_.trigger("durationchange")},o.onEndOfStream=function(){var s=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var c=this.mainSegmentLoader_.getCurrentMediaInfo_();!c||c.hasVideo?s=s&&this.audioSegmentLoader_.ended_:s=this.audioSegmentLoader_.ended_}s&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},o.stuckAtPlaylistEnd_=function(s){var c=this.seekable();if(!c.length)return!1;var d=this.syncController_.getExpiredTime(s,this.duration());if(d===null)return!1;var f=Vhs$1.Playlist.playlistEnd(s,d),m=this.tech_.currentTime(),g=this.tech_.buffered();if(!g.length)return f-m<=SAFE_TIME_DELTA;var v=g.end(g.length-1);return v-m<=SAFE_TIME_DELTA&&f-v<=SAFE_TIME_DELTA},o.blacklistCurrentPlaylist=function(s,c){s===void 0&&(s={});var d=s.playlist||this.masterPlaylistLoader_.media();if(c=c||s.blacklistDuration||this.blacklistDuration,!d){this.error=s,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}d.playlistErrors_++;var f=this.masterPlaylistLoader_.master.playlists,m=f.filter(isEnabled),g=m.length===1&&m[0]===d;if(f.length===1&&c!==1/0)return videojs.log.warn("Problem encountered with playlist "+d.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(g);if(g){var v=!1;f.forEach(function(D){if(D!==d){var I=D.excludeUntil;typeof I<"u"&&I!==1/0&&(v=!0,delete D.excludeUntil)}}),v&&(videojs.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var y;d.playlistErrors_>this.maxPlaylistRetries?y=1/0:y=Date.now()+c*1e3,d.excludeUntil=y,s.reason&&(d.lastExcludeReason_=s.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var _=this.selectPlaylist();if(!_){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var b=s.internal?this.logger_:videojs.log.warn,x=s.message?" "+s.message:"";b((s.internal?"Internal problem":"Problem")+" encountered with playlist "+d.id+"."+(x+" Switching to playlist "+_.id+".")),_.attributes.AUDIO!==d.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),_.attributes.SUBTITLES!==d.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var w=_.targetDuration/2*1e3||5*1e3,A=typeof _.lastRequest=="number"&&Date.now()-_.lastRequest<=w;return this.switchMedia_(_,"exclude",g||A)},o.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},o.delegateLoaders_=function(s,c){var d=this,f=[],m=s==="all";(m||s==="main")&&f.push(this.masterPlaylistLoader_);var g=[];(m||s==="audio")&&g.push("AUDIO"),(m||s==="subtitle")&&(g.push("CLOSED-CAPTIONS"),g.push("SUBTITLES")),g.forEach(function(v){var y=d.mediaTypes_[v]&&d.mediaTypes_[v].activePlaylistLoader;y&&f.push(y)}),["main","audio","subtitle"].forEach(function(v){var y=d[v+"SegmentLoader_"];y&&(s===v||s==="all")&&f.push(y)}),f.forEach(function(v){return c.forEach(function(y){typeof v[y]=="function"&&v[y]()})})},o.setCurrentTime=function(s){var c=findRange(this.tech_.buffered(),s);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(c&&c.length)return s;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},o.duration=function(){if(!this.masterPlaylistLoader_)return 0;var s=this.masterPlaylistLoader_.media();return s?s.endList?this.mediaSource?this.mediaSource.duration:Vhs$1.Playlist.duration(s):1/0:0},o.seekable=function(){return this.seekable_},o.onSyncInfoUpdate_=function(){var s;if(this.masterPlaylistLoader_){var c=this.masterPlaylistLoader_.media();if(c){var d=this.syncController_.getExpiredTime(c,this.duration());if(d!==null){var f=this.masterPlaylistLoader_.master,m=Vhs$1.Playlist.seekable(c,d,Vhs$1.Playlist.liveEdgeDelay(f,c));if(m.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(c=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),d=this.syncController_.getExpiredTime(c,this.duration()),d===null||(s=Vhs$1.Playlist.seekable(c,d,Vhs$1.Playlist.liveEdgeDelay(f,c)),s.length===0)))){var g,v;this.seekable_&&this.seekable_.length&&(g=this.seekable_.end(0),v=this.seekable_.start(0)),s?s.start(0)>m.end(0)||m.start(0)>s.end(0)?this.seekable_=m:this.seekable_=videojs.createTimeRanges([[s.start(0)>m.start(0)?s.start(0):m.start(0),s.end(0)<m.end(0)?s.end(0):m.end(0)]]):this.seekable_=m,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===g&&this.seekable_.start(0)===v)&&(this.logger_("seekable updated ["+printableRange(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},o.updateDuration=function(s){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,s),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(s){var c=this.seekable();if(!c.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<c.end(c.length-1))&&this.sourceUpdater_.setDuration(c.end(c.length-1));return}var d=this.tech_.buffered(),f=Vhs$1.Playlist.duration(this.masterPlaylistLoader_.media());d.length>0&&(f=Math.max(f,d.end(d.length-1))),this.mediaSource.duration!==f&&this.sourceUpdater_.setDuration(f)},o.dispose=function(){var s=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(c){var d=s.mediaTypes_[c].groups;for(var f in d)d[f].forEach(function(m){m.playlistLoader&&m.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},o.master=function(){return this.masterPlaylistLoader_.master},o.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},o.areMediaTypesKnown_=function(){var s=!!this.mediaTypes_.AUDIO.activePlaylistLoader,c=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),d=s?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!c||!d)},o.getCodecsOrExclude_=function(){var s=this,c={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},d=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();c.video=c.main;var f=codecsForPlaylist(this.master(),d),m={},g=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(c.main.hasVideo&&(m.video=f.video||c.main.videoCodec||DEFAULT_VIDEO_CODEC),c.main.isMuxed&&(m.video+=","+(f.audio||c.main.audioCodec||DEFAULT_AUDIO_CODEC)),(c.main.hasAudio&&!c.main.isMuxed||c.audio.hasAudio||g)&&(m.audio=f.audio||c.main.audioCodec||c.audio.audioCodec||DEFAULT_AUDIO_CODEC,c.audio.isFmp4=c.main.hasAudio&&!c.main.isMuxed?c.main.isFmp4:c.audio.isFmp4),!m.audio&&!m.video){this.blacklistCurrentPlaylist({playlist:d,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var v=function(D,I){return D?browserSupportsCodec(I):muxerSupportsCodec(I)},y={},_;if(["video","audio"].forEach(function(A){if(m.hasOwnProperty(A)&&!v(c[A].isFmp4,m[A])){var D=c[A].isFmp4?"browser":"muxer";y[D]=y[D]||[],y[D].push(m[A]),A==="audio"&&(_=D)}}),g&&_&&d.attributes.AUDIO){var b=d.attributes.AUDIO;this.master().playlists.forEach(function(A){var D=A.attributes&&A.attributes.AUDIO;D===b&&A!==d&&(A.excludeUntil=1/0)}),this.logger_("excluding audio group "+b+" as "+_+' does not support codec(s): "'+m.audio+'"')}if(Object.keys(y).length){var x=Object.keys(y).reduce(function(A,D){return A&&(A+=", "),A+=D+' does not support codec(s): "'+y[D].join(",")+'"',A},"")+".";this.blacklistCurrentPlaylist({playlist:d,internal:!0,message:x,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var w=[];if(["video","audio"].forEach(function(A){var D=(parseCodecs(s.sourceUpdater_.codecs[A]||"")[0]||{}).type,I=(parseCodecs(m[A]||"")[0]||{}).type;D&&I&&D.toLowerCase()!==I.toLowerCase()&&w.push('"'+s.sourceUpdater_.codecs[A]+'" -> "'+m[A]+'"')}),w.length){this.blacklistCurrentPlaylist({playlist:d,message:"Codec switching not supported: "+w.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return m},o.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&this.areMediaTypesKnown_()){var s=this.getCodecsOrExclude_();if(s){this.sourceUpdater_.createSourceBuffers(s);var c=[s.video,s.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(c)}}},o.excludeUnsupportedVariants_=function(){var s=this,c=this.master().playlists,d=[];Object.keys(c).forEach(function(f){var m=c[f];if(d.indexOf(m.id)===-1){d.push(m.id);var g=codecsForPlaylist(s.master,m),v=[];g.audio&&!muxerSupportsCodec(g.audio)&&!browserSupportsCodec(g.audio)&&v.push("audio codec "+g.audio),g.video&&!muxerSupportsCodec(g.video)&&!browserSupportsCodec(g.video)&&v.push("video codec "+g.video),g.text&&g.text==="stpp.ttml.im1t"&&v.push("text codec "+g.text),v.length&&(m.excludeUntil=1/0,s.logger_("excluding "+m.id+" for unsupported: "+v.join(", ")))}})},o.excludeIncompatibleVariants_=function(s){var c=this,d=[],f=this.master().playlists,m=unwrapCodecList(parseCodecs(s)),g=codecCount(m),v=m.video&&parseCodecs(m.video)[0]||null,y=m.audio&&parseCodecs(m.audio)[0]||null;Object.keys(f).forEach(function(_){var b=f[_];if(!(d.indexOf(b.id)!==-1||b.excludeUntil===1/0)){d.push(b.id);var x=[],w=codecsForPlaylist(c.masterPlaylistLoader_.master,b),A=codecCount(w);if(!(!w.audio&&!w.video)){if(A!==g&&x.push('codec count "'+A+'" !== "'+g+'"'),!c.sourceUpdater_.canChangeType()){var D=w.video&&parseCodecs(w.video)[0]||null,I=w.audio&&parseCodecs(w.audio)[0]||null;D&&v&&D.type.toLowerCase()!==v.type.toLowerCase()&&x.push('video codec "'+D.type+'" !== "'+v.type+'"'),I&&y&&I.type.toLowerCase()!==y.type.toLowerCase()&&x.push('audio codec "'+I.type+'" !== "'+y.type+'"')}x.length&&(b.excludeUntil=1/0,c.logger_("blacklisting "+b.id+": "+x.join(" && ")))}}})},o.updateAdCues_=function(s){var c=0,d=this.seekable();d.length&&(c=d.start(0)),updateAdCues(s,this.cueTagsTrack_,c)},o.goalBufferLength=function(){var s=this.tech_.currentTime(),c=Config.GOAL_BUFFER_LENGTH,d=Config.GOAL_BUFFER_LENGTH_RATE,f=Math.max(c,Config.MAX_GOAL_BUFFER_LENGTH);return Math.min(c+s*d,f)},o.bufferLowWaterLine=function(){var s=this.tech_.currentTime(),c=Config.BUFFER_LOW_WATER_LINE,d=Config.BUFFER_LOW_WATER_LINE_RATE,f=Math.max(c,Config.MAX_BUFFER_LOW_WATER_LINE),m=Math.max(c,Config.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(c+s*d,this.experimentalBufferBasedABR?m:f)},o.bufferHighWaterLine=function(){return Config.BUFFER_HIGH_WATER_LINE},a}(videojs.EventTarget),enableFunction=function(a,o,u){return function(s){var c=a.master.playlists[o],d=isIncompatible(c),f=isEnabled(c);return typeof s>"u"?f:(s?delete c.disabled:c.disabled=!0,s!==f&&!d&&(u(),s?a.trigger("renditionenabled"):a.trigger("renditiondisabled")),s)}},Representation=function(a,o,u){var s=a.masterPlaylistController_,c=a.options_.smoothQualityChange,d=c?"smooth":"fast",f=s[d+"QualityChange_"].bind(s);if(o.attributes){var m=o.attributes.RESOLUTION;this.width=m&&m.width,this.height=m&&m.height,this.bandwidth=o.attributes.BANDWIDTH,this.frameRate=o.attributes["FRAME-RATE"]}this.codecs=codecsForPlaylist(s.master(),o),this.playlist=o,this.id=u,this.enabled=enableFunction(a.playlists,o.id,f)},renditionSelectionMixin=function(a){a.representations=function(){var o=a.masterPlaylistController_.master(),u=isAudioOnly(o)?a.masterPlaylistController_.getAudioTrackPlaylists_():o.playlists;return u?u.filter(function(s){return!isIncompatible(s)}).map(function(s,c){return new Representation(a,s,s.id)}):[]}},timerCancelEvents=["seeking","seeked","pause","playing","error"],PlaybackWatcher=function(){function l(o){var u=this;this.masterPlaylistController_=o.masterPlaylistController,this.tech_=o.tech,this.seekable=o.seekable,this.allowSeeksWithinUnsafeLiveWindow=o.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=o.liveRangeSafeTimeDelta,this.media=o.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=logger("PlaybackWatcher"),this.logger_("initialize");var s=function(){return u.monitorCurrentTime_()},c=function(){return u.monitorCurrentTime_()},d=function(){return u.techWaiting_()},f=function(){return u.cancelTimer_()},m=this.masterPlaylistController_,g=["main","subtitle","audio"],v={};g.forEach(function(_){v[_]={reset:function(){return u.resetSegmentDownloads_(_)},updateend:function(){return u.checkSegmentDownloads_(_)}},m[_+"SegmentLoader_"].on("appendsdone",v[_].updateend),m[_+"SegmentLoader_"].on("playlistupdate",v[_].reset),u.tech_.on(["seeked","seeking"],v[_].reset)});var y=function(b){["main","audio"].forEach(function(x){m[x+"SegmentLoader_"][b]("appended",u.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){u.fixesBadSeeks_()&&(u.consecutiveUpdates=0,u.lastRecordedTime=u.tech_.currentTime(),y("off"))},this.clearSeekingAppendCheck_=function(){return y("off")},this.watchForBadSeeking_=function(){u.clearSeekingAppendCheck_(),y("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",d),this.tech_.on(timerCancelEvents,f),this.tech_.on("canplay",c),this.tech_.one("play",s),this.dispose=function(){u.clearSeekingAppendCheck_(),u.logger_("dispose"),u.tech_.off("waiting",d),u.tech_.off(timerCancelEvents,f),u.tech_.off("canplay",c),u.tech_.off("play",s),u.tech_.off("seeking",u.watchForBadSeeking_),u.tech_.off("seeked",u.clearSeekingAppendCheck_),g.forEach(function(_){m[_+"SegmentLoader_"].off("appendsdone",v[_].updateend),m[_+"SegmentLoader_"].off("playlistupdate",v[_].reset),u.tech_.off(["seeked","seeking"],v[_].reset)}),u.checkCurrentTimeTimeout_&&window$1$1.clearTimeout(u.checkCurrentTimeTimeout_),u.cancelTimer_()}}var a=l.prototype;return a.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window$1$1.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window$1$1.setTimeout(this.monitorCurrentTime_.bind(this),250)},a.resetSegmentDownloads_=function(u){var s=this.masterPlaylistController_[u+"SegmentLoader_"];this[u+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+u+" loader"),this[u+"StalledDownloads_"]=0,this[u+"Buffered_"]=s.buffered_()},a.checkSegmentDownloads_=function(u){var s=this.masterPlaylistController_,c=s[u+"SegmentLoader_"],d=c.buffered_(),f=isRangeDifferent(this[u+"Buffered_"],d);if(this[u+"Buffered_"]=d,f){this.resetSegmentDownloads_(u);return}this[u+"StalledDownloads_"]++,this.logger_("found #"+this[u+"StalledDownloads_"]+" "+u+" appends that did not increase buffer (possible stalled download)",{playlistId:c.playlist_&&c.playlist_.id,buffered:timeRangesToArray(d)}),!(this[u+"StalledDownloads_"]<10)&&(this.logger_(u+" loader stalled download exclusion"),this.resetSegmentDownloads_(u),this.tech_.trigger({type:"usage",name:"vhs-"+u+"-download-exclusion"}),u!=="subtitle"&&s.blacklistCurrentPlaylist({message:"Excessive "+u+" segment downloading detected."},1/0))},a.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var u=this.tech_.currentTime(),s=this.tech_.buffered();if(this.lastRecordedTime===u&&(!s.length||u+SAFE_TIME_DELTA>=s.end(s.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&u===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):u===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=u)}},a.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},a.fixesBadSeeks_=function(){var u=this.tech_.seeking();if(!u)return!1;var s=this.seekable(),c=this.tech_.currentTime(),d=this.afterSeekableWindow_(s,c,this.media(),this.allowSeeksWithinUnsafeLiveWindow),f;if(d){var m=s.end(s.length-1);f=m}if(this.beforeSeekableWindow_(s,c)){var g=s.start(0);f=g+(g===s.end(0)?0:SAFE_TIME_DELTA)}if(typeof f<"u")return this.logger_("Trying to seek outside of seekable at time "+c+" with "+("seekable range "+printableRange(s)+". Seeking to ")+(f+".")),this.tech_.setCurrentTime(f),!0;for(var v=this.masterPlaylistController_.sourceUpdater_,y=this.tech_.buffered(),_=v.audioBuffer?v.audioBuffered():null,b=v.videoBuffer?v.videoBuffered():null,x=this.media(),w=x.partTargetDuration?x.partTargetDuration:(x.targetDuration-TIME_FUDGE_FACTOR)*2,A=[_,b],D=0;D<A.length;D++)if(A[D]){var I=timeAheadOf(A[D],c);if(I<w)return!1}var N=findNextRange(y,c);return N.length===0?!1:(f=N.start(0)+SAFE_TIME_DELTA,this.logger_("Buffered region starts ("+N.start(0)+") "+(" just beyond seek point ("+c+"). Seeking to "+f+".")),this.tech_.setCurrentTime(f),!0)},a.waiting_=function(){if(!this.techWaiting_()){var u=this.tech_.currentTime(),s=this.tech_.buffered(),c=findRange(s,u);if(c.length&&u+3<=c.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(u),this.logger_("Stopped at "+u+" while inside a buffered region "+("["+c.start(0)+" -> "+c.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},a.techWaiting_=function(){var u=this.seekable(),s=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(u,s)){var c=u.end(u.length-1);return this.logger_("Fell out of live window at time "+s+". Seeking to "+("live point (seekable end) "+c)),this.cancelTimer_(),this.tech_.setCurrentTime(c),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var d=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,f=this.tech_.buffered(),m=this.videoUnderflow_({audioBuffered:d.audioBuffered(),videoBuffered:d.videoBuffered(),currentTime:s});if(m)return this.cancelTimer_(),this.tech_.setCurrentTime(s),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var g=findNextRange(f,s);if(g.length>0){var v=g.start(0)-s;return this.logger_("Stopped at "+s+", setting timer for "+v+", seeking "+("to "+g.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),v*1e3,s),!0}return!1},a.afterSeekableWindow_=function(u,s,c,d){if(d===void 0&&(d=!1),!u.length)return!1;var f=u.end(u.length-1)+SAFE_TIME_DELTA,m=!c.endList;return m&&d&&(f=u.end(u.length-1)+c.targetDuration*3),s>f},a.beforeSeekableWindow_=function(u,s){return!!(u.length&&u.start(0)>0&&s<u.start(0)-this.liveRangeSafeTimeDelta)},a.videoUnderflow_=function(u){var s=u.videoBuffered,c=u.audioBuffered,d=u.currentTime;if(s){var f;if(s.length&&c.length){var m=findRange(s,d-3),g=findRange(s,d),v=findRange(c,d);v.length&&!g.length&&m.length&&(f={start:m.end(0),end:v.end(0)})}else{var y=findNextRange(s,d);y.length||(f=this.gapFromVideoUnderflow_(s,d))}return f?(this.logger_("Encountered a gap in video from "+f.start+" to "+f.end+". "+("Seeking to current time "+d)),!0):!1}},a.skipTheGap_=function(u){var s=this.tech_.buffered(),c=this.tech_.currentTime(),d=findNextRange(s,c);this.cancelTimer_(),!(d.length===0||c!==u)&&(this.logger_("skipTheGap_:","currentTime:",c,"scheduled currentTime:",u,"nextRange start:",d.start(0)),this.tech_.setCurrentTime(d.start(0)+TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},a.gapFromVideoUnderflow_=function(u,s){for(var c=findGaps(u),d=0;d<c.length;d++){var f=c.start(d),m=c.end(d);if(s-f<4&&s-f>2)return{start:f,end:m}}return null},l}(),defaultOptions$1={errorInterval:30,getSource:function(a){var o=this.tech({IWillNotUseThisInPlugins:!0}),u=o.currentSource_||this.currentSource();return a(u)}},initPlugin=function l(a,o){var u=0,s=0,c=videojs.mergeOptions(defaultOptions$1,o);a.ready(function(){a.trigger({type:"usage",name:"vhs-error-reload-initialized"}),a.trigger({type:"usage",name:"hls-error-reload-initialized"})});var d=function(){s&&a.currentTime(s)},f=function(_){_!=null&&(s=a.duration()!==1/0&&a.currentTime()||0,a.one("loadedmetadata",d),a.src(_),a.trigger({type:"usage",name:"vhs-error-reload"}),a.trigger({type:"usage",name:"hls-error-reload"}),a.play())},m=function(){if(Date.now()-u<c.errorInterval*1e3){a.trigger({type:"usage",name:"vhs-error-reload-canceled"}),a.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!c.getSource||typeof c.getSource!="function"){videojs.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return u=Date.now(),c.getSource.call(a,f)},g=function y(){a.off("loadedmetadata",d),a.off("error",m),a.off("dispose",y)},v=function(_){g(),l(a,_)};a.on("error",m),a.on("dispose",g),a.reloadSourceOnError=v},reloadSourceOnError=function(a){initPlugin(this,a)},version$4="2.16.3",version$3="6.0.1",version$2$1="0.22.1",version$1$1="4.8.0",version$6="3.1.3",Vhs={PlaylistLoader,Playlist,utils,STANDARD_PLAYLIST_SELECTOR:lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:lowestBitrateCompatibleVariantSelector,lastBandwidthSelector,movingAverageBandwidthSelector,comparePlaylistBandwidth,comparePlaylistResolution,xhr:xhrFactory()};Object.keys(Config).forEach(function(l){Object.defineProperty(Vhs,l,{get:function(){return videojs.log.warn("using Vhs."+l+" is UNSAFE be sure you know what you are doing"),Config[l]},set:function(o){if(videojs.log.warn("using Vhs."+l+" is UNSAFE be sure you know what you are doing"),typeof o!="number"||o<0){videojs.log.warn("value of Vhs."+l+" must be greater than or equal to 0");return}Config[l]=o}})});var LOCAL_STORAGE_KEY="videojs-vhs",handleVhsMediaChange=function(a,o){for(var u=o.media(),s=-1,c=0;c<a.length;c++)if(a[c].id===u.id){s=c;break}a.selectedIndex_=s,a.trigger({selectedIndex:s,type:"change"})},handleVhsLoadedMetadata=function(a,o){o.representations().forEach(function(u){a.addQualityLevel(u)}),handleVhsMediaChange(a,o.playlists)};Vhs.canPlaySource=function(){return videojs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var emeKeySystems=function(a,o,u){if(!a)return a;var s={};o&&o.attributes&&o.attributes.CODECS&&(s=unwrapCodecList(parseCodecs(o.attributes.CODECS))),u&&u.attributes&&u.attributes.CODECS&&(s.audio=u.attributes.CODECS);var c=getMimeForCodec(s.video),d=getMimeForCodec(s.audio),f={};for(var m in a)f[m]={},d&&(f[m].audioContentType=d),c&&(f[m].videoContentType=c),o.contentProtection&&o.contentProtection[m]&&o.contentProtection[m].pssh&&(f[m].pssh=o.contentProtection[m].pssh),typeof a[m]=="string"&&(f[m].url=a[m]);return videojs.mergeOptions(a,f)},getAllPsshKeySystemsOptions=function(a,o){return a.reduce(function(u,s){if(!s.contentProtection)return u;var c=o.reduce(function(d,f){var m=s.contentProtection[f];return m&&m.pssh&&(d[f]={pssh:m.pssh}),d},{});return Object.keys(c).length&&u.push(c),u},[])},waitForKeySessionCreation=function(a){var o=a.player,u=a.sourceKeySystems,s=a.audioMedia,c=a.mainPlaylists;if(!o.eme.initializeMediaKeys)return Promise.resolve();var d=s?c.concat([s]):c,f=getAllPsshKeySystemsOptions(d,Object.keys(u)),m=[],g=[];return f.forEach(function(v){g.push(new Promise(function(y,_){o.tech_.one("keysessioncreated",y)})),m.push(new Promise(function(y,_){o.eme.initializeMediaKeys({keySystems:v},function(b){if(b){_(b);return}y()})}))}),Promise.race([Promise.all(m),Promise.race(g)])},setupEmeOptions=function(a){var o=a.player,u=a.sourceKeySystems,s=a.media,c=a.audioMedia,d=emeKeySystems(u,s,c);return d?(o.currentSource().keySystems=d,d&&!o.eme?(videojs.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},getVhsLocalStorage=function(){if(!window$1$1.localStorage)return null;var a=window$1$1.localStorage.getItem(LOCAL_STORAGE_KEY);if(!a)return null;try{return JSON.parse(a)}catch{return null}},updateVhsLocalStorage=function(a){if(!window$1$1.localStorage)return!1;var o=getVhsLocalStorage();o=o?videojs.mergeOptions(o,a):a;try{window$1$1.localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(o))}catch{return!1}return o},expandDataUri=function(a){return a.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(a.substring(a.indexOf(",")+1)):a};Vhs.supportsNativeHls=function(){if(!document$2||!document$2.createElement)return!1;var l=document$2.createElement("video");if(!videojs.getTech("Html5").isSupported())return!1;var a=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return a.some(function(o){return/maybe|probably/i.test(l.canPlayType(o))})}();Vhs.supportsNativeDash=function(){return!document$2||!document$2.createElement||!videojs.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(document$2.createElement("video").canPlayType("application/dash+xml"))}();Vhs.supportsTypeNatively=function(l){return l==="hls"?Vhs.supportsNativeHls:l==="dash"?Vhs.supportsNativeDash:!1};Vhs.isSupported=function(){return videojs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Component=videojs.getComponent("Component"),VhsHandler=function(l){_inheritsLoose(a,l);function a(u,s,c){var d;if(d=l.call(this,s,videojs.mergeOptions(c.hls,c.vhs))||this,c.hls&&Object.keys(c.hls).length&&videojs.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof c.initialBandwidth=="number"&&(d.options_.bandwidth=c.initialBandwidth),d.logger_=logger("VhsHandler"),s.options_&&s.options_.playerId){var f=videojs(s.options_.playerId);f.hasOwnProperty("hls")||Object.defineProperty(f,"hls",{get:function(){return videojs.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),s.trigger({type:"usage",name:"hls-player-access"}),_assertThisInitialized$1(d)},configurable:!0}),f.hasOwnProperty("vhs")||Object.defineProperty(f,"vhs",{get:function(){return videojs.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),s.trigger({type:"usage",name:"vhs-player-access"}),_assertThisInitialized$1(d)},configurable:!0}),f.hasOwnProperty("dash")||Object.defineProperty(f,"dash",{get:function(){return videojs.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),_assertThisInitialized$1(d)},configurable:!0}),d.player_=f}if(d.tech_=s,d.source_=u,d.stats={},d.ignoreNextSeekingEvent_=!1,d.setOptions_(),d.options_.overrideNative&&s.overrideNativeAudioTracks&&s.overrideNativeVideoTracks)s.overrideNativeAudioTracks(!0),s.overrideNativeVideoTracks(!0);else if(d.options_.overrideNative&&(s.featuresNativeVideoTracks||s.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return d.on(document$2,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(m){var g=document$2.fullscreenElement||document$2.webkitFullscreenElement||document$2.mozFullScreenElement||document$2.msFullscreenElement;g&&g.contains(d.tech_.el())?d.masterPlaylistController_.fastQualityChange_():d.masterPlaylistController_.checkABR_()}),d.on(d.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),d.on(d.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),d.on(d.tech_,"play",d.play),d}var o=a.prototype;return o.setOptions_=function(){var s=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var c=getVhsLocalStorage();c&&c.bandwidth&&(this.options_.bandwidth=c.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),c&&c.throughput&&(this.options_.throughput=c.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Config.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Config.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(d){typeof s.source_[d]<"u"&&(s.options_[d]=s.source_[d])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},o.src=function(s,c){var d=this;if(s){this.setOptions_(),this.options_.src=expandDataUri(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Vhs,this.options_.sourceType=simpleTypeFromSourceType(c),this.options_.seekTo=function(g){d.tech_.setCurrentTime(g)},this.options_.smoothQualityChange&&videojs.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new MasterPlaylistController(this.options_);var f=videojs.mergeOptions({liveRangeSafeTimeDelta:SAFE_TIME_DELTA},this.options_,{seekable:function(){return d.seekable()},media:function(){return d.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new PlaybackWatcher(f),this.masterPlaylistController_.on("error",function(){var g=videojs.players[d.tech_.options_.playerId],v=d.masterPlaylistController_.error;typeof v=="object"&&!v.code?v.code=3:typeof v=="string"&&(v={message:v,code:3}),g.error(v)});var m=this.options_.experimentalBufferBasedABR?Vhs.movingAverageBandwidthSelector(.55):Vhs.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):m.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Vhs.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(v){this.masterPlaylistController_.selectPlaylist=v.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(v){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=v,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var v=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,y=window$1$1.navigator.connection||window$1$1.navigator.mozConnection||window$1$1.navigator.webkitConnection,_=1e7;if(this.options_.useNetworkInformationApi&&y){var b=y.downlink*1e3*1e3;b>=_&&v>=_?v=Math.max(v,b):v=b}return v},set:function(v){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=v,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var v=1/(this.bandwidth||1),y;this.throughput>0?y=1/this.throughput:y=0;var _=Math.floor(1/(v+y));return _},set:function(){videojs.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return d.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return d.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return d.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return d.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return d.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return d.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return d.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return d.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return d.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return d.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return d.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return d.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return d.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return timeRangesToArray(d.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return d.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return d.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return d.tech_.name_},enumerable:!0},duration:{get:function(){return d.tech_.duration()},enumerable:!0},master:{get:function(){return d.playlists.master},enumerable:!0},playerDimensions:{get:function(){return d.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return timeRangesToArray(d.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return d.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){d.options_.useBandwidthFromLocalStorage&&updateVhsLocalStorage({bandwidth:d.bandwidth,throughput:Math.round(d.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){renditionSelectionMixin(d)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){d.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=window$1$1.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},o.createKeySessions_=function(){var s=this,c=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),waitForKeySessionCreation({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:c&&c.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){s.logger_("created EME key session"),s.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(d){s.logger_("error while creating EME key session",d),s.player_.error({message:"Failed to initialize media keys for EME",code:3})})},o.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},o.setupEme_=function(){var s=this,c=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,d=setupEmeOptions({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:c&&c.media()});if(this.player_.tech_.on("keystatuschange",function(f){if(f.status==="output-restricted"){var m=s.masterPlaylistController_.master();if(!(!m||!m.playlists)){var g=[];if(m.playlists.forEach(function(y){y&&y.attributes&&y.attributes.RESOLUTION&&y.attributes.RESOLUTION.height>=720&&(!y.excludeUntil||y.excludeUntil<1/0)&&(y.excludeUntil=1/0,g.push(y))}),g.length){var v;(v=videojs.log).warn.apply(v,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(g)),s.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),videojs.browser.IE_VERSION===11||!d){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},o.setupQualityLevels_=function(){var s=this,c=videojs.players[this.tech_.options_.playerId];!c||!c.qualityLevels||this.qualityLevels_||(this.qualityLevels_=c.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){handleVhsLoadedMetadata(s.qualityLevels_,s)}),this.playlists.on("mediachange",function(){handleVhsMediaChange(s.qualityLevels_,s.playlists)}))},a.version=function(){return{"@videojs/http-streaming":version$4,"mux.js":version$3,"mpd-parser":version$2$1,"m3u8-parser":version$1$1,"aes-decrypter":version$6}},o.version=function(){return this.constructor.version()},o.canChangeType=function(){return SourceUpdater.canChangeType()},o.play=function(){this.masterPlaylistController_.play()},o.setCurrentTime=function(s){this.masterPlaylistController_.setCurrentTime(s)},o.duration=function(){return this.masterPlaylistController_.duration()},o.seekable=function(){return this.masterPlaylistController_.seekable()},o.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&window$1$1.URL.revokeObjectURL&&(window$1$1.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),l.prototype.dispose.call(this)},o.convertToProgramTime=function(s,c){return getProgramTime({playlist:this.masterPlaylistController_.media(),time:s,callback:c})},o.seekToProgramTime=function(s,c,d,f){return d===void 0&&(d=!0),f===void 0&&(f=2),seekToProgramTime({programTime:s,playlist:this.masterPlaylistController_.media(),retryCount:f,pauseAfterSeek:d,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:c})},a}(Component),VhsSourceHandler={name:"videojs-http-streaming",VERSION:version$4,canHandleSource:function(a,o){o===void 0&&(o={});var u=videojs.mergeOptions(videojs.options,o);return VhsSourceHandler.canPlayType(a.type,u)},handleSource:function(a,o,u){u===void 0&&(u={});var s=videojs.mergeOptions(videojs.options,u);return o.vhs=new VhsHandler(a,o,s),videojs.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return videojs.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),o.vhs},configurable:!0}),o.vhs.xhr=xhrFactory(),o.vhs.src(a.src,a.type),o.vhs},canPlayType:function(a,o){var u=simpleTypeFromSourceType(a);if(!u)return"";var s=VhsSourceHandler.getOverrideNative(o),c=Vhs.supportsTypeNatively(u),d=!c||s;return d?"maybe":""},getOverrideNative:function(a){a===void 0&&(a={});var o=a,u=o.vhs,s=u===void 0?{}:u,c=o.hls,d=c===void 0?{}:c,f=!(videojs.browser.IS_ANY_SAFARI||videojs.browser.IS_IOS),m=s.overrideNative,g=m===void 0?f:m,v=d.overrideNative,y=v===void 0?!1:v;return y||g}},supportsNativeMediaSources=function(){return browserSupportsCodec("avc1.4d400d,mp4a.40.2")};supportsNativeMediaSources()&&videojs.getTech("Html5").registerSourceHandler(VhsSourceHandler,0);videojs.VhsHandler=VhsHandler;Object.defineProperty(videojs,"HlsHandler",{get:function(){return videojs.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),VhsHandler},configurable:!0});videojs.VhsSourceHandler=VhsSourceHandler;Object.defineProperty(videojs,"HlsSourceHandler",{get:function(){return videojs.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),VhsSourceHandler},configurable:!0});videojs.Vhs=Vhs;Object.defineProperty(videojs,"Hls",{get:function(){return videojs.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Vhs},configurable:!0});videojs.use||(videojs.registerComponent("Hls",Vhs),videojs.registerComponent("Vhs",Vhs));videojs.options.vhs=videojs.options.vhs||{};videojs.options.hls=videojs.options.hls||{};if(!videojs.getPlugin||!videojs.getPlugin("reloadSourceOnError")){var registerPlugin=videojs.registerPlugin||videojs.plugin;registerPlugin("reloadSourceOnError",reloadSourceOnError)}/*! @vimeo/player v2.25.1 | (c) 2025 Vimeo | MIT License | https://github.com/vimeo/player.js */function ownKeys(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(l,s).enumerable})),o.push.apply(o,u)}return o}function _objectSpread2(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?ownKeys(Object(o),!0).forEach(function(u){_defineProperty(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}function _regeneratorRuntime(){_regeneratorRuntime=function(){return l};var l={},a=Object.prototype,o=a.hasOwnProperty,u=Object.defineProperty||function(V,Y,Z){V[Y]=Z.value},s=typeof Symbol=="function"?Symbol:{},c=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function m(V,Y,Z){return Object.defineProperty(V,Y,{value:Z,enumerable:!0,configurable:!0,writable:!0}),V[Y]}try{m({},"")}catch{m=function(Y,Z,pe){return Y[Z]=pe}}function g(V,Y,Z,pe){var ee=Y&&Y.prototype instanceof _?Y:_,se=Object.create(ee.prototype),ge=new z(pe||[]);return u(se,"_invoke",{value:B(V,Z,ge)}),se}function v(V,Y,Z){try{return{type:"normal",arg:V.call(Y,Z)}}catch(pe){return{type:"throw",arg:pe}}}l.wrap=g;var y={};function _(){}function b(){}function x(){}var w={};m(w,c,function(){return this});var A=Object.getPrototypeOf,D=A&&A(A(W([])));D&&D!==a&&o.call(D,c)&&(w=D);var I=x.prototype=_.prototype=Object.create(w);function N(V){["next","throw","return"].forEach(function(Y){m(V,Y,function(Z){return this._invoke(Y,Z)})})}function O(V,Y){function Z(ee,se,ge,De){var oe=v(V[ee],V,se);if(oe.type!=="throw"){var ae=oe.arg,Ae=ae.value;return Ae&&typeof Ae=="object"&&o.call(Ae,"__await")?Y.resolve(Ae.__await).then(function(J){Z("next",J,ge,De)},function(J){Z("throw",J,ge,De)}):Y.resolve(Ae).then(function(J){ae.value=J,ge(ae)},function(J){return Z("throw",J,ge,De)})}De(oe.arg)}var pe;u(this,"_invoke",{value:function(ee,se){function ge(){return new Y(function(De,oe){Z(ee,se,De,oe)})}return pe=pe?pe.then(ge,ge):ge()}})}function B(V,Y,Z){var pe="suspendedStart";return function(ee,se){if(pe==="executing")throw new Error("Generator is already running");if(pe==="completed"){if(ee==="throw")throw se;return ne()}for(Z.method=ee,Z.arg=se;;){var ge=Z.delegate;if(ge){var De=M(ge,Z);if(De){if(De===y)continue;return De}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(pe==="suspendedStart")throw pe="completed",Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);pe="executing";var oe=v(V,Y,Z);if(oe.type==="normal"){if(pe=Z.done?"completed":"suspendedYield",oe.arg===y)continue;return{value:oe.arg,done:Z.done}}oe.type==="throw"&&(pe="completed",Z.method="throw",Z.arg=oe.arg)}}}function M(V,Y){var Z=Y.method,pe=V.iterator[Z];if(pe===void 0)return Y.delegate=null,Z==="throw"&&V.iterator.return&&(Y.method="return",Y.arg=void 0,M(V,Y),Y.method==="throw")||Z!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+Z+"' method")),y;var ee=v(pe,V.iterator,Y.arg);if(ee.type==="throw")return Y.method="throw",Y.arg=ee.arg,Y.delegate=null,y;var se=ee.arg;return se?se.done?(Y[V.resultName]=se.value,Y.next=V.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=void 0),Y.delegate=null,y):se:(Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,y)}function j(V){var Y={tryLoc:V[0]};1 in V&&(Y.catchLoc=V[1]),2 in V&&(Y.finallyLoc=V[2],Y.afterLoc=V[3]),this.tryEntries.push(Y)}function L(V){var Y=V.completion||{};Y.type="normal",delete Y.arg,V.completion=Y}function z(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(j,this),this.reset(!0)}function W(V){if(V){var Y=V[c];if(Y)return Y.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var Z=-1,pe=function ee(){for(;++Z<V.length;)if(o.call(V,Z))return ee.value=V[Z],ee.done=!1,ee;return ee.value=void 0,ee.done=!0,ee};return pe.next=pe}}return{next:ne}}function ne(){return{value:void 0,done:!0}}return b.prototype=x,u(I,"constructor",{value:x,configurable:!0}),u(x,"constructor",{value:b,configurable:!0}),b.displayName=m(x,f,"GeneratorFunction"),l.isGeneratorFunction=function(V){var Y=typeof V=="function"&&V.constructor;return!!Y&&(Y===b||(Y.displayName||Y.name)==="GeneratorFunction")},l.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,x):(V.__proto__=x,m(V,f,"GeneratorFunction")),V.prototype=Object.create(I),V},l.awrap=function(V){return{__await:V}},N(O.prototype),m(O.prototype,d,function(){return this}),l.AsyncIterator=O,l.async=function(V,Y,Z,pe,ee){ee===void 0&&(ee=Promise);var se=new O(g(V,Y,Z,pe),ee);return l.isGeneratorFunction(Y)?se:se.next().then(function(ge){return ge.done?ge.value:se.next()})},N(I),m(I,f,"Generator"),m(I,c,function(){return this}),m(I,"toString",function(){return"[object Generator]"}),l.keys=function(V){var Y=Object(V),Z=[];for(var pe in Y)Z.push(pe);return Z.reverse(),function ee(){for(;Z.length;){var se=Z.pop();if(se in Y)return ee.value=se,ee.done=!1,ee}return ee.done=!0,ee}},l.values=W,z.prototype={constructor:z,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!V)for(var Y in this)Y.charAt(0)==="t"&&o.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=void 0)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var Y=this;function Z(oe,ae){return se.type="throw",se.arg=V,Y.next=oe,ae&&(Y.method="next",Y.arg=void 0),!!ae}for(var pe=this.tryEntries.length-1;pe>=0;--pe){var ee=this.tryEntries[pe],se=ee.completion;if(ee.tryLoc==="root")return Z("end");if(ee.tryLoc<=this.prev){var ge=o.call(ee,"catchLoc"),De=o.call(ee,"finallyLoc");if(ge&&De){if(this.prev<ee.catchLoc)return Z(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return Z(ee.finallyLoc)}else if(ge){if(this.prev<ee.catchLoc)return Z(ee.catchLoc,!0)}else{if(!De)throw new Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return Z(ee.finallyLoc)}}}},abrupt:function(V,Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var pe=this.tryEntries[Z];if(pe.tryLoc<=this.prev&&o.call(pe,"finallyLoc")&&this.prev<pe.finallyLoc){var ee=pe;break}}ee&&(V==="break"||V==="continue")&&ee.tryLoc<=Y&&Y<=ee.finallyLoc&&(ee=null);var se=ee?ee.completion:{};return se.type=V,se.arg=Y,ee?(this.method="next",this.next=ee.finallyLoc,y):this.complete(se)},complete:function(V,Y){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&Y&&(this.next=Y),y},finish:function(V){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Z=this.tryEntries[Y];if(Z.finallyLoc===V)return this.complete(Z.completion,Z.afterLoc),L(Z),y}},catch:function(V){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Z=this.tryEntries[Y];if(Z.tryLoc===V){var pe=Z.completion;if(pe.type==="throw"){var ee=pe.arg;L(Z)}return ee}}throw new Error("illegal catch attempt")},delegateYield:function(V,Y,Z){return this.delegate={iterator:W(V),resultName:Y,nextLoc:Z},this.method==="next"&&(this.arg=void 0),y}},l}function asyncGeneratorStep(l,a,o,u,s,c,d){try{var f=l[c](d),m=f.value}catch(g){o(g);return}f.done?a(m):Promise.resolve(m).then(u,s)}function _asyncToGenerator(l){return function(){var a=this,o=arguments;return new Promise(function(u,s){var c=l.apply(a,o);function d(m){asyncGeneratorStep(c,u,s,d,f,"next",m)}function f(m){asyncGeneratorStep(c,u,s,d,f,"throw",m)}d(void 0)})}}function _classCallCheck(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(l,a){for(var o=0;o<a.length;o++){var u=a[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,_toPropertyKey(u.key),u)}}function _createClass(l,a,o){return a&&_defineProperties(l.prototype,a),Object.defineProperty(l,"prototype",{writable:!1}),l}function _defineProperty(l,a,o){return a=_toPropertyKey(a),a in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function _inherits(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),a&&_setPrototypeOf(l,a)}function _getPrototypeOf(l){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(l)}function _setPrototypeOf(l,a){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,s){return u.__proto__=s,u},_setPrototypeOf(l,a)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(l,a,o){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(s,c,d){var f=[null];f.push.apply(f,c);var m=Function.bind.apply(s,f),g=new m;return d&&_setPrototypeOf(g,d.prototype),g},_construct.apply(null,arguments)}function _isNativeFunction(l){return Function.toString.call(l).indexOf("[native code]")!==-1}function _wrapNativeSuper(l){var a=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(u){if(u===null||!_isNativeFunction(u))return u;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(typeof a<"u"){if(a.has(u))return a.get(u);a.set(u,s)}function s(){return _construct(u,arguments,_getPrototypeOf(this).constructor)}return s.prototype=Object.create(u.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(s,u)},_wrapNativeSuper(l)}function _assertThisInitialized(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _possibleConstructorReturn(l,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(l)}function _createSuper(l){var a=_isNativeReflectConstruct();return function(){var u=_getPrototypeOf(l),s;if(a){var c=_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,c)}else s=u.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _toPrimitive(l,a){if(typeof l!="object"||l===null)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}function _toPropertyKey(l){var a=_toPrimitive(l,"string");return typeof a=="symbol"?a:String(a)}var isNode=typeof global<"u"&&{}.toString.call(global)==="[object global]";function getMethodName(l,a){return l.indexOf(a.toLowerCase())===0?l:"".concat(a.toLowerCase()).concat(l.substr(0,1).toUpperCase()).concat(l.substr(1))}function isDomElement(l){return!!(l&&l.nodeType===1&&"nodeName"in l&&l.ownerDocument&&l.ownerDocument.defaultView)}function isInteger(l){return!isNaN(parseFloat(l))&&isFinite(l)&&Math.floor(l)==l}function isVimeoUrl(l){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(l)}function isVimeoEmbed(l){var a=/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/;return a.test(l)}function getOembedDomain(l){for(var a=(l||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),o=(a&&a[1]||"").replace("player.",""),u=[".videoji.hk",".vimeo.work",".videoji.cn"],s=0,c=u;s<c.length;s++){var d=c[s];if(o.endsWith(d))return o}return"vimeo.com"}function getVimeoUrl(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=l.id,o=l.url,u=a||o;if(!u)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(isInteger(u))return"https://vimeo.com/".concat(u);if(isVimeoUrl(u))return u.replace("http:","https:");throw a?new TypeError("“".concat(a,"” is not a valid video id.")):new TypeError("“".concat(u,"” is not a vimeo.com url."))}var subscribe=function(a,o,u){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",d=typeof o=="string"?[o]:o;return d.forEach(function(f){a[s](f,u)}),{cancel:function(){return d.forEach(function(m){return a[c](m,u)})}}},arrayIndexOfSupport=typeof Array.prototype.indexOf<"u",postMessageSupport=typeof window<"u"&&typeof window.postMessage<"u";if(!isNode&&(!arrayIndexOfSupport||!postMessageSupport))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(l,a){return a={exports:{}},l(a,a.exports),a.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(l){if(l.WeakMap)return;var a=Object.prototype.hasOwnProperty,o=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),u=function(c,d,f){o?Object.defineProperty(c,d,{configurable:!0,writable:!0,value:f}):c[d]=f};l.WeakMap=function(){function c(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(u(this,"_id",f("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}u(c.prototype,"delete",function(g){if(d(this,"delete"),!s(g))return!1;var v=g[this._id];return v&&v[0]===g?(delete g[this._id],!0):!1}),u(c.prototype,"get",function(g){if(d(this,"get"),!!s(g)){var v=g[this._id];if(v&&v[0]===g)return v[1]}}),u(c.prototype,"has",function(g){if(d(this,"has"),!s(g))return!1;var v=g[this._id];return!!(v&&v[0]===g)}),u(c.prototype,"set",function(g,v){if(d(this,"set"),!s(g))throw new TypeError("Invalid value used as weak map key");var y=g[this._id];return y&&y[0]===g?(y[1]=v,this):(u(g,this._id,[g,v]),this)});function d(g,v){if(!s(g)||!a.call(g,"_id"))throw new TypeError(v+" method called on incompatible receiver "+typeof g)}function f(g){return g+"_"+m()+"."+m()}function m(){return Math.random().toString().substring(2)}return u(c,"_polyfill",!0),c}();function s(c){return Object(c)===c}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal);var npo_src=createCommonjsModule(function(l){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(o,u,s){u[o]=u[o]||s(),l.exports&&(l.exports=u[o])})("Promise",commonjsGlobal,function(){var o,u,s,c=Object.prototype.toString,d=typeof setImmediate<"u"?function(N){return setImmediate(N)}:setTimeout;try{Object.defineProperty({},"x",{}),o=function(N,O,B,M){return Object.defineProperty(N,O,{value:B,writable:!0,configurable:M!==!1})}}catch{o=function(O,B,M){return O[B]=M,O}}s=function(){var N,O,B;function M(j,L){this.fn=j,this.self=L,this.next=void 0}return{add:function(L,z){B=new M(L,z),O?O.next=B:N=B,O=B,B=void 0},drain:function(){var L=N;for(N=O=u=void 0;L;)L.fn.call(L.self),L=L.next}}}();function f(I,N){s.add(I,N),u||(u=d(s.drain))}function m(I){var N,O=typeof I;return I!=null&&(O=="object"||O=="function")&&(N=I.then),typeof N=="function"?N:!1}function g(){for(var I=0;I<this.chain.length;I++)v(this,this.state===1?this.chain[I].success:this.chain[I].failure,this.chain[I]);this.chain.length=0}function v(I,N,O){var B,M;try{N===!1?O.reject(I.msg):(N===!0?B=I.msg:B=N.call(void 0,I.msg),B===O.promise?O.reject(TypeError("Promise-chain cycle")):(M=m(B))?M.call(B,O.resolve,O.reject):O.resolve(B))}catch(j){O.reject(j)}}function y(I){var N,O=this;if(!O.triggered){O.triggered=!0,O.def&&(O=O.def);try{(N=m(I))?f(function(){var B=new x(O);try{N.call(I,function(){y.apply(B,arguments)},function(){_.apply(B,arguments)})}catch(M){_.call(B,M)}}):(O.msg=I,O.state=1,O.chain.length>0&&f(g,O))}catch(B){_.call(new x(O),B)}}}function _(I){var N=this;N.triggered||(N.triggered=!0,N.def&&(N=N.def),N.msg=I,N.state=2,N.chain.length>0&&f(g,N))}function b(I,N,O,B){for(var M=0;M<N.length;M++)(function(L){I.resolve(N[L]).then(function(W){O(L,W)},B)})(M)}function x(I){this.def=I,this.triggered=!1}function w(I){this.promise=I,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(I){if(typeof I!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var N=new w(this);this.then=function(B,M){var j={success:typeof B=="function"?B:!0,failure:typeof M=="function"?M:!1};return j.promise=new this.constructor(function(z,W){if(typeof z!="function"||typeof W!="function")throw TypeError("Not a function");j.resolve=z,j.reject=W}),N.chain.push(j),N.state!==0&&f(g,N),j.promise},this.catch=function(B){return this.then(void 0,B)};try{I.call(void 0,function(B){y.call(N,B)},function(B){_.call(N,B)})}catch(O){_.call(N,O)}}var D=o({},"constructor",A,!1);return A.prototype=D,o(D,"__NPO__",0,!1),o(A,"resolve",function(N){var O=this;return N&&typeof N=="object"&&N.__NPO__===1?N:new O(function(M,j){if(typeof M!="function"||typeof j!="function")throw TypeError("Not a function");M(N)})}),o(A,"reject",function(N){return new this(function(B,M){if(typeof B!="function"||typeof M!="function")throw TypeError("Not a function");M(N)})}),o(A,"all",function(N){var O=this;return c.call(N)!="[object Array]"?O.reject(TypeError("Not an array")):N.length===0?O.resolve([]):new O(function(M,j){if(typeof M!="function"||typeof j!="function")throw TypeError("Not a function");var L=N.length,z=Array(L),W=0;b(O,N,function(V,Y){z[V]=Y,++W===L&&M(z)},j)})}),o(A,"race",function(N){var O=this;return c.call(N)!="[object Array]"?O.reject(TypeError("Not an array")):new O(function(M,j){if(typeof M!="function"||typeof j!="function")throw TypeError("Not a function");b(O,N,function(z,W){M(W)},j)})}),A})}),callbackMap=new WeakMap;function storeCallback(l,a,o){var u=callbackMap.get(l.element)||{};a in u||(u[a]=[]),u[a].push(o),callbackMap.set(l.element,u)}function getCallbacks(l,a){var o=callbackMap.get(l.element)||{};return o[a]||[]}function removeCallback(l,a,o){var u=callbackMap.get(l.element)||{};if(!u[a])return!0;if(!o)return u[a]=[],callbackMap.set(l.element,u),!0;var s=u[a].indexOf(o);return s!==-1&&u[a].splice(s,1),callbackMap.set(l.element,u),u[a]&&u[a].length===0}function shiftCallbacks(l,a){var o=getCallbacks(l,a);if(o.length<1)return!1;var u=o.shift();return removeCallback(l,a,u),u}function swapCallbacks(l,a){var o=callbackMap.get(l);callbackMap.set(a,o),callbackMap.delete(l)}function parseMessageData(l){if(typeof l=="string")try{l=JSON.parse(l)}catch(a){return console.warn(a),{}}return l}function postMessage(l,a,o){if(!(!l.element.contentWindow||!l.element.contentWindow.postMessage)){var u={method:a};o!==void 0&&(u.value=o);var s=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));s>=8&&s<10&&(u=JSON.stringify(u)),l.element.contentWindow.postMessage(u,l.origin)}}function processData(l,a){a=parseMessageData(a);var o=[],u;if(a.event){if(a.event==="error"){var s=getCallbacks(l,a.data.method);s.forEach(function(d){var f=new Error(a.data.message);f.name=a.data.name,d.reject(f),removeCallback(l,a.data.method,d)})}o=getCallbacks(l,"event:".concat(a.event)),u=a.data}else if(a.method){var c=shiftCallbacks(l,a.method);c&&(o.push(c),u=a.value)}o.forEach(function(d){try{if(typeof d=="function"){d.call(l,u);return}d.resolve(u)}catch{}})}var oEmbedParameters=["airplay","audio_tracks","audiotrack","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","play_button_position","playsinline","portrait","progress_bar","quality_selector","responsive","speed","start_time","texttrack","title","transcript","transparent","unmute_button","url","vimeo_logo","volume","watch_full_video","width"];function getOEmbedParameters(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return oEmbedParameters.reduce(function(o,u){var s=l.getAttribute("data-vimeo-".concat(u));return(s||s==="")&&(o[u]=s===""?1:s),o},a)}function createEmbed(l,a){var o=l.html;if(!a)throw new TypeError("An element must be provided");if(a.getAttribute("data-vimeo-initialized")!==null)return a.querySelector("iframe");var u=document.createElement("div");return u.innerHTML=o,a.appendChild(u.firstChild),a.setAttribute("data-vimeo-initialized","true"),a.querySelector("iframe")}function getOEmbedData(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return new Promise(function(u,s){if(!isVimeoUrl(l))throw new TypeError("“".concat(l,"” is not a vimeo.com url."));var c=getOembedDomain(l),d="https://".concat(c,"/api/oembed.json?url=").concat(encodeURIComponent(l));for(var f in a)a.hasOwnProperty(f)&&(d+="&".concat(f,"=").concat(encodeURIComponent(a[f])));var m="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;m.open("GET",d,!0),m.onload=function(){if(m.status===404){s(new Error("“".concat(l,"” was not found.")));return}if(m.status===403){s(new Error("“".concat(l,"” is not embeddable.")));return}try{var g=JSON.parse(m.responseText);if(g.domain_status_code===403){createEmbed(g,o),s(new Error("“".concat(l,"” is not embeddable.")));return}u(g)}catch(v){s(v)}},m.onerror=function(){var g=m.status?" (".concat(m.status,")"):"";s(new Error("There was an error fetching the embed code from Vimeo".concat(g,".")))},m.send()})}function initializeEmbeds(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,a=[].slice.call(l.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),o=function(s){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(s))};a.forEach(function(u){try{if(u.getAttribute("data-vimeo-defer")!==null)return;var s=getOEmbedParameters(u),c=getVimeoUrl(s);getOEmbedData(c,s,u).then(function(d){return createEmbed(d,u)}).catch(o)}catch(d){o(d)}})}function resizeEmbeds(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var a=function(u){if(isVimeoUrl(u.origin)&&!(!u.data||u.data.event!=="spacechange")){for(var s=l.querySelectorAll("iframe"),c=0;c<s.length;c++)if(s[c].contentWindow===u.source){var d=s[c].parentElement;d.style.paddingBottom="".concat(u.data.data[0].bottom,"px");break}}};window.addEventListener("message",a)}}function initAppendVideoMetadata(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var a=function(u){if(isVimeoUrl(u.origin)){var s=parseMessageData(u.data);if(!(!s||s.event!=="ready"))for(var c=l.querySelectorAll("iframe"),d=0;d<c.length;d++){var f=c[d],m=f.contentWindow===u.source;if(isVimeoEmbed(f.src)&&m){var g=new Player$1(f);g.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",a)}}function checkUrlTimeParam(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var a=function(s){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(s))},o=function(s){if(isVimeoUrl(s.origin)){var c=parseMessageData(s.data);if(!(!c||c.event!=="ready"))for(var d=l.querySelectorAll("iframe"),f=function(){var v=d[m],y=v.contentWindow===s.source;if(isVimeoEmbed(v.src)&&y){var _=new Player$1(v);_.getVideoId().then(function(b){var x=new RegExp("[?&]vimeo_t_".concat(b,"=([^&#]*)")).exec(window.location.href);if(x&&x[1]){var w=decodeURI(x[1]);_.setCurrentTime(w)}}).catch(a)}},m=0;m<d.length;m++)f()}};window.addEventListener("message",o)}}function initializeScreenfull(){var l=function(){for(var u,s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],c=0,d=s.length,f={};c<d;c++)if(u=s[c],u&&u[1]in document){for(c=0;c<u.length;c++)f[s[0][c]]=u[c];return f}return!1}(),a={fullscreenchange:l.fullscreenchange,fullscreenerror:l.fullscreenerror},o={request:function(s){return new Promise(function(c,d){var f=function g(){o.off("fullscreenchange",g),c()};o.on("fullscreenchange",f),s=s||document.documentElement;var m=s[l.requestFullscreen]();m instanceof Promise&&m.then(f).catch(d)})},exit:function(){return new Promise(function(s,c){if(!o.isFullscreen){s();return}var d=function m(){o.off("fullscreenchange",m),s()};o.on("fullscreenchange",d);var f=document[l.exitFullscreen]();f instanceof Promise&&f.then(d).catch(c)})},on:function(s,c){var d=a[s];d&&document.addEventListener(d,c)},off:function(s,c){var d=a[s];d&&document.removeEventListener(d,c)}};return Object.defineProperties(o,{isFullscreen:{get:function(){return!!document[l.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[l.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[l.fullscreenEnabled]}}}),o}var defaultOptions={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},TimingSrcConnector=function(l){_inherits(o,l);var a=_createSuper(o);function o(u,s){var c,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,o),c=a.call(this),_defineProperty(_assertThisInitialized(c),"logger",void 0),_defineProperty(_assertThisInitialized(c),"speedAdjustment",0),_defineProperty(_assertThisInitialized(c),"adjustSpeed",function(){var m=_asyncToGenerator(_regeneratorRuntime().mark(function g(v,y){var _;return _regeneratorRuntime().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(c.speedAdjustment!==y){x.next=2;break}return x.abrupt("return");case 2:return x.next=4,v.getPlaybackRate();case 4:return x.t0=x.sent,x.t1=c.speedAdjustment,x.t2=x.t0-x.t1,x.t3=y,_=x.t2+x.t3,c.log("New playbackRate:  ".concat(_)),x.next=12,v.setPlaybackRate(_);case 12:c.speedAdjustment=y;case 13:case"end":return x.stop()}},g)}));return function(g,v){return m.apply(this,arguments)}}()),c.logger=f,c.init(s,u,_objectSpread2(_objectSpread2({},defaultOptions),d)),c}return _createClass(o,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:function(){var u=_asyncToGenerator(_regeneratorRuntime().mark(function c(d,f,m){var g=this,v,y,_;return _regeneratorRuntime().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,this.waitForTOReadyState(d,"open");case 2:if(m.role!=="viewer"){x.next=10;break}return x.next=5,this.updatePlayer(d,f,m);case 5:v=subscribe(d,"change",function(){return g.updatePlayer(d,f,m)}),y=this.maintainPlaybackPosition(d,f,m),this.addEventListener("disconnect",function(){y.cancel(),v.cancel()}),x.next=14;break;case 10:return x.next=12,this.updateTimingObject(d,f);case 12:_=subscribe(f,["seeked","play","pause","ratechange"],function(){return g.updateTimingObject(d,f)},"on","off"),this.addEventListener("disconnect",function(){return _.cancel()});case 14:case"end":return x.stop()}},c,this)}));function s(c,d,f){return u.apply(this,arguments)}return s}()},{key:"updateTimingObject",value:function(){var u=_asyncToGenerator(_regeneratorRuntime().mark(function c(d,f){return _regeneratorRuntime().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.t0=d,g.next=3,f.getCurrentTime();case 3:return g.t1=g.sent,g.next=6,f.getPaused();case 6:if(!g.sent){g.next=10;break}g.t2=0,g.next=13;break;case 10:return g.next=12,f.getPlaybackRate();case 12:g.t2=g.sent;case 13:g.t3=g.t2,g.t4={position:g.t1,velocity:g.t3},g.t0.update.call(g.t0,g.t4);case 16:case"end":return g.stop()}},c)}));function s(c,d){return u.apply(this,arguments)}return s}()},{key:"updatePlayer",value:function(){var u=_asyncToGenerator(_regeneratorRuntime().mark(function c(d,f,m){var g,v,y;return _regeneratorRuntime().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(g=d.query(),v=g.position,y=g.velocity,typeof v=="number"&&f.setCurrentTime(v),typeof y!="number"){b.next=25;break}if(y!==0){b.next=11;break}return b.next=6,f.getPaused();case 6:if(b.t0=b.sent,b.t0!==!1){b.next=9;break}f.pause();case 9:b.next=25;break;case 11:if(!(y>0)){b.next=25;break}return b.next=14,f.getPaused();case 14:if(b.t1=b.sent,b.t1!==!0){b.next=19;break}return b.next=18,f.play().catch(function(){var x=_asyncToGenerator(_regeneratorRuntime().mark(function w(A){return _regeneratorRuntime().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(A.name==="NotAllowedError"&&m.autoPlayMuted)){I.next=5;break}return I.next=3,f.setMuted(!0);case 3:return I.next=5,f.play().catch(function(N){return console.error("Couldn't play the video from TimingSrcConnector. Error:",N)});case 5:case"end":return I.stop()}},w)}));return function(w){return x.apply(this,arguments)}}());case 18:this.updatePlayer(d,f,m);case 19:return b.next=21,f.getPlaybackRate();case 21:if(b.t2=b.sent,b.t3=y,b.t2===b.t3){b.next=25;break}f.setPlaybackRate(y);case 25:case"end":return b.stop()}},c,this)}));function s(c,d,f){return u.apply(this,arguments)}return s}()},{key:"maintainPlaybackPosition",value:function(s,c,d){var f=this,m=d.allowedDrift,g=d.maxAllowedDrift,v=d.minCheckInterval,y=d.maxRateAdjustment,_=d.maxTimeToCatchUp,b=Math.min(_,Math.max(v,g))*1e3,x=function(){var A=_asyncToGenerator(_regeneratorRuntime().mark(function D(){var I,N,O,B,M;return _regeneratorRuntime().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(L.t0=s.query().velocity===0,L.t0){L.next=6;break}return L.next=4,c.getPaused();case 4:L.t1=L.sent,L.t0=L.t1===!0;case 6:if(!L.t0){L.next=8;break}return L.abrupt("return");case 8:return L.t2=s.query().position,L.next=11,c.getCurrentTime();case 11:if(L.t3=L.sent,I=L.t2-L.t3,N=Math.abs(I),f.log("Drift: ".concat(I)),!(N>g)){L.next=22;break}return L.next=18,f.adjustSpeed(c,0);case 18:c.setCurrentTime(s.query().position),f.log("Resync by currentTime"),L.next=29;break;case 22:if(!(N>m)){L.next=29;break}return O=N/_,B=y,M=O<B?(B-O)/2:B,L.next=28,f.adjustSpeed(c,M*Math.sign(I));case 28:f.log("Resync by playbackRate");case 29:case"end":return L.stop()}},D)}));return function(){return A.apply(this,arguments)}}(),w=setInterval(function(){return x()},b);return{cancel:function(){return clearInterval(w)}}}},{key:"log",value:function(s){var c;(c=this.logger)===null||c===void 0||c.call(this,"TimingSrcConnector: ".concat(s))}},{key:"waitForTOReadyState",value:function(s,c){return new Promise(function(d){var f=function m(){s.readyState===c?d():s.addEventListener("readystatechange",m,{once:!0})};f()})}}]),o}(_wrapNativeSuper(EventTarget)),playerMap=new WeakMap,readyMap=new WeakMap,screenfull={},Player$1=function(){function l(a){var o=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_classCallCheck(this,l),window.jQuery&&a instanceof jQuery&&(a.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),a=a[0]),typeof document<"u"&&typeof a=="string"&&(a=document.getElementById(a)),!isDomElement(a))throw new TypeError("You must pass either a valid element or a valid id.");if(a.nodeName!=="IFRAME"){var s=a.querySelector("iframe");s&&(a=s)}if(a.nodeName==="IFRAME"&&!isVimeoUrl(a.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(playerMap.has(a))return playerMap.get(a);this._window=a.ownerDocument.defaultView,this.element=a,this.origin="*";var c=new npo_src(function(f,m){if(o._onMessage=function(y){if(!(!isVimeoUrl(y.origin)||o.element.contentWindow!==y.source)){o.origin==="*"&&(o.origin=y.origin);var _=parseMessageData(y.data),b=_&&_.event==="error",x=b&&_.data&&_.data.method==="ready";if(x){var w=new Error(_.data.message);w.name=_.data.name,m(w);return}var A=_&&_.event==="ready",D=_&&_.method==="ping";if(A||D){o.element.setAttribute("data-ready","true"),f();return}processData(o,_)}},o._window.addEventListener("message",o._onMessage),o.element.nodeName!=="IFRAME"){var g=getOEmbedParameters(a,u),v=getVimeoUrl(g);getOEmbedData(v,g,a).then(function(y){var _=createEmbed(y,a);return o.element=_,o._originalElement=a,swapCallbacks(a,_),playerMap.set(o.element,o),y}).catch(m)}});if(readyMap.set(this,c),playerMap.set(this.element,this),this.element.nodeName==="IFRAME"&&postMessage(this,"ping"),screenfull.isEnabled){var d=function(){return screenfull.exit()};this.fullscreenchangeHandler=function(){screenfull.isFullscreen?storeCallback(o,"event:exitFullscreen",d):removeCallback(o,"event:exitFullscreen",d),o.ready().then(function(){postMessage(o,"fullscreenchange",screenfull.isFullscreen)})},screenfull.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return _createClass(l,[{key:"callMethod",value:function(o){var u=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new npo_src(function(c,d){return u.ready().then(function(){storeCallback(u,o,{resolve:c,reject:d}),postMessage(u,o,s)}).catch(d)})}},{key:"get",value:function(o){var u=this;return new npo_src(function(s,c){return o=getMethodName(o,"get"),u.ready().then(function(){storeCallback(u,o,{resolve:s,reject:c}),postMessage(u,o)}).catch(c)})}},{key:"set",value:function(o,u){var s=this;return new npo_src(function(c,d){if(o=getMethodName(o,"set"),u==null)throw new TypeError("There must be a value to set.");return s.ready().then(function(){storeCallback(s,o,{resolve:c,reject:d}),postMessage(s,o,u)}).catch(d)})}},{key:"on",value:function(o,u){if(!o)throw new TypeError("You must pass an event name.");if(!u)throw new TypeError("You must pass a callback function.");if(typeof u!="function")throw new TypeError("The callback must be a function.");var s=getCallbacks(this,"event:".concat(o));s.length===0&&this.callMethod("addEventListener",o).catch(function(){}),storeCallback(this,"event:".concat(o),u)}},{key:"off",value:function(o,u){if(!o)throw new TypeError("You must pass an event name.");if(u&&typeof u!="function")throw new TypeError("The callback must be a function.");var s=removeCallback(this,"event:".concat(o),u);s&&this.callMethod("removeEventListener",o).catch(function(c){})}},{key:"loadVideo",value:function(o){return this.callMethod("loadVideo",o)}},{key:"ready",value:function(){var o=readyMap.get(this)||new npo_src(function(u,s){s(new Error("Unknown player. Probably unloaded."))});return npo_src.resolve(o)}},{key:"addCuePoint",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:o,data:u})}},{key:"removeCuePoint",value:function(o){return this.callMethod("removeCuePoint",o)}},{key:"enableTextTrack",value:function(o,u){if(!o)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:o,kind:u})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return screenfull.isEnabled?screenfull.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return screenfull.isEnabled?screenfull.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return screenfull.isEnabled?npo_src.resolve(screenfull.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var o=this;return new npo_src(function(u){if(readyMap.delete(o),playerMap.delete(o.element),o._originalElement&&(playerMap.delete(o._originalElement),o._originalElement.removeAttribute("data-vimeo-initialized")),o.element&&o.element.nodeName==="IFRAME"&&o.element.parentNode&&(o.element.parentNode.parentNode&&o._originalElement&&o._originalElement!==o.element.parentNode?o.element.parentNode.parentNode.removeChild(o.element.parentNode):o.element.parentNode.removeChild(o.element)),o.element&&o.element.nodeName==="DIV"&&o.element.parentNode){o.element.removeAttribute("data-vimeo-initialized");var s=o.element.querySelector("iframe");s&&s.parentNode&&(s.parentNode.parentNode&&o._originalElement&&o._originalElement!==s.parentNode?s.parentNode.parentNode.removeChild(s.parentNode):s.parentNode.removeChild(s))}o._window.removeEventListener("message",o._onMessage),screenfull.isEnabled&&screenfull.off("fullscreenchange",o.fullscreenchangeHandler),u()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(o){return this.set("autopause",o)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(o){return this.set("cameraProps",o)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return npo_src.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(o){return this.set("color",o)}},{key:"setColors",value:function(o){if(!Array.isArray(o))return new npo_src(function(c,d){return d(new TypeError("Argument must be an array."))});var u=new npo_src(function(c){return c(null)}),s=[o[0]?this.set("colorOne",o[0]):u,o[1]?this.set("colorTwo",o[1]):u,o[2]?this.set("colorThree",o[2]):u,o[3]?this.set("colorFour",o[3]):u];return npo_src.all(s)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(o){return this.set("currentTime",o)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(o){return this.set("loop",o)}},{key:"setMuted",value:function(o){return this.set("muted",o)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(o){return this.set("playbackRate",o)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(o){return this.set("quality",o)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(o){return this.set("volume",o)}},{key:"setTimingSrc",value:function(){var a=_asyncToGenerator(_regeneratorRuntime().mark(function u(s,c){var d=this,f;return _regeneratorRuntime().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(s){g.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return g.next=4,this.ready();case 4:return f=new TimingSrcConnector(this,s,c),postMessage(this,"notifyTimingObjectConnect"),f.addEventListener("disconnect",function(){return postMessage(d,"notifyTimingObjectDisconnect")}),g.abrupt("return",f);case 8:case"end":return g.stop()}},u,this)}));function o(u,s){return a.apply(this,arguments)}return o}()}]),l}();isNode||(screenfull=initializeScreenfull(),initializeEmbeds(),resizeEmbeds(),initAppendVideoMetadata(),checkUrlTimeParam());let cssInjected=!1;function injectCss(){if(cssInjected)return;cssInjected=!0;const l=`
    .vjs-vimeo iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  `,a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=l:o.appendChild(document.createTextNode(l)),a.appendChild(o)}const Tech=videojs.getTech("Tech");class Vimeo extends Tech{constructor(a,o){super(a,o),injectCss(),this.setPoster(a.poster),this.initVimeoPlayer()}initVimeoPlayer(){const a={url:this.options_.source.src,byline:!1,portrait:!1,title:!1,background:!1,controls:!0,loop:!1};this.options_.autoplay&&(a.autoplay=!0),this.options_.background&&(a.background=!0),this.options_.controls!==void 0&&(a.controls=this.options_.controls),this.options_.height&&(a.height=this.options_.height),this.options_.width&&(a.width=this.options_.width),this.options_.maxheight&&(a.maxheight=this.options_.maxheight),this.options_.maxwidth&&(a.maxwidth=this.options_.maxwidth),this.options_.loop&&(a.loop=this.options_.loop),this.options_.color&&(a.color=this.options_.color.replace(/^#/,"")),this._player=new Player$1(this.el(),a),this._player.ready().catch(()=>this.error(4)),this.initVimeoState(),["play","pause","ended","timeupdate","progress","seeked"].forEach(o=>{this._player.on(o,u=>{this._vimeoState.progress.duration!==u.duration&&this.trigger("durationchange"),this._vimeoState.progress=u,this.trigger(o)})}),this._player.on("pause",()=>this._vimeoState.playing=!1),this._player.on("play",()=>{this._vimeoState.playing=!0,this._vimeoState.ended=!1}),this._player.on("ended",()=>{this._vimeoState.playing=!1,this._vimeoState.ended=!0}),this._player.on("volumechange",o=>this._vimeoState.volume=o),this._player.on("error",o=>this.trigger("error",o)),this.triggerReady()}initVimeoState(){const a=this._vimeoState={ended:!1,playing:!1,volume:0,progress:{seconds:0,percent:0,duration:0}};this._player.getCurrentTime().then(o=>a.progress.seconds=o),this._player.getDuration().then(o=>a.progress.duration=o),this._player.getPaused().then(o=>a.playing=!o),this._player.getVolume().then(o=>a.volume=o)}createEl(){const a=videojs.dom.createEl("div",{id:this.options_.techId});return a.style.cssText="width:100%;height:100%;top:0;left:0;position:absolute",a.className="vjs-vimeo",a}controls(){return!0}supportsFullScreen(){return!0}src(){return this.options_.source}currentSrc(){return this.options_.source.src}currentTime(){return this._vimeoState.progress.seconds}setCurrentTime(a){this._player.setCurrentTime(a)}volume(){return this._vimeoState.volume}setVolume(a){return this._player.setVolume(a)}duration(){return this._vimeoState.progress.duration}buffered(){const a=this._vimeoState.progress;return videojs.createTimeRange(0,a.percent*a.duration)}paused(){return!this._vimeoState.playing}pause(){this._player.pause()}play(){this._player.play()}muted(){return this._vimeoState.volume===0}ended(){return this._vimeoState.ended}playbackRate(){return 1}async getCuePoints(){return await this._player.getCuePoints()}async getChapters(){return await this._player.getChapters()}async getDimensions(){const a=await Promise.all([this._player.getVideoWidth(),this._player.getVideoHeight()]),[o,u]=a;return{width:o,height:u}}}Vimeo.prototype.featuresTimeupdateEvents=!0;Vimeo.isSupported=function(){return!0};Tech.withSourceHandlers(Vimeo);Vimeo.nativeSourceHandler={};Vimeo.nativeSourceHandler.canPlayType=function(l){return l==="video/vimeo"?"maybe":""};Vimeo.nativeSourceHandler.canHandleSource=function(l){return l.type?Vimeo.nativeSourceHandler.canPlayType(l.type):l.src?Vimeo.nativeSourceHandler.canPlayType(l.src):""};Vimeo.nativeSourceHandler.handleSource=function(l,a){a.src(l.src)};Vimeo.nativeSourceHandler.dispose=function(){};Vimeo.registerSourceHandler(Vimeo.nativeSourceHandler);typeof videojs.registerTech<"u"?videojs.registerTech("Vimeo",Vimeo):videojs.registerComponent("Vimeo",Vimeo);Vimeo.VERSION="0.0.1";const DEFAULT_OPTIONS={autoplay:!1,controls:!1,techOrder:["html5","vimeo"]},DEFAULT_VIMEO_OPTIONS={loop:!1},vimeoOptionsFromVJSOptions=({autoplay:l,loop:a,controls:o})=>({autoplay:l,loop:a,controls:o}),_sfc_main$g={__name:"Player",props:{options:{type:Object,default(){return{}}}},emits:["ready","error"],setup(l,{emit:a}){const o=ref();let u;const s=l,c=a,d=async()=>u.tech().getDimensions?await u.tech().getDimensions():{width:u.videoWidth(),height:u.videoHeight()},f=()=>{const g={...DEFAULT_OPTIONS,...s.options},v={...g,vimeo:{...DEFAULT_VIMEO_OPTIONS,...vimeoOptionsFromVJSOptions(g),...g.vimeo}};u=videojs(o.value,v,function(){c("ready",u)}),u.on("error",y=>c("error",u.error())),u.getDimensions=d},m=()=>{u&&u.dispose()};return onMounted(f),onBeforeUnmount(m),(g,v)=>(openBlock(),createElementBlock("video",{ref_key:"videoPlayer",ref:o,class:"video-js"},null,512))}},Player=_export_sfc(_sfc_main$g,[["__scopeId","data-v-4e3aa6de"]]),_hoisted_1$e={key:0,class:"player_wrapper"},_sfc_main$f={__name:"VideoServiceProvider",setup(l,{expose:a}){const o=ref(!1),u=ref(null),s=ref(null),c=ref(null),d=m(async function(_,b){return await VIDEO_SOURCE_TYPES[b].features.getChapters(_.tech())}),f=m(async function(_,b,x,w=0){w&&_.currentTime(w)},!1);function m(y,_=!0){const b=y.name||"anonymous";return{[b]:async(x,w,...A)=>{let D,I=null,N;try{(D=await g(x,w))?I=await y(D,x,w,...A):N=!0}catch(O){N=O}return _&&v(),[I,N]}}[b]}function g(y,_){return new Promise((b,x)=>{u.value={sources:[{type:`video/${y}`,src:_}]},s.value=w=>{c.value=void 0,b(w)},c.value=x,o.value=!0,setTimeout(x,5e3)})}function v(){o.value=!1}return onUnmounted(v),a({getChapters:d,preload:f}),(y,_)=>o.value?(openBlock(),createElementBlock("div",_hoisted_1$e,[createVNode(Player,{onReady:s.value,onError:c.value,options:u.value},null,8,["onReady","onError","options"])])):createCommentVNode("",!0)}},VideoServiceProvider=_export_sfc(_sfc_main$f,[["__scopeId","data-v-5d90e00c"]]),_hoisted_1$d={role:"button"},_hoisted_2$b={key:0,style:{"--span":"4"},class:"s-grid videos-container"},_hoisted_3$a=["id"],_hoisted_4$a={style:{"--span":"2"}},_hoisted_5$7=["onUpdate:modelValue"],_hoisted_6$6={style:{"--span":"1"}},_hoisted_7$6=["onUpdate:modelValue"],_hoisted_8$6=["value"],_hoisted_9$5=["onUpdate:modelValue"],_hoisted_10$5={class:"action_buttons"},_hoisted_11$5=["disabled","aria-busy","onClick"],_hoisted_12$5=["onClick"],_hoisted_13$5={key:0},NEW_VIDEO_DEFAULTS={title:"",sourceType:DEFAULT_VIDEO_SOURCE_TYPE,url:"",thumbnail:"",info:"",audiotracks:[]},NEW_SCENE_DEFAULTS$1={nextSceneId:-1,events:[]},_sfc_main$e={__name:"Videos",props:{store:{type:Object,default(){return{}}}},setup(l,{expose:a}){const o=ref(null),u=useTemplateRef("header"),s=l,c=ref(!1),d=async({id:y,sourceType:_,url:b})=>{c.value=!0;const[x,w]=await o.value.getChapters(_,b);if(x)if(x.length){const A=[];if(x.forEach(({title:D,startTime:I,endTime:N})=>{const O=s.store.addScene({...structuredClone(NEW_SCENE_DEFAULTS$1),videoId:y,title:D,startTime:I,endTime:N});A.push(O)}),A.length>1){const D=A.pop();A.forEach((I,N,O)=>{s.store.updateScene(I,{nextSceneId:O[N+1]||D})})}await alert$1(`${x.length} chapters imported.`)}else await alert$1("Video has no chapters to import.");w&&await alert$1(`Failed to get chapters for video from ${_} source with URL:

${b}`),c.value=!1},f=y=>VIDEO_SOURCE_TYPES[y]?.features?.getChapters,m=computed(()=>s.store.currentStory),g=async(y,_=!1)=>{const b=s.store.getScenesByVideoId(y);let x=!1;b.length&&!(x=await confirm(`### Delete Video - Warning!
<br>This video has ${b.length} related scene${b.length>1?"s":""}:

${b.map(w=>`* ${w.title}`).join(`
`)}
Are you sure you want to delete this video and related scenes?`))||(x||=_,!(!x&&!await confirm(`### Delete Video
<br>Are you sure?`))&&s.store.deleteVideo(y,!0))},v=()=>{const y=s.store.addVideo(structuredClone(NEW_VIDEO_DEFAULTS));u.value.open=!0,nextTick(()=>document.querySelector(`#video_${y} .video_name`).focus())};return a({addVideo:v}),(y,_)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("article",null,[createBaseVNode("details",{ref_key:"header",ref:u,class:"videos_header"},[createBaseVNode("summary",_hoisted_1$d,[createTextVNode("Video Sources ("+toDisplayString(m.value.videos.length)+")",1),createBaseVNode("button",{title:"Add video",onClick:v,class:"add_button"},"+")]),m.value.videos.length?(openBlock(),createElementBlock("div",_hoisted_2$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value.videos,(b,x)=>(openBlock(),createElementBlock(Fragment,{key:x},[createBaseVNode("div",{id:`video_${b.id}`},[createBaseVNode("label",_hoisted_4$a,[createBaseVNode("strong",null,toDisplayString(b.id),1),_[0]||(_[0]=createTextVNode(" - Title")),withDirectives(createBaseVNode("input",{class:"video_name",placeholder:"(Untitled video)",type:"text","onUpdate:modelValue":w=>b.title=w},null,8,_hoisted_5$7),[[vModelText,b.title]])]),createBaseVNode("label",_hoisted_6$6,[_[1]||(_[1]=createTextVNode(" Type ")),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":w=>b.sourceType=w},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Object.values(unref(VIDEO_SOURCE_TYPES)),w=>(openBlock(),createElementBlock("option",{value:w.id,key:w.id},toDisplayString(w.name),9,_hoisted_8$6))),128))],8,_hoisted_7$6),[[vModelSelect,b.sourceType]])]),createBaseVNode("label",null,[_[2]||(_[2]=createTextVNode("URL")),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":w=>b.url=w},null,8,_hoisted_9$5),[[vModelText,b.url]])])],8,_hoisted_3$a),createBaseVNode("div",_hoisted_10$5,[f(b.sourceType)&&b.url.trim()?(openBlock(),createElementBlock("button",{key:0,disabled:c.value,"aria-busy":c.value,onClick:w=>d(b),class:"s-outline"}," Import Chapters as Scenes ",8,_hoisted_11$5)):createCommentVNode("",!0),createBaseVNode("button",{onClick:w=>g(b.id,w.ctrlKey||w.metaKey),title:"Hold Ctrl or ⌘ to skip confirmation"},"Delete",8,_hoisted_12$5)]),x<m.value.videos.length-1?(openBlock(),createElementBlock("hr",_hoisted_13$5)):createCommentVNode("",!0)],64))),128))])):createCommentVNode("",!0)],512)]),createVNode(VideoServiceProvider,{ref_key:"videoInfo",ref:o},null,512)],64))}},Videos=_export_sfc(_sfc_main$e,[["__scopeId","data-v-4048a829"]]),TEMP_VAR_NAME="__tmpActionCode__",getBaseCommands=l=>({setStateValue:(a,o)=>l[a]=o,deleteStateValue:a=>delete l[a]}),runCode=async(l,a,o={})=>{const u=structuredClone(a),s={...getBaseCommands(u),...o};let c=!1;for(const{command:d,args:f}of parser(l,u)){const m=parseCommandProbability(d);if(!s[m.command])throw new Error(`Unknown actionCode command: ${m.command}`);let g;if(Math.random()<m.probability&&(isAsyncFunction(s[m.command])?g=await s[m.command](...f):g=s[m.command](...f),g===null)){c=!0;break}}return{newState:u,bailed:c}};function*parser(l,a){const o=typeof l=="string"?l.trim():"";if(!o)return;const u=o.split(`
`).map(s=>s.trim()).filter(s=>s&&!s.startsWith("//"));for(let s of u){const[c,d]=splitCommandAndArgs(s).map(m=>m.trim()),f=d&&splitArgs(d);yield{command:c,args:f?f.map(m=>getArgValue(m,a)):[]}}}function getArgValue(expression,state){window[TEMP_VAR_NAME]=structuredClone(state);const expr=""+expression,xp=expr.replace(/@([a-zA-Z\_\$]{1}[a-zA-Z0-9\_\$]*)/g,`window.${TEMP_VAR_NAME}["$1"]`);try{return eval(xp)}catch(l){return`Error in expression: ${expression}`}}function splitArgs(l){if(!l)return[];const a=/(?<!\\),/;return l.split(a).map(o=>o.replace(/\\,/g,",")).filter(o=>o)}function isAsyncFunction(l){return l.constructor.name==="AsyncFunction"}function parseCommandProbability(l){const a=/^([^\[\]]+)(?:\[([0-1](?:\.\d+)?|)\])?$/,o=l.match(a);if(!o)throw new Error("Invalid format. Expected 'command' or 'command[probability]' or 'command[]'");const u=o[1].trim(),s=o[2]&&o[2]!==""?parseFloat(o[2]):1;return{command:u,probability:s}}const splitCommandAndArgs=l=>{const a=l.indexOf(":");return a===-1?[l,""]:[l.substring(0,a),l.substring(a+1)]},_hoisted_1$c=["title"],_hoisted_2$a=["disabled"],_hoisted_3$9={style:{"--span":"6"}},_hoisted_4$9={key:0,style:{"--span":"6"}},_hoisted_5$6={style:{display:"flex",gap:"0.5rem"}},_hoisted_6$5=["title"],_hoisted_7$5=["value","title"],_hoisted_8$5=["value"],_hoisted_9$4={key:0,style:{"--span":"3"}},_hoisted_10$4=["title"],_hoisted_11$4=["value","title"],_hoisted_12$4={class:"edit_actions"},_hoisted_13$4=["onClick"],_hoisted_14$3=["onClick"],SIMPLE_COMMANDS={gotoNextScene:{},gotoScene:{requiresScene:!0},setNextScene:{requiresScene:!0}},isSimpleCode=l=>{const a=[...parser(l,{})];if(a.length>1)return!1;if(!a.length)return{};const o=a[0].command,u=a[0].args[0],s=o in SIMPLE_COMMANDS;return!s||s&&SIMPLE_COMMANDS[o].requiresScene&&typeof u!="number"?!1:{command:o,arg:u,requiresScene:SIMPLE_COMMANDS[o].requiresScene}},_sfc_main$d={__name:"ActionCodeEditor",setup(l,{expose:a}){const o=useStoryStore(),u=computed(()=>o.currentStory),s=useTemplateRef("dialog"),c=ref(""),d=ref(""),f=ref(!1),m=ref(""),g=ref(),v=ref(o.getLowestSceneId()),y=computed(()=>SIMPLE_COMMANDS[m.value]?.requiresScene),_=computed(()=>isSimpleCode(O())),b=()=>{navigator.clipboard.writeText(v.value)},x=(B,M="Edit Action(s)")=>(c.value=M,w(B),s.value.launchPopup()),w=B=>{const M=toRaw(B);(f.value=!isSimpleCode(M))?D(M):N(M)},A=()=>{let B=O(!f.value);f.value?D(B):N(B)},D=B=>{d.value=B},I=()=>{const B=m.value;SIMPLE_COMMANDS[B]?.requiresScene&&!g.value&&(g.value=o.getLowestSceneId())},N=B=>{let{command:M,args:j}=[...parser(B,{})][0]||{command:"",args:[]};m.value=M,g.value=j[0]},O=(B=f.value)=>{if(B)return d.value;{let M=m.value;return SIMPLE_COMMANDS[m.value]?.requiresScene&&(M+=":"+g.value),M}};return a({edit:x}),(B,M)=>(openBlock(),createBlock(PopupDialog,{ref_key:"dialog",ref:s,heading:c.value,class:"action-code-s-container"},{default:withCtx(j=>[createBaseVNode("div",null,[createBaseVNode("label",{style:{"--span":"6"},title:!_.value&&"This code cannot be edited in simple mode"},[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":M[0]||(M[0]=L=>f.value=L),disabled:!_.value,onChange:A},null,40,_hoisted_2$a),[[vModelCheckbox,f.value]]),M[5]||(M[5]=createTextVNode(" Advanced editor? "))],8,_hoisted_1$c),f.value?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("label",_hoisted_3$9,[M[6]||(M[6]=createTextVNode(" Action Code ")),withDirectives(createBaseVNode("textarea",{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",rows:"12",placeholder:"(No action)",type:"text","onUpdate:modelValue":M[1]||(M[1]=L=>d.value=L)},null,512),[[vModelText,d.value]])]),f.value?(openBlock(),createElementBlock("label",_hoisted_4$9,[M[7]||(M[7]=createTextVNode(" Scenes (with system IDs) - for reference ")),createBaseVNode("span",_hoisted_5$6,[withDirectives(createBaseVNode("select",{style:{"flex-grow":"1"},"onUpdate:modelValue":M[2]||(M[2]=L=>v.value=L),title:"System ID - "+v.value},[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value.scenes,L=>(openBlock(),createElementBlock("option",{key:L.id,value:L.id,title:"System ID - "+L.id},toDisplayString(`${L.id}:      `+unref(getSceneLabel)(L)),9,_hoisted_7$5))),128))],8,_hoisted_6$5),[[vModelSelect,v.value]]),createBaseVNode("button",{style:{width:"auto","white-space":"nowrap"},onClick:b},"Copy ID to clipboard")])])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("label",{style:normalizeStyle({"--span":y.value?3:6})},[M[9]||(M[9]=createTextVNode(" Command ")),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":M[3]||(M[3]=L=>m.value=L),onChange:I},[M[8]||(M[8]=createBaseVNode("option",{value:""},"(No Action)",-1)),(openBlock(),createElementBlock(Fragment,null,renderList(SIMPLE_COMMANDS,(L,z)=>createBaseVNode("option",{value:z},toDisplayString(z),9,_hoisted_8$5)),64))],544),[[vModelSelect,m.value]])],4),y.value?(openBlock(),createElementBlock("label",_hoisted_9$4,[M[10]||(M[10]=createTextVNode(" Scene ")),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":M[4]||(M[4]=L=>g.value=L),title:"System ID - "+g.value},[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value.scenes,L=>(openBlock(),createElementBlock("option",{key:L.id,value:L.id,title:"System ID - "+L.id},toDisplayString(unref(getSceneLabel)(L)),9,_hoisted_11$4))),128))],8,_hoisted_10$4),[[vModelSelect,g.value]])])):createCommentVNode("",!0)],64))]),M[11]||(M[11]=createBaseVNode("div",null,[createBaseVNode("hr")],-1)),createBaseVNode("div",null,[createBaseVNode("span",_hoisted_12$4,[createBaseVNode("button",{class:"s-outline",onClick:L=>j.setVisible(!1)},"Cancel",8,_hoisted_13$4),createBaseVNode("button",{onClick:()=>j.returnResult(O())},"Accept",8,_hoisted_14$3)])])]),_:1},8,["heading"]))}},ActionCodeEditor=_export_sfc(_sfc_main$d,[["__scopeId","data-v-13b6e3c2"]]),readableActionCode=(l,a)=>{let o=l.command;if(l?.arg&&l?.arg!=="")if(o+=": ",l?.requiresScene){const u=a.getSceneById(l.arg);o+=`"${getSceneLabel(u)}"`}else o+=l?.arg;return o},_sfc_main$c={__name:"ActionCodeInput",props:mergeModels({resize:String},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){useCssVars(f=>({"008d1e2c":c.resize||"none"}));const a=useStoryStore(),o=inject("actionCodeEditor"),u=useModel(l,"modelValue"),s=computed(()=>{const f=isSimpleCode(u.value);return f?readableActionCode(f,a):u.value}),c=l,d=async()=>{const f=await o.value.edit(u.value);f!==null&&(u.value=f)};return(f,m)=>(openBlock(),createElementBlock("span",null,[withDirectives(createBaseVNode("textarea",{title:"Click button to edit",readonly:"",disabled:"",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",placeholder:"No action","onUpdate:modelValue":m[0]||(m[0]=g=>s.value=g)},null,512),[[vModelText,s.value]]),createBaseVNode("button",{onClick:d,title:"Use Action Code Editor"},[createVNode(unref(script),{type:"edit-3",class:"icon button-icon"})]),withDirectives(createBaseVNode("input",{type:"hidden","onUpdate:modelValue":m[1]||(m[1]=g=>u.value=g)},null,512),[[vModelText,u.value]])]))}},ActionCodeInput=_export_sfc(_sfc_main$c,[["__scopeId","data-v-5d7eb4f3"]]),_hoisted_1$b={class:"controls"},_hoisted_2$9=["placeholder"],secondsToFormatted=(l,a=!1)=>{if(l==null||l==-1&&a)return"";const o=Math.floor(l/60),u=l%60;return`${o.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`},formattedToSeconds=l=>{if(!l||l.trim()==="")return null;const a=l.split(":");let o=0,u=0;return a.length===2?(o=parseInt(a[0])||0,u=parseInt(a[1])||0):a.length===1&&(u=parseInt(a[0])||0),u>=60&&(o+=Math.floor(u/60),u=u%60),o*60+u},_sfc_main$b={__name:"VideoTimestamp",props:mergeModels({allowEnd:Boolean,endText:{type:String,default:"END"}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=l,o=()=>s.value=-1,u=computed(()=>a.allowEnd&&s.value==-1?a.endText:"00:00"),s=useModel(l,"modelValue"),c=ref(""),d=ref(!1),f=y=>{let _=y.target.value;if(!_){c.value="",s.value=null;return}if(_=_.replace(/[^\d:]/g,""),d.value){if(_.length>5&&(_=_.substring(0,5)),_.includes(":")){const b=_.split(":");b.length>2&&(_=b[0]+":"+b.slice(1).join(""))}else _.length>2&&(_=_.substring(0,2)+":"+_.substring(2));c.value=_,s.value=formattedToSeconds(_)}},m=()=>{if(d.value=!1,!c.value||c.value.trim()===""){s.value=null,c.value="";return}c.value=secondsToFormatted(s.value,a.allowEnd)},g=()=>{d.value=!0},v=y=>{["ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(y.key)||(/[\d:]/.test(y.key)||y.preventDefault(),y.key===":"&&c.value.includes(":")&&y.preventDefault())};return watch(s,y=>{d.value||(c.value=secondsToFormatted(y,a.allowEnd))}),onMounted(()=>{c.value=secondsToFormatted(s.value,a.allowEnd)}),(y,_)=>(openBlock(),createElementBlock("span",_hoisted_1$b,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=b=>c.value=b),onInput:f,onBlur:m,onFocus:g,onKeydown:v,placeholder:u.value,"aria-label":"Duration in minutes and seconds"},null,40,_hoisted_2$9),[[vModelText,c.value]]),l.allowEnd?(openBlock(),createElementBlock("button",{key:0,onClick:o},[createVNode(unref(script),{title:"Set to end",type:"skip-forward",class:"icon button-icon"})])):createCommentVNode("",!0)]))}},VideoTimestamp2=_export_sfc(_sfc_main$b,[["__scopeId","data-v-455c573e"]]),_hoisted_1$a={style:{"--span":"2"}},_hoisted_2$8=["onChange"],_hoisted_3$8=["value"],_hoisted_4$8={style:{"--span":"2"}},_hoisted_5$5={key:0,style:{"--span":"2"}},_hoisted_6$4=["onChange"],_hoisted_7$4={value:""},_hoisted_8$4=["value"],_hoisted_9$3={style:{"--span":"4.5"}},_hoisted_10$3={style:{"--span":"1.5"},class:"timed_switch"},_hoisted_11$3={key:0},_hoisted_12$3={style:{"--span":"2"}},_hoisted_13$3={style:{"--span":"4"}},_hoisted_14$2={key:1},_hoisted_15$2={style:{"--span":"1"}},_hoisted_16$2={style:{"--span":"3"}},_hoisted_17$2=["onChange"],_hoisted_18$2=["value"],_hoisted_19$1={key:0,style:{"--span":"3"}},_hoisted_20$1={style:{display:"flex","padding-top":"0.25rem"}},_hoisted_21$1={key:1,style:{"--span":"3"}},_hoisted_22$1={style:{display:"flex",gap:"0.5rem","padding-top":"0.25rem"}},_hoisted_23$1={class:"choices_container"},_hoisted_24$1={style:{"margin-bottom":"0.5em"}},_hoisted_25$1=["onUpdate:modelValue"],_hoisted_26$1={style:{width:"50%"}},_hoisted_27$1={style:{"vertical-align":"middle"}},_hoisted_28$1={class:"choice_options"},_hoisted_29$1={key:1},_hoisted_30={class:"edit_event_actions"},_hoisted_31=["onClick"],_hoisted_32=["onClick"],EVENT_TYPES={action:"action",choice:"choice"},EVENT_TYPE_NAMES={[EVENT_TYPES.action]:"Action Event",[EVENT_TYPES.choice]:"Choice"},CHOICE_TYPES={block:"block",timed:"timed"},BACKGROUND_TYPES={blockPause:"blockPause",blockFrame:"blockFrame",blockLoop:"blockLoop"},BACKGROUND_TYPE_NAMES={[BACKGROUND_TYPES.blockPause]:"Current frame",[BACKGROUND_TYPES.blockFrame]:"Specific frame",[BACKGROUND_TYPES.blockLoop]:"Video loop"},BLANK_NEW_EVENT={type:EVENT_TYPES.choice,launchTime:0,data:{text:"",type:"block",options:{},layout:"",layoutSettings:{},buttons:[{text:"Option 1",action:""}]}},_sfc_main$a={__name:"EventEditor",setup(l,{expose:a}){const o=useStoryStore(),u=useTemplateRef("dialog"),s=ref(!1),c=ref(BACKGROUND_TYPES.blockPause),d=ref(EVENT_TYPES.choice),f=ref(""),m=ref({}),g=ref(-1),v=ref(""),y=ref(""),_=ref(1),b=ref(""),x=ref(0),w=ref(-1),A=ref(0),D=ref(Array.from({length:4},()=>({text:"",action:""}))),I=ref(0),N=ref(""),O=inject("layoutSettingsEditor"),B=async()=>{const oe=f.value||o.currentStory.defaultChoiceLayout,ae=await O.value.edit(oe,m.value);ae&&(m.value=ae)},M=()=>{m.value={}},j=oe=>{D.value[oe]={text:"",action:""}},L=oe=>{const ae=D.value;[ae[oe+1],ae[oe]]=[ae[oe],ae[oe+1]]},z=oe=>{const ae=D.value;[ae[oe-1],ae[oe]]=[ae[oe],ae[oe-1]]},W=(oe,ae)=>(se(oe),N.value=ae,u.value.launchPopup()),ne=()=>{if(d.value===EVENT_TYPES.choice)return Y();if(d.value===EVENT_TYPES.action)return V()},V=()=>({type:EVENT_TYPES.action,launchTime:g.value,data:v.value}),Y=()=>{let oe;return s.value?oe={timeLimit:_.value,defaultAction:b.value}:(oe={[BACKGROUND_TYPES.blockPause]:{},[BACKGROUND_TYPES.blockFrame]:{frame:A.value},[BACKGROUND_TYPES.blockLoop]:{loop:[x.value,w.value]}}[c.value],oe.pauseDelay=I.value),{type:EVENT_TYPES.choice,launchTime:g.value,data:{text:y.value,type:s.value?CHOICE_TYPES.timed:CHOICE_TYPES.block,options:oe,layout:f.value,layoutSettings:m.value,buttons:Z()}}},Z=()=>D.value.map(({text:ae,action:Ae})=>({text:ae.trim(),action:Ae.trim()})).filter(ae=>ae.text||ae.action),pe=async(oe={})=>{const ae={...structuredClone(BLANK_NEW_EVENT),...oe};return await W(ae,"Add Event")},ee=async oe=>{const ae=toRaw(oe);return await W(ae,"Edit Event")},se=oe=>{d.value=oe.type,g.value=oe.launchTime,oe.type===EVENT_TYPES.choice&&ge(oe),oe.type===EVENT_TYPES.action&&De(oe)},ge=oe=>{c.value=BACKGROUND_TYPES.blockPause,s.value=oe.data.type==CHOICE_TYPES.timed,y.value=oe.data.text,f.value=oe.data.layout,m.value=oe.data.layoutSettings,x.value=0,w.value=-1,A.value=0,v.value="",I.value=0,s.value?(_.value=oe.data.options.timeLimit,b.value=oe.data.options.defaultAction):(oe.data.options.hasOwnProperty("frame")?(c.value=BACKGROUND_TYPES.blockFrame,A.value=oe.data.options.frame):oe.data.options.hasOwnProperty("loop")&&(c.value=BACKGROUND_TYPES.blockLoop,[x.value,w.value]=oe.data.options.loop),I.value=+oe.data.options?.pauseDelay||0,_.value=5,b.value="");let ae=(Array.isArray(oe.data.buttons)?oe.data.buttons:[]).map(Ae=>Ae.text||Ae.action?Ae:void 0).filter(Ae=>Ae);ae.length<4&&(ae=[...ae,...Array.from({length:4-ae.length},()=>({text:"",action:""}))]),D.value=ae},De=oe=>{v.value=oe.data};return a({createNew:pe,edit:ee}),(oe,ae)=>(openBlock(),createBlock(PopupDialog,{ref_key:"dialog",ref:u,heading:N.value,class:"event-editor-s-container"},{default:withCtx(Ae=>[createBaseVNode("div",null,[createBaseVNode("label",_hoisted_1$a,[ae[13]||(ae[13]=createTextVNode(" Type ")),withDirectives(createBaseVNode("select",{autofocus:"","onUpdate:modelValue":ae[0]||(ae[0]=J=>d.value=J),onChange:Ae.fixScroll},[(openBlock(),createElementBlock(Fragment,null,renderList(EVENT_TYPES,J=>createBaseVNode("option",{value:J},toDisplayString(EVENT_TYPE_NAMES[J]),9,_hoisted_3$8)),64))],40,_hoisted_2$8),[[vModelSelect,d.value]])]),createBaseVNode("label",_hoisted_4$8,[ae[14]||(ae[14]=createTextVNode(" Launch time ")),createVNode(VideoTimestamp2,{"allow-end":"","end-text":"Scene end",style:{"padding-top":"0.25rem",display:"flex"},modelValue:g.value,"onUpdate:modelValue":ae[1]||(ae[1]=J=>g.value=J)},null,8,["modelValue"])]),d.value==EVENT_TYPES.choice?(openBlock(),createElementBlock("label",_hoisted_5$5,[createBaseVNode("span",null,[ae[15]||(ae[15]=createTextVNode("Choice layout")),createVNode(unref(script),{style:{float:"right"},type:"settings",class:"icon",title:"Layout settings",onClick:B})]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":ae[2]||(ae[2]=J=>f.value=J),onChange:()=>{M(),Ae.fixScroll()}},[createBaseVNode("option",_hoisted_7$4,"Project default ("+toDisplayString(unref(LAYOUTS)[unref(o).currentStory.defaultChoiceLayout]?.name)+")",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(LAYOUT_NAMES),J=>(openBlock(),createElementBlock("option",{key:J.id,value:J.id},toDisplayString(J.name),9,_hoisted_8$4))),128))],40,_hoisted_6$4),[[vModelSelect,f.value]])])):createCommentVNode("",!0)]),ae[28]||(ae[28]=createBaseVNode("div",null,[createBaseVNode("hr")],-1)),d.value==EVENT_TYPES.choice?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",null,[createBaseVNode("label",_hoisted_9$3,[ae[16]||(ae[16]=createTextVNode("Main text")),withDirectives(createBaseVNode("input",{placeholder:"n/a",type:"text","onUpdate:modelValue":ae[3]||(ae[3]=J=>y.value=J)},null,512),[[vModelText,y.value]])]),createBaseVNode("span",_hoisted_10$3,[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{type:"checkbox",role:"switch","onUpdate:modelValue":ae[4]||(ae[4]=J=>s.value=J)},null,512),[[vModelCheckbox,s.value]]),ae[17]||(ae[17]=createTextVNode(" Timed choice? "))])])]),s.value?(openBlock(),createElementBlock("div",_hoisted_11$3,[createBaseVNode("label",_hoisted_12$3,[ae[18]||(ae[18]=createTextVNode("Time limit (s)")),withDirectives(createBaseVNode("input",{placeholder:"1",type:"number",min:"1","onUpdate:modelValue":ae[5]||(ae[5]=J=>_.value=J)},null,512),[[vModelText,_.value]])]),createBaseVNode("label",_hoisted_13$3,[ae[19]||(ae[19]=createTextVNode(" Timeout action ")),createVNode(ActionCodeInput,{style:{"padding-top":"0.25rem",height:"2.9rem"},modelValue:b.value,"onUpdate:modelValue":ae[6]||(ae[6]=J=>b.value=J)},null,8,["modelValue"])])])):(openBlock(),createElementBlock("div",_hoisted_14$2,[createBaseVNode("label",_hoisted_15$2,[ae[20]||(ae[20]=createTextVNode("Pause delay")),withDirectives(createBaseVNode("input",{placeholder:"0",type:"number",min:"0","onUpdate:modelValue":ae[7]||(ae[7]=J=>I.value=J)},null,512),[[vModelText,I.value]])]),createBaseVNode("label",_hoisted_16$2,[ae[21]||(ae[21]=createTextVNode(" Background ")),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":ae[8]||(ae[8]=J=>c.value=J),onChange:Ae.fixScroll},[(openBlock(),createElementBlock(Fragment,null,renderList(BACKGROUND_TYPE_NAMES,(J,ve)=>createBaseVNode("option",{value:ve},toDisplayString(J),9,_hoisted_18$2)),64))],40,_hoisted_17$2),[[vModelSelect,c.value]])]),c.value==="blockFrame"?(openBlock(),createElementBlock("label",_hoisted_19$1,[ae[22]||(ae[22]=createTextVNode(" Frame time ")),createBaseVNode("span",_hoisted_20$1,[createVNode(VideoTimestamp2,{style:{"flex-grow":"1"},modelValue:A.value,"onUpdate:modelValue":ae[9]||(ae[9]=J=>A.value=J)},null,8,["modelValue"])])])):createCommentVNode("",!0),c.value==="blockLoop"?(openBlock(),createElementBlock("span",_hoisted_21$1,[ae[24]||(ae[24]=createTextVNode(" Loop range ")),createBaseVNode("span",_hoisted_22$1,[createVNode(VideoTimestamp2,{style:{"flex-grow":"1"},modelValue:x.value,"onUpdate:modelValue":ae[10]||(ae[10]=J=>x.value=J)},null,8,["modelValue"]),ae[23]||(ae[23]=createBaseVNode("span",{style:{"padding-top":"0.75rem"}},"to",-1)),createBaseVNode("span",null,[createVNode(VideoTimestamp2,{style:{"flex-grow":"1"},modelValue:w.value,"onUpdate:modelValue":ae[11]||(ae[11]=J=>w.value=J),"allow-end":"","end-text":"Scene end"},null,8,["modelValue"])])])])):createCommentVNode("",!0)])),ae[27]||(ae[27]=createBaseVNode("div",null,[createBaseVNode("hr")],-1)),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("table",_hoisted_24$1,[ae[25]||(ae[25]=createBaseVNode("caption",{style:{"text-align":"left"}},[createBaseVNode("span",null,"Choice options")],-1)),ae[26]||(ae[26]=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",null,"Text"),createBaseVNode("th",null,"Action"),createBaseVNode("th",{style:{"text-align":"center"}}," ")])],-1)),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(D.value,(J,ve)=>(openBlock(),createElementBlock("tr",{key:ve},[createBaseVNode("td",null,[withDirectives(createBaseVNode("input",{placeholder:"n/a",type:"text","onUpdate:modelValue":de=>J.text=de},null,8,_hoisted_25$1),[[vModelText,J.text]])]),createBaseVNode("td",_hoisted_26$1,[createVNode(ActionCodeInput,{style:{height:"2.6rem"},modelValue:J.action,"onUpdate:modelValue":de=>J.action=de},null,8,["modelValue","onUpdate:modelValue"])]),createBaseVNode("td",_hoisted_27$1,[createBaseVNode("span",_hoisted_28$1,[createVNode(unref(script),{class:normalizeClass({disabled_icon:ve==0,icon:!0}),type:"arrow-up",title:"Move up",onClick:de=>z(ve)},null,8,["class","onClick"]),createVNode(unref(script),{class:normalizeClass({disabled_icon:ve==3,icon:!0}),type:"arrow-down",title:"Move down",onClick:de=>L(ve)},null,8,["class","onClick"]),createVNode(unref(script),{type:"trash-2",class:"icon",title:"Delete",onClick:de=>j(ve)},null,8,["onClick"])])])]))),128))])])])],64)):createCommentVNode("",!0),d.value==EVENT_TYPES.action?(openBlock(),createElementBlock("div",_hoisted_29$1,[createBaseVNode("span",null,[createVNode(ActionCodeInput,{class:"action_event_editor",resize:"vertical",modelValue:v.value,"onUpdate:modelValue":ae[12]||(ae[12]=J=>v.value=J)},null,8,["modelValue"])])])):createCommentVNode("",!0),ae[29]||(ae[29]=createBaseVNode("div",null,[createBaseVNode("hr")],-1)),createBaseVNode("div",null,[createBaseVNode("span",_hoisted_30,[createBaseVNode("button",{class:"s-outline",onClick:J=>Ae.setVisible(!1)},"Cancel",8,_hoisted_31),createBaseVNode("button",{onClick:()=>Ae.returnResult(ne())},"Accept",8,_hoisted_32)])])]),_:1},8,["heading"]))}},EventEditor=_export_sfc(_sfc_main$a,[["__scopeId","data-v-d386bb04"]]),_hoisted_1$9=["open"],_hoisted_2$7={class:"scenes_header_summary",role:"button"},_hoisted_3$7=["id"],_hoisted_4$7={style:{"--span":"1"}},_hoisted_5$4=["onUpdate:modelValue"],_hoisted_6$3={style:{"--span":"3"}},_hoisted_7$3=["onUpdate:modelValue"],_hoisted_8$3={style:{"--span":"3"}},_hoisted_9$2=["onUpdate:modelValue","title"],_hoisted_10$2=["value","title"],_hoisted_11$2={style:{"--span":"1"}},_hoisted_12$2={style:{"--span":"1"}},_hoisted_13$2={style:{"--span":"3"}},_hoisted_14$1=["onUpdate:modelValue"],_hoisted_15$1=["value"],_hoisted_16$1={key:1,value:-1},_hoisted_17$1={class:"events_container"},_hoisted_18$1={style:{"text-align":"left"}},_hoisted_19=["onClick"],_hoisted_20={key:0},_hoisted_21={key:1},_hoisted_22=["innerHTML"],_hoisted_23={key:1},_hoisted_24=["innerHTML"],_hoisted_25={style:{"text-align":"center","font-family":"monospace","text-transform":"uppercase"}},_hoisted_26={style:{display:"flex","justify-content":"center",gap:"1rem"}},_hoisted_27={style:{"justify-items":"end"}},_hoisted_28=["onClick"],_hoisted_29={key:0},NEW_SCENE_DEFAULTS={videoId:-1,title:"",startTime:0,endTime:-1,nextSceneId:-1,events:[]},_sfc_main$9={__name:"Scenes",props:{store:{type:Object,default(){return{}}}},setup(l,{expose:a}){const o=useTemplateRef("header"),u=useTemplateRef("eventEditor"),s=useStoryStore(),c=A=>{const D=isSimpleCode(A);let I;return D?I=readableActionCode(D,s):I=A,I=I.replaceAll("<","&lt;"),I=I.replaceAll(">","&gt;"),I.replaceAll(/\n/g,"<br/>")},d=l,f=computed(()=>d.store.currentStory),m=async(A,D=!1)=>{!D&&!await confirm(`### Delete Scene
<br>Are you sure?`)||d.store.deleteScene(A)},g=A=>A.sort(({launchTime:D},{launchTime:I})=>(D==-1&&(D=1/0),I==-1&&(I=1/0),D-I)),v=()=>{const A=d.store.addScene(structuredClone(NEW_SCENE_DEFAULTS));o.value.open=!0,nextTick(()=>document.querySelector(`#scene_${A} .scene_title`).focus())},y=async A=>{const D={launchTime:A.startTime},I=await u.value.createNew(D);I&&d.store.addEvent(A.id,I)},_=async(A,D)=>{const I=structuredClone(toRaw(D));delete I.id;const N=await u.value.createNew(I);N&&d.store.addEvent(A.id,N)},b=async(A,D)=>{const I=toRaw(D),N=await u.value.edit(I);N&&d.store.updateEvent(A.id,D.id,N)},x=async(A,D,I)=>{!I&&!await confirm(`### Delete Event
<br>Are you sure?`)||d.store.deleteEvent(A.id,D.id)},w=A=>{let D=EVENT_TYPE_NAMES[A.type];return A?.data?.type==CHOICE_TYPES.timed&&(D+=` (${A.data.options.timeLimit}s)`),D};return a({addScene:v}),(A,D)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("article",null,[createBaseVNode("details",{ref_key:"header",ref:o,class:"scenes_header",open:f.value.scenes.length},[createBaseVNode("summary",_hoisted_2$7,[createTextVNode(" Scenes ("+toDisplayString(f.value.scenes.length)+")",1),createBaseVNode("button",{title:"Add scene",onClick:v,class:"add_button"},"+")]),(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value.scenes,(I,N)=>(openBlock(),createElementBlock("div",{style:{"--span":"4"},class:"s-grid scenes-container",key:I.id},[createBaseVNode("div",{id:`scene_${I.id}`},[createBaseVNode("label",_hoisted_4$7,[D[0]||(D[0]=createTextVNode(" Ref. ")),withDirectives(createBaseVNode("input",{placeholder:"--",style:{"font-weight":"bold"},type:"text",stsyle:"width: 50px","onUpdate:modelValue":O=>I.ref=O},null,8,_hoisted_5$4),[[vModelText,I.ref]])]),createBaseVNode("label",_hoisted_6$3,[D[1]||(D[1]=createTextVNode(" Title ")),withDirectives(createBaseVNode("input",{style:{"font-weight":"bold"},class:"scene_title",placeholder:"(No title)",type:"text","onUpdate:modelValue":O=>I.title=O},null,8,_hoisted_7$3),[[vModelText,I.title]])]),createBaseVNode("label",_hoisted_8$3,[D[3]||(D[3]=createTextVNode("Next scene ")),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":O=>I.nextSceneId=O,title:"System ID - "+I.nextSceneId},[D[2]||(D[2]=createBaseVNode("option",{value:-1},"(n/a)",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value.scenes,O=>(openBlock(),createElementBlock("option",{key:O.id,value:O.id,title:"System ID - "+O.id},toDisplayString(unref(getSceneLabel)(O)),9,_hoisted_10$2))),128))],8,_hoisted_9$2),[[vModelSelect,I.nextSceneId]])])],8,_hoisted_3$7),createBaseVNode("div",null,[createBaseVNode("label",_hoisted_11$2,[D[4]||(D[4]=createTextVNode(" Start time ")),createVNode(VideoTimestamp2,{style:{"padding-top":"0.25rem",display:"flex"},modelValue:I.startTime,"onUpdate:modelValue":O=>I.startTime=O},null,8,["modelValue","onUpdate:modelValue"])]),createBaseVNode("label",_hoisted_12$2,[D[5]||(D[5]=createTextVNode(" End time ")),createVNode(VideoTimestamp2,{style:{"padding-top":"0.25rem",display:"flex"},"end-text":"Video end","allow-end":"",modelValue:I.endTime,"onUpdate:modelValue":O=>I.endTime=O},null,8,["modelValue","onUpdate:modelValue"])]),createBaseVNode("label",_hoisted_13$2,[D[7]||(D[7]=createTextVNode("Video ")),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":O=>I.videoId=O},[f.value.videos.length?(openBlock(),createElementBlock(Fragment,{key:0},[D[6]||(D[6]=createBaseVNode("option",{value:-1},"(n/a)",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value.videos,O=>(openBlock(),createElementBlock("option",{idx:"video.id",value:O.id},toDisplayString(O.id)+" - "+toDisplayString(O.title||"(Untitled video)"),9,_hoisted_15$1))),256))],64)):(openBlock(),createElementBlock("option",_hoisted_16$1,"No videos available. Please add one"))],8,_hoisted_14$1),[[vModelSelect,I.videoId]])])]),createBaseVNode("div",_hoisted_17$1,[createBaseVNode("table",{style:normalizeStyle({marginBottom:I.events.length?"0.5em":"0"})},[createBaseVNode("caption",_hoisted_18$1,[D[8]||(D[8]=createBaseVNode("span",null,"Events",-1)),createBaseVNode("button",{class:"btn_addevent",onClick:O=>y(I)},"Add new",8,_hoisted_19)]),I.events.length?(openBlock(),createElementBlock("thead",_hoisted_20,D[9]||(D[9]=[createBaseVNode("tr",null,[createBaseVNode("th",null,"Type"),createBaseVNode("th",null,"Description/Info"),createBaseVNode("th",{style:{"text-align":"center"}},"Launch time"),createBaseVNode("th",{style:{"text-align":"center"}})],-1)]))):createCommentVNode("",!0),I.events.length?(openBlock(),createElementBlock("tbody",_hoisted_21,[(openBlock(!0),createElementBlock(Fragment,null,renderList(g(I.events),O=>(openBlock(),createElementBlock("tr",{key:O.id},[createBaseVNode("td",null,toDisplayString(w(O)),1),O.type===unref(EVENT_TYPES).choice?(openBlock(),createElementBlock("td",{key:0,innerHTML:O.data.text},null,8,_hoisted_22)):(openBlock(),createElementBlock("td",_hoisted_23,[createBaseVNode("div",{class:"action_code_long",innerHTML:c(O.data)},null,8,_hoisted_24)])),createBaseVNode("td",_hoisted_25,toDisplayString(O.launchTime==-1?"Scene end":unref(secondsToFormatted)(O.launchTime)),1),createBaseVNode("td",null,[createBaseVNode("div",_hoisted_26,[createVNode(unref(script),{type:"edit",class:"icon",title:"Edit",onClick:B=>b(I,O)},null,8,["onClick"]),createVNode(unref(script),{type:"copy",class:"icon",title:"New event from a copy of this one",onClick:B=>_(I,O)},null,8,["onClick"]),createVNode(unref(script),{type:"trash-2",class:"icon",title:"Delete - hold Ctrl or ⌘ to skip confirmation",onClick:B=>x(I,O,B.ctrlKey||B.metaKey)},null,8,["onClick"])])])]))),128))])):createCommentVNode("",!0)],4)]),createBaseVNode("div",_hoisted_27,[createBaseVNode("button",{onClick:O=>m(I.id,O.ctrlKey||O.metaKey),style:{width:"fit-content"},title:"Hold Ctrl or ⌘ to skip confirmation"}," Delete ",8,_hoisted_28)]),N<f.value.scenes.length-1?(openBlock(),createElementBlock("hr",_hoisted_29)):createCommentVNode("",!0)]))),128))],8,_hoisted_1$9)]),createVNode(EventEditor,{ref_key:"eventEditor",ref:u},null,512)],64))}},Scenes=_export_sfc(_sfc_main$9,[["__scopeId","data-v-dc2073b7"]]),_hoisted_1$8={class:"col_container"},_hoisted_2$6={class:"controls"},_hoisted_3$6=["placeholder"],_hoisted_4$6=["placeholder"],_sfc_main$8={__name:"ColourInput",props:mergeModels({placeholder:String,buttonTitle:String},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){useCssVars(c=>({"46818bd7":a.value}));const a=useModel(l,"modelValue"),o=useTemplateRef("selector"),u=()=>o.value.click(),s=()=>a.value="";return(c,d)=>(openBlock(),createElementBlock("span",_hoisted_1$8,[createBaseVNode("span",{onClick:u,title:"Choose colour",class:normalizeClass({sample:!0,unset:!a.value})},d[2]||(d[2]=[createBaseVNode("span",null,null,-1)]),2),createBaseVNode("span",_hoisted_2$6,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>a.value=f),placeholder:l.placeholder,type:"text"},null,8,_hoisted_3$6),[[vModelText,a.value]]),createBaseVNode("button",{onClick:s},[createVNode(unref(script),{title:l.buttonTitle,type:"trash-2",class:"icon button-icon"},null,8,["title"])])]),withDirectives(createBaseVNode("input",{class:"col_selector",ref_key:"selector",ref:o,placeholder:l.placeholder,type:"color","onUpdate:modelValue":d[1]||(d[1]=f=>a.value=f)},null,8,_hoisted_4$6),[[vModelText,a.value]])]))}},ColourInput=_export_sfc(_sfc_main$8,[["__scopeId","data-v-ff8e4cec"]]),_hoisted_1$7={style:{"--span":"4"}},_hoisted_2$5={style:{"--span":"4"}},_hoisted_3$5={style:{"--span":"3"}},_hoisted_4$5={key:0,class:"button_input_fix"},_hoisted_5$3=["onUpdate:modelValue"],_hoisted_6$2=["onClick"],_hoisted_7$2=["onUpdate:modelValue"],_hoisted_8$2=["value"],_hoisted_9$1=["onUpdate:modelValue"],_hoisted_10$1=["value"],_hoisted_11$1={class:"edit_actions"},_hoisted_12$1=["onClick"],_hoisted_13$1=["onClick"],FONTS={"var(--vp-sans)":"Sans serif","var(--vp-serif)":"Serif","var(--vp-fancy)":"Fancy","var(--vp-tech":"Tech"},_sfc_main$7={__name:"LayoutSettingsEditor",setup(l,{expose:a}){const o=useTemplateRef("dialog"),u=useTemplateRef("settingsList"),s=ref(""),c=ref(""),d=computed(()=>LAYOUTS[c.value]||{}),f=ref({}),m=(_,b,x="Edit Layout Settings")=>{const w=toRaw(b),A=toRaw(_);return s.value=x,g(A,w),o.value.launchPopup()},g=(_,b)=>{c.value=_;const x=Object.fromEntries(Object.keys(LAYOUTS[_].options).map(w=>[w,""]));f.value={...x,...b},nextTick(()=>u.value.scrollTo({top:0}))},v=()=>y(toRaw(f.value)),y=_=>{const b={..._};for(const x in b){let w=b[x];if(typeof w=="string"&&(w=w.trim()),["",void 0].includes(w)){delete b[x];continue}d.value.options[x].type==="number"&&(b[x]=+w)}return b};return a({edit:m}),(_,b)=>(openBlock(),createBlock(PopupDialog,{ref_key:"dialog",ref:o,heading:s.value,class:"layout-settings-s-container"},{default:withCtx(x=>[createBaseVNode("div",_hoisted_1$7,[createBaseVNode("h6",null,"Layout is '"+toDisplayString(d.value.name)+"':",1),b[0]||(b[0]=createBaseVNode("span",null,"Leave individual settings blank for layout default.",-1)),b[1]||(b[1]=createBaseVNode("hr",null,null,-1))]),createBaseVNode("div",{style:{"--span":"4"},class:"settings_list",ref_key:"settingsList",ref:u},[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value,(w,A)=>(openBlock(),createElementBlock("div",_hoisted_2$5,[createBaseVNode("label",_hoisted_3$5,[createTextVNode(toDisplayString(d.value.options[A]?.name)+" ",1),d.value.options[A].type==="number"?(openBlock(),createElementBlock("span",_hoisted_4$5,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":D=>f.value[A]=D,placeholder:"Default",type:"number"},null,8,_hoisted_5$3),[[vModelText,f.value[A]]]),createBaseVNode("button",{onClick:()=>f.value[A]=""},[createVNode(unref(script),{title:"Remove and use default",type:"trash-2",class:"icon button-icon"})],8,_hoisted_6$2)])):d.value.options[A].type==="colour"?(openBlock(),createBlock(ColourInput,{key:1,class:"button_input_fix",modelValue:f.value[A],"onUpdate:modelValue":D=>f.value[A]=D,placeholder:"Default","button-title":"Remove and use default"},null,8,["modelValue","onUpdate:modelValue"])):typeof d.value.options[A].type=="object"?withDirectives((openBlock(),createElementBlock("select",{key:2,"onUpdate:modelValue":D=>f.value[A]=D},[b[2]||(b[2]=createBaseVNode("option",{value:""},"(Default)",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(d.value.options[A].type,(D,I)=>(openBlock(),createElementBlock("option",{value:I},toDisplayString(D),9,_hoisted_8$2))),256))],8,_hoisted_7$2)),[[vModelSelect,f.value[A]]]):d.value.options[A].type==="font"?withDirectives((openBlock(),createElementBlock("select",{key:3,style:normalizeStyle({fontFamily:`${f.value[A]}, system-ui !important`}),"onUpdate:modelValue":D=>f.value[A]=D},[b[3]||(b[3]=createBaseVNode("option",{style:{fontFamily:"system-ui !important"},value:""},"(Default)",-1)),(openBlock(),createElementBlock(Fragment,null,renderList(FONTS,(D,I)=>createBaseVNode("option",{style:normalizeStyle({fontFamily:`${I}, system-ui !important`}),value:I},toDisplayString(D),13,_hoisted_10$1)),64))],12,_hoisted_9$1)),[[vModelSelect,f.value[A]]]):createCommentVNode("",!0)])]))),256))],512),b[4]||(b[4]=createBaseVNode("div",null,[createBaseVNode("hr")],-1)),createBaseVNode("div",null,[createBaseVNode("span",_hoisted_11$1,[createBaseVNode("button",{class:"s-outline",onClick:w=>x.setVisible(!1)},"Cancel",8,_hoisted_12$1),createBaseVNode("button",{onClick:()=>x.returnResult(v())},"Accept",8,_hoisted_13$1)])])]),_:1},8,["heading"]))}},LayoutSettingsEditor=_export_sfc(_sfc_main$7,[["__scopeId","data-v-101d0e6f"]]),version$2="0.0.1",title$2="Basic Quiz",author$2="VideoPath",info$2="A simple quiz that records answers, shows messages, and provides downloadable results",initialSceneId$2=1,locales$2=["en"],defaultChoiceLayout$2="column_r",defaultChoiceLayoutSettings$2={},videos$2=[{title:"Background Video",sourceType:"mp4",url:"./videos/time.mp4",thumbnail:"",info:"",audiotracks:[],id:1}],scenes$2=[{videoId:1,title:"Main scene for quiz",startTime:0,endTime:21,nextSceneId:-1,events:[{type:"action",launchTime:0,data:`// set up internal state
setStateValue: "correctAnswers",0
setStateValue: "skippedAnswers",0
setStateValue: "Q1Answer",""
setStateValue: "Q2Answer",""
setStateValue: "Q3Answer",""
setStateValue: "Q4Answer",""

// Display a message for the user
showMessage: "## A Timed Quiz\\n<p>Answer each question before the timer runs out!</p>"`,id:9},{type:"choice",launchTime:1,data:{text:"What is 1+2?",type:"timed",options:{timeLimit:4,defaultAction:'setStateValue: "skippedAnswers", @skippedAnswers + 1'},layout:"",layoutSettings:{},buttons:[{text:"12",action:'setStateValue: "Q1Answer", 12'},{text:"3",action:`setStateValue: "Q1Answer", 3
setStateValue: "correctAnswers", @correctAnswers + 1`},{text:"2",action:'setStateValue: "Q1Answer", 2'},{text:"6",action:'setStateValue: "Q1Answer", 6'}]},id:10},{type:"choice",launchTime:6,data:{text:"Which is larger: 7 or 3?",type:"timed",options:{timeLimit:4,defaultAction:'setStateValue: "skippedAnswers", @skippedAnswers + 1'},layout:"",layoutSettings:{},buttons:[{text:"7",action:`setStateValue: "Q2Answer", 7
setStateValue: "correctAnswers", @correctAnswers + 1`},{text:"3",action:'setStateValue: "Q2Answer", 3'}]},id:11},{type:"choice",launchTime:11,data:{text:"What is the capital of Thailand?",type:"timed",options:{timeLimit:4,defaultAction:'setStateValue: "skippedAnswers", @skippedAnswers + 1'},layout:"",layoutSettings:{},buttons:[{text:"Ayuthaya",action:'setStateValue: "Q3Answer", "Ayuthaya"'},{text:"Siam",action:'setStateValue: "Q3Answer", "Siam"'},{text:"Bangkok",action:`setStateValue: "Q3Answer", "Bangkok"
setStateValue: "correctAnswers", @correctAnswers + 1`},{text:"Pattaya",action:'setStateValue: "Q3Answer", "Pattaya"'}]},id:12},{type:"choice",launchTime:16,data:{text:"What colour is the sky?",type:"timed",options:{timeLimit:4,defaultAction:'setStateValue: "skippedAnswers", @skippedAnswers + 1'},layout:"",layoutSettings:{colour_button1:"#0080ff",colour_button2:"#ff0000",colour_button3:"#fdd102",colour_button4:"#008040",colour_background:"#000000"},buttons:[{text:"Blue",action:`setStateValue: "Q4Answer", "Blue"
setStateValue: "correctAnswers", @correctAnswers + 1`},{text:"Red",action:'setStateValue: "Q4Answer", "Red"'},{text:"Yellow",action:'setStateValue: "Q4Answer", "Yellow"'},{text:"Green",action:'setStateValue: "Q4Answer", "Green"'}]},id:13},{type:"action",launchTime:-1,data:`showMessage: '## Results\\n* Correct answers:' + @correctAnswers + '\\n* Skipped answers: ' + @skippedAnswers + '\\n\\nClick \\'OK\\' to download data'

downloadData: 'Q1|Q2|Q3|Q4|Correct|Skipped', @Q1Answer + '|' + @Q2Answer + '|' + @Q3Answer + '|' + @Q4Answer + '|' + @correctAnswers + '|' + @skippedAnswers  `,id:14}],id:1}],initialState$2={},translations$2={},quiz={version:version$2,title:title$2,author:author$2,info:info$2,initialSceneId:initialSceneId$2,locales:locales$2,defaultChoiceLayout:defaultChoiceLayout$2,defaultChoiceLayoutSettings:defaultChoiceLayoutSettings$2,videos:videos$2,scenes:scenes$2,initialState:initialState$2,translations:translations$2},version$1="0.0.1",title$1="Branching",author$1="VideoPath",info$1="A simple project demonstrating instant and end-of-scene branching",initialSceneId$1=1,locales$1=["en"],defaultChoiceLayout$1="basic",defaultChoiceLayoutSettings$1={},videos$1=[{title:"Clock",sourceType:"mp4",url:"./videos/time.mp4",thumbnail:"",info:"",audiotracks:[],id:1},{title:"Fireworks countdown",sourceType:"mp4",url:"./videos/01.mp4",thumbnail:"",info:"",audiotracks:[],id:2},{title:"Vintage cinema countdown",sourceType:"mp4",url:"./videos/02.mp4",thumbnail:"",info:"",audiotracks:[],id:3},{title:"Racing countdown",sourceType:"mp4",url:"./videos/07.mp4",thumbnail:"",info:"",audiotracks:[],id:4},{title:"Hacker countdown",sourceType:"mp4",url:"./videos/04.mp4",thumbnail:"",info:"",audiotracks:[],id:5}],scenes$1=[{videoId:1,title:"Intro",startTime:0,endTime:-1,nextSceneId:-1,events:[{type:"action",launchTime:1,data:'showMessage:"## Scene Branching\\n<p>This project demonstrates immediate branching with `gotoScene`\\, and branching at the end of a scene with `setNextScene`.</p>"',id:2},{type:"choice",launchTime:4,data:{text:"Where would you like to go right now?",type:"block",options:{pauseDelay:0},layout:"",layoutSettings:{},buttons:[{text:"Fireworks countdown",action:"gotoScene:2"},{text:"Vintage cinema countdown",action:"gotoScene:3"}]},id:1}],id:1},{videoId:2,title:"Fireworks countdown",startTime:0,endTime:-1,nextSceneId:4,events:[{type:"choice",launchTime:3,data:{text:"Where would you like to go at the end of this scene?",type:"block",options:{pauseDelay:0},layout:"",layoutSettings:{},buttons:[{text:"Racing countdown",action:"setNextScene:4"},{text:"Hacker countdown",action:"setNextScene:5"}]},id:1}],id:2},{videoId:3,title:"Vintage cinema countdown",startTime:0,endTime:-1,nextSceneId:5,events:[{type:"choice",launchTime:3,data:{text:"Where would you like to go at the end of this scene?",type:"block",options:{pauseDelay:0},layout:"",layoutSettings:{},buttons:[{text:"Hacker countdown",action:"setNextScene:5"},{text:"Racing countdown",action:"setNextScene:4"}]},id:1}],id:3},{videoId:4,title:"Racing countdown",startTime:0,endTime:-1,nextSceneId:-1,events:[],id:4},{videoId:5,title:"Hacker countdown",startTime:0,endTime:-1,nextSceneId:-1,events:[],id:5}],initialState$1={},translations$1={},branching={version:version$1,title:title$1,author:author$1,info:info$1,initialSceneId:initialSceneId$1,locales:locales$1,defaultChoiceLayout:defaultChoiceLayout$1,defaultChoiceLayoutSettings:defaultChoiceLayoutSettings$1,videos:videos$1,scenes:scenes$1,initialState:initialState$1,translations:translations$1},version="0.0.1",title="Randomness",author="VideoPath",info="A project demonstrating how to introduce randomness",initialSceneId=1,locales=["en"],defaultChoiceLayout="basic",defaultChoiceLayoutSettings={},videos=[{title:"Clock",sourceType:"mp4",url:"./videos/time.mp4",thumbnail:"",info:"",audiotracks:[],id:1},{title:"Fireworks countdown",sourceType:"mp4",url:"./videos/01.mp4",thumbnail:"",info:"",audiotracks:[],id:2},{title:"Vintage cinema countdown",sourceType:"mp4",url:"./videos/02.mp4",thumbnail:"",info:"",audiotracks:[],id:3},{title:"Racing countdwon",sourceType:"mp4",url:"./videos/07.mp4",thumbnail:"",info:"",audiotracks:[],id:4}],scenes=[{videoId:1,title:"Intro",startTime:0,endTime:10,nextSceneId:2,events:[{type:"action",launchTime:1,data:'showMessage:"## Randomness\\n<p>This project demonstrates how randomness can be added to projects using probabilistic action execution.</p>"',id:2},{type:"choice",launchTime:4,data:{text:"Three possible scenes are next (fireworks, racing, and a film countdown)",type:"block",options:{pauseDelay:0},layout:"",layoutSettings:{},buttons:[{text:"Go to a random scene now",action:`// initially set the scene to go to to 2
setStateValue:"myScene",2

// a 1 in 3 chance it will change to scene 3
setStateValue[0.333]:"myScene",3

// a 1 in 3 chance it will change to scene 4
setStateValue[0.333]:"myScene",4

// go to the scene we picked
gotoScene:@myScene`},{text:"Go to a random scene after this one",action:`// initially set the scene to go to to 2
setStateValue:"myScene",2

// a 1 in 3 chance it will change to scene 3
setStateValue[0.333]:"myScene",3

// a 1 in 3 chance it will change to scene 4
setStateValue[0.333]:"myScene",4

// set the next scene to our value
setNextScene:@myScene`}]},id:1}],id:1},{videoId:2,title:"Fireworks countdown",startTime:0,endTime:-1,nextSceneId:-1,events:[],id:2},{videoId:3,title:"Vintage film countdown",startTime:0,endTime:-1,nextSceneId:-1,events:[],id:3},{videoId:4,title:"Racing countdown",startTime:0,endTime:-1,nextSceneId:-1,events:[],id:4}],initialState={},translations={},random={version,title,author,info,initialSceneId,locales,defaultChoiceLayout,defaultChoiceLayoutSettings,videos,scenes,initialState,translations},SAMPLES=[quiz,branching,random],_hoisted_1$6={style:{"--span":"4"}},_hoisted_2$4=["onChange"],_hoisted_3$4=["value","title"],_hoisted_4$4={style:{"--span":"4"}},_hoisted_5$2={readonly:""},_hoisted_6$1={class:"actions"},_hoisted_7$1=["onClick"],_hoisted_8$1=["onClick"],TEMPLATES=[{name:"Blank project",description:"A new, blank project with basic structure.",data:EMPTY_STORY},...SAMPLES.map(l=>({name:"[Sample] - "+l.title,description:l.info,data:l}))],_sfc_main$6={__name:"NewProjectDialog",setup(l,{expose:a}){const o=useTemplateRef("dialog"),u=ref(0),s=computed(()=>TEMPLATES[u.value].description);return a({getTemplate:()=>(u.value=0,o.value.launchPopup())}),(d,f)=>(openBlock(),createBlock(PopupDialog,{ref_key:"dialog",ref:o,heading:"New Project",class:"new-project-container"},{default:withCtx(m=>[createBaseVNode("div",null,[createBaseVNode("label",_hoisted_1$6,[f[1]||(f[1]=createTextVNode(" Please select the project template or sample you wish to start from: ")),withDirectives(createBaseVNode("select",{autofocus:"","onUpdate:modelValue":f[0]||(f[0]=g=>u.value=g),onChange:m.fixScroll},[(openBlock(),createElementBlock(Fragment,null,renderList(TEMPLATES,(g,v)=>createBaseVNode("option",{value:v,title:g.description},toDisplayString(g.name),9,_hoisted_3$4)),64))],40,_hoisted_2$4),[[vModelSelect,u.value]])]),createBaseVNode("label",_hoisted_4$4,[f[2]||(f[2]=createTextVNode("Template/sample description")),createBaseVNode("textarea",_hoisted_5$2,toDisplayString(s.value),1)])]),createBaseVNode("div",null,[createBaseVNode("span",_hoisted_6$1,[createBaseVNode("button",{class:"s-outline",onClick:g=>m.setVisible(!1)},"Cancel",8,_hoisted_7$1),createBaseVNode("button",{onClick:()=>m.returnResult(TEMPLATES[u.value].data)},"Go",8,_hoisted_8$1)])])]),_:1},512))}},NewProjectDialog=_export_sfc(_sfc_main$6,[["__scopeId","data-v-676d75a0"]]),_hoisted_1$5={class:"s-container"},_hoisted_2$3={class:"s-grid"},_hoisted_3$3={style:{"--span":"12","--span-11":"2"}},_hoisted_4$3={class:"side_nav"},_hoisted_5$1={id:"side-navigation",class:"svelte-1jn03lf"},_hoisted_6={style:{"--span":"12","--span-11":"10"}},_hoisted_7={key:0,class:"current_filename"},_hoisted_8={style:{"--span":"4"},class:"s-grid"},_hoisted_9={style:{"--span":"5"}},_hoisted_10={style:{"--span":"3"}},_hoisted_11=["title"],_hoisted_12={key:0,value:-1,title:"kermit"},_hoisted_13=["value","title"],_hoisted_14={key:2,value:-1},_hoisted_15={style:{"--span":"5"}},_hoisted_16={style:{"--span":"3"}},_hoisted_17=["value"],_hoisted_18={style:{"--span":"8"}},_sfc_main$5={__name:"Edit",props:{action:String},setup(l){const a=useStoryStore(),o=computed(()=>a.currentStory),u=storeToRefs(a).currentFilename,s=computed(()=>a.isSaved?"":"*"),c=useRouter(),d=l,f=useTemplateRef("storyTitle"),m=useTemplateRef("videos"),g=useTemplateRef("scenes"),v=()=>m.value&&m.value.addVideo(),y=()=>g.value&&g.value.addScene(),_=useTemplateRef("layoutSettingsEditor");provide("layoutSettingsEditor",_);const b=useTemplateRef("actionCodeEditor");provide("actionCodeEditor",b);const x=useTemplateRef("newProjectDialog");onMounted(()=>{inject("setWindowTitle")("Edit"),d.action&&(w(d.action),c.replace("/edit"))});const w=z=>({new:I,load:D}[z]||(()=>{}))(),A=ref(!1),D=(z=!0)=>{A.value=z},I=async()=>{if(!await L())return;const z=await x.value.getTemplate();z&&(a.newStory(z),nextTick(()=>f.value.focus()))},N=async()=>{const z=await _.value.edit(o.value.defaultChoiceLayout,o.value.defaultChoiceLayoutSettings,"Edit Settings for Default Layout");z&&(o.value.defaultChoiceLayoutSettings=z)},O=()=>{o.value.defaultChoiceLayoutSettings={}},B=async()=>{if(D(!1),!await L())return;const z=await a.pickStory();z&&(await a.loadStory(z),window.scrollTo(0,0))},M=async()=>{const z=await a.chooseStoryFilename();z&&await a.saveStory(z.trim())},j=async()=>{let z=a.getSharingURL(c),W=z;z=await URLShortener(z),await navigator.clipboard.writeText(z||W),await alert$1(`A link for viewing this project has been successfully copied to your clipboard!${z?"":`

 Unfortunately, the URL shortener is not working right now though.`}

 

[${z||W}](${z||W})`)},L=async()=>a.isSaved?!0:await confirm("Current story is unsaved. Continue?");return(z,W)=>{const ne=resolveComponent("RouterLink");return openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("div",null,[createBaseVNode("aside",_hoisted_3$3,[createBaseVNode("nav",_hoisted_4$3,[createBaseVNode("menu",_hoisted_5$1,[createBaseVNode("li",null,[createBaseVNode("a",{href:"#",onClick:withModifiers(I,["prevent"])},"Create new")]),createBaseVNode("li",{class:normalizeClass({highlight:A.value})},[createBaseVNode("a",{href:"#",onClick:withModifiers(B,["prevent"])},"Load existing")],2),createBaseVNode("li",null,[createBaseVNode("a",{href:"#",onClick:withModifiers(M,["prevent"])},"Save current "+toDisplayString(s.value),1)]),createBaseVNode("li",null,[createVNode(ne,{to:"/view"},{default:withCtx(()=>W[5]||(W[5]=[createTextVNode("View project")])),_:1})]),createBaseVNode("li",null,[createBaseVNode("a",{href:"#",onClick:withModifiers(j,["prevent"]),title:"Share a link for viewing this project"},"Share view link")]),W[6]||(W[6]=createBaseVNode("li",{class:"menu_div"},null,-1)),createBaseVNode("li",null,[createBaseVNode("a",{href:"#",onClick:withModifiers(v,["prevent"])},"Add new video")]),createBaseVNode("li",null,[createBaseVNode("a",{href:"#",onClick:withModifiers(y,["prevent"])},"Add new scene")])])])]),createBaseVNode("main",_hoisted_6,[W[12]||(W[12]=createBaseVNode("br",null,null,-1)),createBaseVNode("article",null,[createBaseVNode("header",null,[createBaseVNode("h2",null,[createBaseVNode("span",{class:normalizeClass({missing:!o.value.title})},toDisplayString(o.value.title||"No name"),3),unref(u)?(openBlock(),createElementBlock("span",_hoisted_7," ("+toDisplayString(unref(u))+")",1)):createCommentVNode("",!0)])]),createBaseVNode("form",null,[createBaseVNode("div",_hoisted_8,[createBaseVNode("div",null,[createBaseVNode("label",_hoisted_9,[W[7]||(W[7]=createTextVNode("Project name")),withDirectives(createBaseVNode("input",{ref_key:"storyTitle",ref:f,placeholder:"(No name)",type:"text","onUpdate:modelValue":W[0]||(W[0]=V=>o.value.title=V)},null,512),[[vModelText,o.value.title]])]),createBaseVNode("label",_hoisted_10,[W[8]||(W[8]=createTextVNode("Initial scene ")),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":W[1]||(W[1]=V=>o.value.initialSceneId=V),title:"System ID - "+o.value.initialSceneId},[o.value.scenes.length?(openBlock(),createElementBlock("option",_hoisted_12,"Please select a scene...")):createCommentVNode("",!0),o.value.scenes.length?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(o.value.scenes,V=>(openBlock(),createElementBlock("option",{key:V.id,value:V.id,title:"System ID - "+V.id},toDisplayString(V.id)+" - "+toDisplayString(V.title||"(No title)"),9,_hoisted_13))),128)):(openBlock(),createElementBlock("option",_hoisted_14,"None available. Please add one"))],8,_hoisted_11),[[vModelSelect,o.value.initialSceneId]])]),createBaseVNode("label",_hoisted_15,[W[9]||(W[9]=createTextVNode("Author")),withDirectives(createBaseVNode("input",{placeholder:"n/a",type:"text","onUpdate:modelValue":W[2]||(W[2]=V=>o.value.author=V)},null,512),[[vModelText,o.value.author]])]),createBaseVNode("label",_hoisted_16,[createBaseVNode("span",null,[W[10]||(W[10]=createTextVNode("Default choice layout")),createVNode(unref(script),{style:{float:"right"},type:"settings",class:"icon","aria-describedby":"settings-tooltip",title:"Layout settings",onClick:N})]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":W[3]||(W[3]=V=>o.value.defaultChoiceLayout=V),onChange:O},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(LAYOUT_NAMES),V=>(openBlock(),createElementBlock("option",{key:V.id,value:V.id},toDisplayString(V.name),9,_hoisted_17))),128))],544),[[vModelSelect,o.value.defaultChoiceLayout]])]),createBaseVNode("label",_hoisted_18,[W[11]||(W[11]=createTextVNode("Info")),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":W[4]||(W[4]=V=>o.value.info=V),rows:"3"},null,512),[[vModelText,o.value.info]])])])])])]),createVNode(Videos,{ref:"videos",store:unref(a)},null,8,["store"]),createVNode(Scenes,{ref:"scenes",store:unref(a)},null,8,["store"]),createVNode(LayoutSettingsEditor,{ref_key:"layoutSettingsEditor",ref:_},null,512),createVNode(ActionCodeEditor,{ref_key:"actionCodeEditor",ref:b},null,512),createVNode(NewProjectDialog,{ref_key:"newProjectDialog",ref:x},null,512)])])])])}}},Edit=_export_sfc(_sfc_main$5,[["__scopeId","data-v-7a14204b"]]),_hoisted_1$4={key:0,class:"timer"},_hoisted_2$2={key:1,class:"message"},_hoisted_3$2={class:"buttons"},_hoisted_4$2=["onClick"],_sfc_main$4={__name:"Choices",props:{message:{type:String,default:""},buttons:{type:Array,default:[]},timeLimit:{type:Number,default:0},layout:{type:String,default:""},layoutSettings:{type:Object,default(){return{}}}},emits:["choiceMade"],setup(l,{emit:a}){useCssVars(m=>({"4cb169a8":l.timeLimit+"s"}));const o=l,u=ref([!1,!1,!1,!1]),s=ref(!1),c=computed(()=>Object.fromEntries(Object.entries(o.layoutSettings).map(([m,g])=>[`--${m}`,g])));onMounted(()=>{o.timeLimit&&setTimeout(()=>s.value=!0,100)});const d=a,f=(m,g)=>{u.value=u.value.map((v,y)=>y===g),d("choiceMade",m)};return(m,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass({choice_container:!0,[l.layout]:!0}),style:normalizeStyle(c.value)},[l.timeLimit?(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",{class:normalizeClass({time_indicator:!0,go:s.value})}," ",2)])):createCommentVNode("",!0),l.message?(openBlock(),createElementBlock("div",_hoisted_2$2,toDisplayString(l.message),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.buttons,(v,y)=>(openBlock(),createElementBlock("div",{class:normalizeClass({button:!0,[`choice_${y+1}`]:!0,highlighted:u.value[y]}),key:`${y}-${v.text}`,onClick:_=>f(v,y)},toDisplayString(v.text),11,_hoisted_4$2))),128))])],6))}},Choices=_export_sfc(_sfc_main$4,[["__scopeId","data-v-b0e0795b"]]);function useWindowSize(l=void 0){const a=ref(window.innerWidth),o=ref(window.innerHeight);function u(){a.value=window.innerWidth,o.value=window.innerHeight,l&&l({width:a.value,height:o.value})}function s(){window.removeEventListener("resize",u)}return onMounted(()=>window.addEventListener("resize",u)),onUnmounted(s),{width:a,height:o,stopWatching:s}}function downloadCSV(l,a=null,o="download.csv"){let u="";function s(m){const g=typeof m=="string"?m:String(m);return g.includes('"')?`"${g.replace(/"/g,'""')}"`:g.includes(",")?`"${g}"`:g}a&&a.length&&(u+=a.map(s).join(",")+`
`),u+=l.map(m=>Array.isArray(m)?m.map(s).join(","):s(m)).join(`
`);const c=new Blob([u],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),f=URL.createObjectURL(c);d.href=f,d.setAttribute("download",o),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),setTimeout(()=>URL.revokeObjectURL(f),100)}const getLibraryActions=({getCurrentScene:l,announceDone:a,videoJS:o,blockChoiceActive:u,timedChoiceActive:s})=>({gotoScene(c){return a({nextSceneId:c}),null},setNextScene(c){const d=l();d.nextSceneId=c},gotoNextScene(){const c=l();if(c.nextSceneId!==-1)return a({nextSceneId:c.nextSceneId}),null},async showMessage(c){const d=!u()&&!s()&&!o.paused();d&&o.pause(),await alert$1(c),d&&o.play()},downloadData(...c){const d=c.map(f=>f.split("|"));downloadCSV(d,null,"data.csv")}}),_hoisted_1$3=["title"],_hoisted_2$1={key:0,height:"100%",width:"100%",version:"1.1",id:"btn_abort",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 60 60","xml:space":"preserve"},_hoisted_3$1={key:1,height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 60 60","xml:space":"preserve"},_hoisted_4$1={key:0},noop=()=>{},_sfc_main$3={__name:"StoryPlayer",props:{data:{type:Object,default:null},containerEl:{type:Object,default:null},doStart:{type:Function,default:null},doAbort:{type:Function,default:null},handleDoubleClick:{type:Function,default:()=>{}}},emits:["ready","error","showable"],setup(l,{expose:a,emit:o}){useCssVars(de=>({bf991818:v.value+"px","6f4e95db":f.value,eb96452c:m.value+"px","07335cc3":g.value+"px"}));const u=l,s=o,c=de=>{u.handleDoubleClick(de)},{isFullscreen:d}=useFullscreen(),f=ref(1),m=ref(1),g=ref(1),v=ref(1),y=ref(!1),_=ref(!1);let b,x;const w=ref();let A,D,I=!1,N=noop,O=0;const B=useTemplateRef("serviceProviders");onMounted(()=>{u.data.scenes&&u.data.scenes.length&&nextTick(()=>{u.data.scenes.forEach((de,xe)=>{const{type:te,src:_e}=pe(de);B.value[xe].preload(te.replace("video/",""),_e,de.startTime)})})});const M=computed(()=>{if(w.value)return w.value.layout||u.data.defaultChoiceLayout||DEFAULT_LAYOUT}),j=computed(()=>w?{...!w.value.layout&&u.data.defaultChoiceLayout?u.data.defaultChoiceLayoutSettings:{},...w.value.layoutSettings}:{}),L=()=>{y.value?u.doAbort&&u.doAbort():u.doStart&&u.doStart(),setTimeout(()=>V({width:window.innerWidth,height:window.innerHeight}),250)},z=de=>{b=window.videoJS=de,setTimeout(W,1e3),V(),s("showable",{videoJS:b})},W=(de=!0)=>{b.getDimensions().then(xe=>{f.value=xe.width/xe.height,m.value=xe.width,g.value=xe.height,de&&s("ready",{videoJS:b})})},ne=({width:de=void 0,height:xe=void 0})=>{b&&(de!==void 0&&xe!==void 0?b.dimensions(de,xe):de!==void 0?b.dimension("width",de):xe!==void 0&&b.dimensions("height",xe))},V=({width:de,height:xe}={})=>{ne({width:u.containerEl.clientWidth}),de&&xe&&(_.value=f.value<=de/xe),v.value=d.value&&_.value?document.getElementsByClassName("video-js")[0].clientHeight:u.containerEl.clientHeight};let{stopWatching:Y}=useWindowSize(V);const Z=(de=!0)=>{const xe=()=>setTimeout(()=>V({width:window.innerWidth,height:window.innerHeight}),250);de?document.querySelector("html").requestFullscreen().then(xe):document.exitFullscreen().then(xe)},pe=de=>ee(se(de.videoId)),ee=({sourceType:de,url:xe})=>({type:"video/"+de,src:xe}),se=de=>u.data.videos.find(xe=>xe.id===de),ge=de=>toRaw(u.data.scenes.find(xe=>xe.id===de)),oe={sources:[pe(ge(u.data.initialSceneId))]};async function ae(de=void 0){let xe=u.data.initialSceneId;W(!1),x=structuredClone(toRaw(u.data.initialState));let te,_e;if(de?.aborted)return Ae({aborted:!0,error:"Playback aborted"});y.value=!0;do{if(_e=ge(xe),te=await J(_e,de),te?.aborted||te?.error)return Ae(te);xe=te.nextSceneId}while(xe!==!1);return te}function Ae(de){return y.value=!1,b.el_&&!b.paused()&&b.pause(),de}function J(de,xe=void 0){return new Promise(te=>{const _e=[],Se=getLibraryActions({announceDone:Q,getCurrentScene(){return de},videoJS:b,blockChoiceActive(){return A},timedChoiceActive(){return D}}),ke=()=>Q({aborted:!0,error:"Playback aborted"});function Me(){G(),Be();const le=pe(de);(le.type!==b.currentType()||le.src!==b.currentSrc())&&b.src(le),!de.startTime&&!b.currentTime()?b.play():b.currentTime(de.startTime)}function Be(){w.value=null,O&&clearTimeout(O),O=0,N=noop,A=!1,I=!1}function H(){Be(),G(!1)}const G=(le=!0)=>{Object.entries(Ee).forEach(([we,Re])=>b[le?"on":"off"](we,Re)),xe?.[le?"addEventListener":"removeEventListener"]("abort",ke)};function Q(le){H(),te(le)}let ue=!1;async function ie(){if(!ue){ue=!0;for(const le of de.events)le.launchTime==-1&&!_e.includes(le.id)&&(le.type==EVENT_TYPES$1.choice?await fe(le):await fe(le));de.nextSceneId!==-1?Q({nextSceneId:de.nextSceneId}):Q({nextSceneId:!1,finalState:x}),ue=!1}}async function fe(le){if(_e.push(le.id),le.type==EVENT_TYPES$1.action)await he(le.data);else if(le.type=EVENT_TYPES$1.choice)return await ce(le.data)}async function ce(le){le.type==CHOICE_TYPES$1.block?await be(le):ye(le)}function be(le){let we,Re;function Ne(){we=!b.paused(),b.pause(),Re=b.currentTime(),le?.options?.frame!==void 0&&b.currentTime(le.options.frame),le?.options?.loop!==void 0&&(b.currentTime(le.options.loop[0]),I=le.options.loop,b.play())}const Le=le?.options?.pauseDelay||0;return Le?setTimeout(Ne,Le*1e3):Ne(),new Promise(He=>{A=!0;let Ie;const We=()=>{if(Be(),Ie?.bailed){He();return}(le?.options?.frame!==void 0||le?.options?.loop!==void 0)&&b.currentTime(Re),we&&b.play(),He()};N=Ge=>{Ge.action?he(Ge.action).then(rt=>{Ie=rt,We()}):We()},w.value=le})}function ye(le){const we=le?.options?.timeLimit;we&&(N=async Re=>{Re.action&&await he(Re.action),Be(),D=!1},w.value={...le,timeLimit:we},D=!0,O=setTimeout(async()=>{le?.options?.defaultAction&&await he(le.options.defaultAction),Be(),D=!1},100+we*1e3))}async function he(le){const we=await Pe(le);return x=structuredClone(toRaw(we.newState)),we}async function Pe(le){return await runCode(le,x,Se)}const Ee={async timeupdate(){const le=b.currentTime();A||(de.endTime!==-1&&le>=de.endTime&&(b.pause(),await ie()),de.events.forEach(async Ne=>{Ne.launchTime!==-1&&le>=Ne.launchTime&&!_e.includes(Ne.id)&&await fe(Ne)}));const[we,Re]=I||[];if(we!==void 0&&Re!==void 0){let Ne=Re===-1?de.endTime:Re;Ne!==-1&&le>=Ne&&b.currentTime(we)}},async ended(){if(!I)b.pause(),await ie();else{const[le,we]=I;we==-1&&(b.currentTime(le),b.play())}},seeked(){if(b.paused()){if(A)return;b.currentTime()==de.startTime?b.play():b.currentTime(de.startTime)}}};Me()})}function ve(){Y()}return onUnmounted(ve),a({isFullscreen:d,goFullscreen:Z,playbackActive:y,start:ae}),(de,xe)=>(openBlock(),createElementBlock("div",{class:normalizeClass({player_container:!0,[_.value?"full_screen_superwide":"full_screen"]:unref(d)})},[createVNode(Player,{onReady:z,options:unref(oe)},null,8,["options"]),createBaseVNode("div",{class:"overlay",onDblclick:c},[l.doStart&&l.doAbort?(openBlock(),createElementBlock("div",{key:0,title:y.value?"Reset":"Start",class:normalizeClass({playback_button:!0,playing:y.value}),onClick:L},[y.value?(openBlock(),createElementBlock("svg",_hoisted_2$1,xe[0]||(xe[0]=[createBaseVNode("g",null,[createBaseVNode("path",{d:"M16,44h28V16H16V44z M18,18h24v24H18V18z"}),createBaseVNode("path",{d:`M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30
		S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z`})],-1)]))):(openBlock(),createElementBlock("svg",_hoisted_3$1,xe[1]||(xe[1]=[createBaseVNode("g",null,[createBaseVNode("path",{d:`M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30
		c0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15
		C45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z`}),createBaseVNode("path",{d:`M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30
		S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z`})],-1)])))],10,_hoisted_1$3)):createCommentVNode("",!0),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[w.value?(openBlock(),createBlock(Choices,{key:0,timeLimit:w.value.timeLimit,message:w.value.text,buttons:w.value.buttons,layout:M.value,"layout-settings":j.value,onChoiceMade:unref(N)},null,8,["timeLimit","message","buttons","layout","layout-settings","onChoiceMade"])):createCommentVNode("",!0)]),_:1})],32),u?.data?.scenes?.length?(openBlock(),createElementBlock("div",_hoisted_4$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.data.scenes,(te,_e)=>(openBlock(),createBlock(VideoServiceProvider,{ref_for:!0,ref:"serviceProviders"},null,512))),256))])):createCommentVNode("",!0)],2))}},StoryPlayer=_export_sfc(_sfc_main$3,[["__scopeId","data-v-7080ddfa"]]),_hoisted_1$2={class:"s-container"},_hoisted_2={key:1,class:"unplayable_message"},_hoisted_3={class:"buttons"},_hoisted_4=["disabled"],_hoisted_5=["disabled"],_sfc_main$2={__name:"View",props:{data:String},setup(l){const a=useStoryStore(),o=ref(),u=ref(),s=ref(),c=ref(!1),d=ref(!1),f=ref(null),m=ref(!0),g=()=>c.value=!0,v=()=>d.value=!0;let y=!1,_;const b=l,x=()=>s.value.goFullscreen(!s.value.isFullscreen),w=async()=>{_=new AbortController;const I=await s.value.start(_.signal);I.aborted||(Object.entries(I.finalState).length,document.fullscreen&&document.exitFullscreen(),D())},A=()=>{const I=useRoute();if(y||I?.name=="play"){const N=y||a.uncompressStoryData(b.data);return y=structuredClone(N),N||(useRouter().replace({name:"unknown"}),null)}else return toRaw(a.currentStory)},D=()=>{_.abort(),m.value=!1,o.value=A(),nextTick(()=>m.value=!0)};return onMounted(()=>{o.value=A(),inject("setWindowTitle")(o.value?.title),u.value=a.isStoryPlayable(o.value)}),(I,N)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("main",{ref_key:"mainViewContainer",ref:f,style:normalizeStyle([{"--span":"12"},{visibility:d.value||!u.value?"visible":"hidden"}]),class:"main_view_container"},[m.value&&u.value?(openBlock(),createBlock(StoryPlayer,{key:0,"do-start":w,"do-abort":D,onReady:g,onShowable:v,data:o.value,ref_key:"player",ref:s,"handle-double-click":x,containerEl:f.value},null,8,["data","containerEl"])):createCommentVNode("",!0),u.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2,N[2]||(N[2]=[createTextVNode("Current project is not playable."),createBaseVNode("br",null,null,-1),createTextVNode("Please check for a valid start scene and video.")])))],4),createBaseVNode("div",_hoisted_3,[createBaseVNode("button",{disabled:!c.value,onClick:N[0]||(N[0]=()=>s.value?.playbackActive?D():w())},toDisplayString(s.value?.playbackActive?"Reset":"Start"),9,_hoisted_4),createBaseVNode("button",{disabled:!u.value,style:{width:"30%"},onClick:N[1]||(N[1]=(...O)=>s.value.goFullscreen&&s.value.goFullscreen(...O))},"Full Screen",8,_hoisted_5)])]))}},View=_export_sfc(_sfc_main$2,[["__scopeId","data-v-f38e6235"]]),_hoisted_1$1={class:"s-container"},_sfc_main$1={__name:"Help",setup(l){return onMounted(()=>{inject("setWindowTitle")("Help")}),(a,o)=>(openBlock(),createElementBlock("div",_hoisted_1$1,o[0]||(o[0]=[createBaseVNode("h1",null,"Help",-1)])))}},_hoisted_1={class:"s-container"},_sfc_main={__name:"Test",setup(l){window.US=URLShortener;const a=ref(""),o=useTemplateRef("serviceProviders");onMounted(()=>{inject("setWindowTitle")("Test"),nextTick(()=>{o.value.forEach((N,O)=>{const B=O;N.preload("mp4",`/videos/0${O}.mp4`,B)})})});const u={gotoScene(N){console.log("go to scene "+N)}},s=()=>{const B=runCode(`setStateValue: 'myVal',1
gotoScene: 8
gotoScene: @jonScene
gotoScene: @myVal
setStateValue: 'keyName', 'myKey'
setStateValue: 'myVal', @myVal+36
setStateValue: 'myVal', 'Hello' + @myVal
setStateValue: @keyName, 'String test'`,{jonScene:48},u).newState;console.log(B)},c=ref();let d;const{isFullscreen:f}=useFullscreen(),m=N=>{d=window.videoJS=N,d.getDimensions().then(O=>console.log(O))},g=N=>console.error("Player error:",N),v={sources:[{type:"video/vimeo",src:"https://player.vimeo.com/video/1025039220?h=1d3c27a454"},{type:"video/vimeo",src:"https://player.vimeo.com/video/1013449905?h=9f1e8eb33a"}],vimeo:{}},y=()=>document.querySelector("html").requestFullscreen(),_=()=>d.play(),b=()=>d.pause(),x=()=>d.currentTime(43),w=()=>alert("Clicked a floating button over video"),A=()=>VIDEO_SOURCE_TYPES.vimeo.features.getChapters(d.tech()).then(N=>alert(JSON.stringify(N,null," "))),D=()=>{Dropbox.choose({success:function(N){alert("Here's the file link: "+N[0].link),alert("Here's the file name: "+N[0].name),alert("Here's the file id: "+N[0].id)},linkType:"direct"})},I=()=>{const N=btoa("Hello world! "+new Date().toLocaleString());Dropbox.save("data:text/plain;charset=utf-8;base64,"+N,"hello.txt",{})};return(N,O)=>(openBlock(),createElementBlock("div",_hoisted_1,[O[5]||(O[5]=createBaseVNode("h1",null,"Testing",-1)),createBaseVNode("div",{class:normalizeClass({player_container:!0,full_screen:unref(f)})},[createVNode(Player,{width:"800px",onReady:m,onError:g,ref:c.value,options:v},null,512),createBaseVNode("div",{onClick:w,class:"floating_test"})],2),createBaseVNode("div",{class:"buttons"},[createBaseVNode("button",{onClick:y},"Full screen"),createBaseVNode("button",{onClick:_},"Play"),createBaseVNode("button",{onClick:b},"Pause"),createBaseVNode("button",{onClick:x},"Jump to 43s")]),O[6]||(O[6]=createBaseVNode("br",null,null,-1)),createBaseVNode("div",{class:"buttons"},[createBaseVNode("button",{onClick:D},"Dropbox choose..."),createBaseVNode("button",{onClick:I},"Dropbox save..."),createBaseVNode("button",{onClick:A},"Chapters Info"),createBaseVNode("button",{onClick:s},"Test ActionCode")]),createBaseVNode("div",null,[createVNode(VideoTimestamp2,{"allow-end":"",modelValue:a.value,"onUpdate:modelValue":O[0]||(O[0]=B=>a.value=B)},null,8,["modelValue"]),O[3]||(O[3]=createBaseVNode("br",null,null,-1)),createBaseVNode("strong",null,"Timestamp: "+toDisplayString(a.value),1),O[4]||(O[4]=createBaseVNode("br",null,null,-1)),createBaseVNode("button",{onClick:O[1]||(O[1]=()=>a.value="96")},"Set timestamp to 96"),createBaseVNode("button",{onClick:O[2]||(O[2]=()=>a.value="")},"Set timestamp to empty")]),(openBlock(),createElementBlock(Fragment,null,renderList(10,B=>createVNode(VideoServiceProvider,{ref_for:!0,ref:"serviceProviders"},null,512)),64))]))}},Test=_export_sfc(_sfc_main,[["__scopeId","data-v-a9d29c8f"]]),routes=[{path:"/",name:"home",component:Home},{path:"/edit/:action?",name:"edit",component:Edit,props:!0},{path:"/view",name:"view",component:View},{path:"/play/:data(.*)",name:"play",component:View,props:!0},{path:"/help",name:"help",component:_sfc_main$1},{path:"/test",name:"test",component:Test},{path:"/:catchAll(.*)*",name:"unknown",component:_sfc_main$i}],router=createRouter({history:createWebHashHistory(),routes}),pinia=createPinia();createApp(_sfc_main$j).use(router).use(pinia).mount("#app");useStoryStore();
